import{_ as n,c as s,o as a,a as e}from"./app.14440598.js";const g='{"title":"Tour of Webpack","description":"","frontmatter":{"slug":"templates-webpack","title":"Tour of Webpack"},"headers":[{"level":3,"title":"Entry points","slug":"entry-points"},{"level":3,"title":"Output","slug":"output"},{"level":3,"title":"Vendor Output","slug":"vendor-output"},{"level":3,"title":"Loaders","slug":"loaders"},{"level":3,"title":"Plugins","slug":"plugins"},{"level":3,"title":"/wwwroot WebRoot Path for .NET Framework Templates","slug":"wwwroot-webroot-path-for-net-framework-templates"},{"level":3,"title":"Deployments","slug":"deployments"},{"level":3,"title":"Loading Dependencies","slug":"loading-dependencies"},{"level":3,"title":"Webpack builds","slug":"webpack-builds"},{"level":2,"title":"Development workflow","slug":"development-workflow"},{"level":3,"title":"Gulp Tasks","slug":"gulp-tasks"},{"level":3,"title":"Webpack watch","slug":"webpack-watch"},{"level":3,"title":"Live reload with Webpack Dev Server","slug":"live-reload-with-webpack-dev-server"}],"relativePath":"templates-webpack.md","lastUpdated":1634495308450}',t={},o=e(`__VP_STATIC_START__<p><a href="https://webpack.js.org" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/ssvs/webpack-overview.png" alt=""></a></p><p>Webpack powers many npm-based Single Page App templates to enable a flexible and feature-rich development model whose defaults in <strong>webpack.config.js</strong> will be able to support a large number of Web Apps without modification, leaving you free to focus on developing your App.</p><p>Webpack works natively with npm packages and is used to handle <strong>all client assets</strong> which can leverage its <a href="https://webpack.github.io/docs/list-of-loaders.html" target="_blank" rel="noopener noreferrer">vast ecosystem</a> of <a href="https://webpack.js.org/concepts/loaders/" target="_blank" rel="noopener noreferrer">loaders</a> and <a href="https://webpack.js.org/concepts/plugins/" target="_blank" rel="noopener noreferrer">plugins</a> to handle every kind of web asset, performing the necessary transformations to transpile it into the native formats browsers understand, loading it in browsers and generating source maps so their original source files can be debugged. The Webpack configuration is customized per build type where the optimal configuration is used in development for faster builds and easier debuggability whilst production builds are optimized for performance, size and cacheability.</p><p>Although as Webpack is the central hub powering each template you&#39;ll still want to become familiar with its <a href="https://webpack.js.org/concepts/" target="_blank" rel="noopener noreferrer">four high-level concepts</a> to understand how it&#39;s new approach to Single Page App development works and how it can handle all your App&#39;s dependencies and resources.</p><p>We&#39;ll quickly touch on each of Webpack&#39;s concepts by seeing how the React App&#39;s <a href="https://github.com/ServiceStack/Templates/blob/master/src/SinglePageApps/ReactApp/ReactApp/webpack.config.js" target="_blank" rel="noopener noreferrer">webpack.config.js</a> is configured to handle its TypeScript sources, sass/css files and their references.</p><h3 id="entry-points" tabindex="-1"><a href="https://webpack.js.org/concepts/entry-points/" target="_blank" rel="noopener noreferrer">Entry points</a> <a class="header-anchor" href="#entry-points" aria-hidden="true">#</a></h3><p>Webpack builds a graph of your App&#39;s dependencies which it traverses starting from its entry points, this is the input into Webpack where its given the App&#39;s entry point.</p><h4 id="webpack-config-js" tabindex="-1"><a href="https://github.com/NetFrameworkTemplates/react-desktop-apps-netfx/blob/master/MyApp/webpack.config.js" target="_blank" rel="noopener noreferrer">webpack.config.js</a> <a class="header-anchor" href="#webpack-config-js" aria-hidden="true">#</a></h4><div class="language-js"><pre><code>entry<span class="token operator">:</span> isTest <span class="token operator">?</span> <span class="token constant">NONE</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    app<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&#39;./src/main.ts&#39;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h4 id="webpack-config-vendor-js" tabindex="-1"><a href="https://github.com/NetFrameworkTemplates/react-desktop-apps-netfx/blob/master/MyApp/webpack.config.vendor.js" target="_blank" rel="noopener noreferrer">webpack.config.vendor.js</a> <a class="header-anchor" href="#webpack-config-vendor-js" aria-hidden="true">#</a></h4><p>A separate <strong>vendor</strong> Webpack configuration is maintained for 3rd party Vendor dependencies independent from your App&#39;s code-base so they only need to be compiled once when adding a new dependency instead of each time your App changes. To include another vendor library in the vendor build, add the module name or the resource your App uses in the <code>VENDOR</code> collection, e.g:</p><div class="language-js"><pre><code><span class="token keyword">const</span> <span class="token constant">VENDOR</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">&#39;bootstrap/dist/css/bootstrap.css&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;font-awesome/css/font-awesome.css&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;es6-shim&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;@servicestack/client&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;vue&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;vue-router&#39;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

entry<span class="token operator">:</span> <span class="token punctuation">{</span> vendor<span class="token operator">:</span> <span class="token constant">VENDOR</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="output" tabindex="-1"><a href="https://webpack.js.org/concepts/output/" target="_blank" rel="noopener noreferrer">Output</a> <a class="header-anchor" href="#output" aria-hidden="true">#</a></h3><p>On the opposite end of Webpack&#39;s build are its outputs where we tell it where to bundle our App:</p><div class="language-js"><pre><code>output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token function">root</span><span class="token punctuation">(</span><span class="token string">&#39;wwwroot/dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    publicPath<span class="token operator">:</span> <span class="token string">&#39;/dist/&#39;</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> isProd <span class="token operator">?</span> <span class="token string">&#39;[name].[chunkhash].bundle.js&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;[name].bundle.js&#39;</span><span class="token punctuation">,</span>
    chunkFilename<span class="token operator">:</span> isProd <span class="token operator">?</span> <span class="token string">&#39;[name].[chunkhash].js&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>Here we can see that our Webpack config supports multiple <a href="https://github.com/NetCoreTemplates/vue-spa/blob/9f4c81c9f6dc5e1e812238357853eb0ea08bac51/MyApp/webpack.config.js#L5-L6" target="_blank" rel="noopener noreferrer">isProd and isDev</a> configurations, <code>isDev</code> is used for development builds where Webpack bundles our website in the <code>/dist</code> folder whilst <code>isProd</code> is used for production builds which is instead bundled in the <code>/wwwroot/dist</code> folder with each <code>.js</code> bundle including a <strong>[chunkhash]</strong> cache-breaker in its filename.</p><blockquote><p>The <code>root()</code> and <code>when()</code> functions used are basic <a href="https://github.com/NetCoreTemplates/vue-spa/blob/9f4c81c9f6dc5e1e812238357853eb0ea08bac51/MyApp/webpack.config.js#L158-L164" target="_blank" rel="noopener noreferrer">helpers used to simplify webpack configuration</a></p></blockquote><h3 id="vendor-output" tabindex="-1">Vendor Output <a class="header-anchor" href="#vendor-output" aria-hidden="true">#</a></h3><p>The Vendor Webpack configuration utilizes <a href="https://webpack.js.org/plugins/dll-plugin/" target="_blank" rel="noopener noreferrer">Webpack&#39;s DllPlugin</a> to generate a <code>vendor.dll.css</code> and a <code>vendor.dll.js</code> containing the Vendor&#39;s compiled <code>.css</code> and <code>.js</code> bundles:</p><div class="language-js"><pre><code><span class="token keyword">const</span> extractCSS <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token string">&#39;vendor.dll.css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token function">root</span><span class="token punctuation">(</span><span class="token string">&#39;wwwroot/dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    publicPath<span class="token operator">:</span> <span class="token string">&#39;dist/&#39;</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">&#39;[name].dll.js&#39;</span><span class="token punctuation">,</span>
    library<span class="token operator">:</span> <span class="token string">&#39;[name]_[hash]&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    extractCSS<span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;wwwroot&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;[name]-manifest.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        name<span class="token operator">:</span> <span class="token string">&#39;[name]_[hash]&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre></div><p>It also generates <code>vendor-manifest.json</code> which is referenced in the App&#39;s <a href="https://github.com/NetCoreTemplates/vue-spa/blob/9f4c81c9f6dc5e1e812238357853eb0ea08bac51/MyApp/webpack.config.js#L134-L136" target="_blank" rel="noopener noreferrer">webpack.config.js</a> to tell it which dependencies are included in the vendor bundles so they don&#39;t need to be compiled with the App:</p><div class="language-js"><pre><code>plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token operator">...</span><span class="token function">when</span><span class="token punctuation">(</span><span class="token operator">!</span>isTest<span class="token punctuation">,</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            context<span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
            manifest<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./wwwroot/dist/vendor-manifest.json&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><p>Utilizing Webpack .dll&#39;s plugin for your vendor dependencies allows for faster compilation times as they don&#39;t need to be recompiled when your App changes.</p><h3 id="loaders" tabindex="-1"><a href="https://webpack.js.org/concepts/loaders/" target="_blank" rel="noopener noreferrer">Loaders</a> <a class="header-anchor" href="#loaders" aria-hidden="true">#</a></h3><p>Loaders are the flexible engine that sets Webpack apart where it&#39;s able to leverage its <a href="https://webpack.github.io/docs/list-of-loaders.html" target="_blank" rel="noopener noreferrer">vast ecosystem</a> where there&#39;s a loader for every kind of web asset typically used when developing Web Apps.</p><p>Loaders are configured in the <code>rules</code> section and invoked using node&#39;s <code>require()</code> statement or ES6/TypeScript&#39;s <code>import</code> statement. Rules use the <code>test</code> regex to specify which files they should apply to whilst the <code>loader</code> property tells Webpack which loader to load them with. Each loader is self-contained in a separate npm package that needs to be made available to your project by adding them to your <a href="https://github.com/NetCoreTemplates/vue-spa/blob/9f4c81c9f6dc5e1e812238357853eb0ea08bac51/MyApp/package.json#L31" target="_blank" rel="noopener noreferrer">package.json devDependencies</a>.</p><p>Lets checkout Vue&#39;s loader configuration for a typical example:</p><div class="language-js"><pre><code><span class="token keyword">const</span> postcssLoader <span class="token operator">=</span> <span class="token punctuation">{</span>
    loader<span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span> plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;precss&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;autoprefixer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            loader<span class="token operator">:</span> <span class="token string">&#39;vue-loader&#39;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
                loaders<span class="token operator">:</span> <span class="token punctuation">{</span>
                    scss<span class="token operator">:</span> <span class="token string">&#39;vue-style-loader!css-loader!sass-loader&#39;</span><span class="token punctuation">,</span>
                    sass<span class="token operator">:</span> <span class="token string">&#39;vue-style-loader!css-loader!sass-loader?indentedSyntax&#39;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.tsx?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            loader<span class="token operator">:</span> <span class="token string">&#39;ts-loader&#39;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
                appendTsSuffixTo<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                transpileOnly<span class="token operator">:</span> isTest
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            exclude<span class="token operator">:</span> <span class="token punctuation">[</span>isTest <span class="token operator">?</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(e2e)\\.ts$</span><span class="token regex-delimiter">/</span></span> <span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(spec|e2e)\\.ts$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.html$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            loader<span class="token operator">:</span> <span class="token string">&#39;html-loader&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            enforce<span class="token operator">:</span> <span class="token string">&quot;pre&quot;</span><span class="token punctuation">,</span>
            test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> 
            loader<span class="token operator">:</span> <span class="token string">&quot;source-map-loader&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(jpe?g|gif|png|ico|svg|wav|mp3)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
            loader<span class="token operator">:</span> <span class="token string">&#39;file-loader&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>isProd 
                <span class="token operator">?</span> <span class="token string">&#39;?hash=sha512&amp;digest=hex&amp;name=img/[name].[hash].[ext]&#39;</span> 
                <span class="token operator">:</span> <span class="token string">&#39;?name=img/[name].[ext]&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(eot|ttf|woff|woff2)(\\?v=\\d+\\.\\d+\\.\\d+)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            loader<span class="token operator">:</span> isProd 
                <span class="token operator">?</span> <span class="token string">&#39;url-loader?limit=10000&amp;name=img/[name].[hash].[ext]&#39;</span> 
                <span class="token operator">:</span> <span class="token string">&#39;file-loader?name=img/[name].[ext]&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token operator">...</span><span class="token function">when</span><span class="token punctuation">(</span>isDev <span class="token operator">||</span> isTest<span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                use<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span> postcssLoader <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(sass|scss)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                use<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span> postcssLoader<span class="token punctuation">,</span> <span class="token string">&#39;sass-loader&#39;</span> <span class="token punctuation">]</span> 
            <span class="token punctuation">}</span><span class="token punctuation">,</span>            
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token operator">...</span><span class="token function">when</span><span class="token punctuation">(</span>isProd<span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                loader<span class="token operator">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    fallback<span class="token operator">:</span> <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
                    use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;css-loader?minimize&#39;</span><span class="token punctuation">,</span> postcssLoader<span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(sass|scss)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                loader<span class="token operator">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    fallback<span class="token operator">:</span> <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
                    use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;css-loader?minimize&#39;</span><span class="token punctuation">,</span> postcssLoader<span class="token punctuation">,</span> <span class="token string">&#39;sass-loader&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>This configuration instructs Webpack to load any <code>.ts</code> or <code>.tsx</code> files using the <a href="https://www.npmjs.com/package/ts-loader" target="_blank" rel="noopener noreferrer">TypeScript loader for webpack</a> which is then responsible for compiling the source files with TypeScript&#39;s compiler.</p><p>Loaders are also chainable as seen in the <code>.css</code> and <code>.scss</code> rules which starts from right-to-left where the output of the rightmost loader is passed into the next loader on its left and so on.</p><div class="language-js"><pre><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    use<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span> postcssLoader <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>Here the <code>.css</code> contents are first processed with <a href="https://github.com/postcss/postcss-loader" target="_blank" rel="noopener noreferrer">postcssLoader</a> which uses <a href="https://github.com/jonathantneal/precss" target="_blank" rel="noopener noreferrer">precss</a> to let you use basic sass-like features in vanilla <code>.css</code> files and <a href="https://github.com/postcss/autoprefixer" target="_blank" rel="noopener noreferrer">autoprefixer</a> which lets you write clean standard css rules like:</p><div class="language-css"><pre><code><span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Which autoprefixer will expand to include vendor prefixes, maximizing support for older browser versions:</p><div class="language-css"><pre><code><span class="token selector">a</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> -webkit-flex<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> -ms-flexbox<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex
<span class="token punctuation">}</span>
</code></pre></div><p>The output of <code>postcssLoader</code> then gets passed into <a href="https://github.com/webpack-contrib/css-loader" target="_blank" rel="noopener noreferrer">css-loader</a> which processes any css <code>@import()</code> and <code>@url()</code> rules and loads them with Webpack&#39;s <code>require()</code> to ensure its references are also processed by Webpack.</p><p>The output of <code>css-loader</code> then gets passed into <a href="https://github.com/webpack-contrib/style-loader" target="_blank" rel="noopener noreferrer">style-loader</a> who injects the resulting css fragments within <code>&lt;style&gt;&lt;/style&gt;</code> tags in the browser&#39;s DOM which is how Web App styles in development builds are still visible despite their being no <code>.css</code> files written. <a href="http://sass-lang.com/" target="_blank" rel="noopener noreferrer">Sass</a> <code>.scss</code> files are handled similarly to <code>.css</code> files except they&#39;re initially loaded with <a href="https://github.com/webpack-contrib/sass-loader" target="_blank" rel="noopener noreferrer">sass-loader</a> which converts them into <code>.css</code>. Both these rules together let you use your preferred choice of <code>.scss</code> or <code>.css</code> files to style your Web App.</p><p>There&#39;s a separate configuration needed for Production builds which is configured to minify the css and write their contents out into separate <code>.css</code> bundles as defined in the plugins section below:</p><h3 id="plugins" tabindex="-1"><a href="https://webpack.js.org/concepts/plugins/" target="_blank" rel="noopener noreferrer">Plugins</a> <a class="header-anchor" href="#plugins" aria-hidden="true">#</a></h3><p>Loaders only loads and transforms files on a <strong>per-file</strong> basis, anything more advanced requires using plugins. In this template plugins are used to:</p><ol><li>Set type of Webpack build so other loaders/plugins can optimize accordingly</li><li>Ignores watching the <code>/wwwroot</code> folder for any changes during watched builds</li><li>References the <strong>vendor</strong> <code>.js</code> and <code>.css</code> bundles in the App&#39;s Webpack build</li><li>Generate the WebApps <code>index.html</code>, based on <a href="https://github.com/NetFrameworkTemplates/react-desktop-apps-netfx/blob/master/MyApp/index.template.ejs" target="_blank" rel="noopener noreferrer">index.template.ejs</a> and compiled with <a href="https://lodash.com/docs/4.17.4#template" target="_blank" rel="noopener noreferrer">lodash template</a>, which also takes care of injecting any <code>.css</code> and <code>.js</code> output bundle references</li><li>Injects the vendor <code>.js</code> and <code>.css</code> bundles in the generated <code>wwwroot/index.html</code></li></ol><div class="language-js"><pre><code>plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">&#39;_process.env.NODE_ENV&#39;</span><span class="token operator">:</span> isDev <span class="token operator">?</span> <span class="token string">&#39;&quot;development&quot;&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;&quot;production&quot;&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>WatchIgnorePlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">root</span><span class="token punctuation">(</span><span class="token string">&quot;wwwroot&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">...</span><span class="token function">when</span><span class="token punctuation">(</span><span class="token operator">!</span>isTest<span class="token punctuation">,</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            context<span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
            manifest<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./wwwroot/dist/vendor-manifest.json&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            template<span class="token operator">:</span> <span class="token string">&#39;index.template.ejs&#39;</span><span class="token punctuation">,</span>
            filename<span class="token operator">:</span> <span class="token string">&#39;../index.html&#39;</span><span class="token punctuation">,</span>
            inject<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">AddAssetHtmlPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> filepath<span class="token operator">:</span> <span class="token function">root</span><span class="token punctuation">(</span><span class="token string">&#39;wwwroot/dist/*.dll.js&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">AddAssetHtmlPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> filepath<span class="token operator">:</span> <span class="token function">root</span><span class="token punctuation">(</span><span class="token string">&#39;wwwroot/dist/*.dll.css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> typeOfAsset<span class="token operator">:</span> <span class="token string">&#39;css&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">...</span><span class="token function">when</span><span class="token punctuation">(</span>isProd<span class="token punctuation">,</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>LoaderOptionsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> minimize<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> filename<span class="token operator">:</span> <span class="token string">&#39;[name].[chunkhash].css&#39;</span><span class="token punctuation">,</span> allChunks<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> compress<span class="token operator">:</span> <span class="token punctuation">{</span> warnings<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="wwwroot-webroot-path-for-net-framework-templates" tabindex="-1">/wwwroot WebRoot Path for .NET Framework Templates <a class="header-anchor" href="#wwwroot-webroot-path-for-net-framework-templates" aria-hidden="true">#</a></h3><p>To simplify migration efforts of ServiceStack projects between .NET Core and .NET Framework, all SPA and Website Templates are configured to use .NET Core&#39;s convention of <code>/wwwroot</code> for its public WebRoot Path. The 2 adjustments needed to support this was configuring ServiceStack to use the <code>/wwwroot</code> path in AppHost:</p><div class="language-csharp"><pre><code><span class="token function">SetConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">HostConfig</span> <span class="token punctuation">{</span>
    WebHostPhysicalPath <span class="token operator">=</span> <span class="token function">MapProjectPath</span><span class="token punctuation">(</span><span class="token string">&quot;~/wwwroot&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="deployments" tabindex="-1">Deployments <a class="header-anchor" href="#deployments" aria-hidden="true">#</a></h3><p>When your App is ready to deploy, run the <code>publish</code> npm (or Gulp) script to package your App for deployment:</p><div class="language-bash"><pre><code><span class="token function">npm</span> run publish
</code></pre></div><p>Which creates a production build of your App where the <code>.css</code> files are written using <a href="https://github.com/webpack-contrib/extract-text-webpack-plugin" target="_blank" rel="noopener noreferrer">ExtractTextPlugin</a> and the resulting <code>.js</code> files minified with UglifyJS. The full production build is generated in in <code>/wwwroot/dist</code> folder where it&#39;s ready for an XCOPY, rsync or MSDeploy deployment.</p><p>In the .NET Framework templates you can deploy to any <a href="https://www.iis.net/downloads/microsoft/web-deploy" target="_blank" rel="noopener noreferrer">MS WebDeploy</a> enabled Server by clicking <strong>Publish...</strong> in the <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a>&#39;s project Context Menu item which makes use of the existing <a href="https://github.com/NetFrameworkTemplates/vue-spa-netfx/blob/master/MyApp/Properties/PublishProfiles/PublishToIIS.pubxml" target="_blank" rel="noopener noreferrer">/PublishProfiles/PublishToIIS.pubxml</a> which <a href="https://github.com/NetFrameworkTemplates/vue-spa-netfx/blob/2e8c208982561695275b451a9ece35522d9739d9/MyApp/Properties/PublishProfiles/PublishToIIS.pubxml#L23-L36" target="_blank" rel="noopener noreferrer">includes an instruction</a> to include the <code>/wwwroot</code> folder in deployments.</p><p>In .NET 5.0 projects the <code>publish</code> npm script runs <code>dotnet publish -c Release</code> to Publish a Release build of your App in the <code>/bin/netcoreapp3.1/publish</code> folder which can then copied to remote server or an included in a Docker container to deploy your App.</p><h3 id="loading-dependencies" tabindex="-1">Loading Dependencies <a class="header-anchor" href="#loading-dependencies" aria-hidden="true">#</a></h3><p>Now that we&#39;ve covered how Webpack is configured, the next step is showing how to make use of it, by loading your App&#39;s resources using node&#39;s <code>require()</code> or TypeScript&#39;s <code>import</code> statement.</p><p>This can be seen in the App&#39;s <a href="https://github.com/NetCoreTemplates/vue-spa/blob/master/MyApp/src/main.ts" target="_blank" rel="noopener noreferrer">main.ts</a> starting point where it imports <strong>bootstrap.css</strong> and <strong>font-awesome.css</strong> directly from the installed <strong>bootstrap</strong> and <strong>font-awesome</strong> npm packages as well as a local <a href="https://github.com/NetCoreTemplates/vue-spa/blob/master/MyApp/src/app.scss" target="_blank" rel="noopener noreferrer">./app.scss</a> SASS file which lives side-by-side next to TypeScript source files:</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token string">&#39;bootstrap/dist/css/bootstrap.css&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;font-awesome/css/font-awesome.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;./app.scss&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;es6-shim&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">&#39;./home/Home.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> View1 <span class="token keyword">from</span> <span class="token string">&#39;./view1/View1.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> View2 <span class="token keyword">from</span> <span class="token string">&#39;./view2/View2.vue&#39;</span><span class="token punctuation">;</span>
</code></pre></div><p>Importing <strong>bootstrap</strong> and <strong>font-awesome</strong> also imports their references, including any images, fonts, svg and other .css files. These are all transparently added to the webpack build and bundled with the rest of your app.</p><p>In production builds the <code>file-loader</code> copies their references to the output folder, embedding its <code>sha512</code> hash in each file name. <code>url-loader</code> works similarly but also has the option of embedding file contents below the configured <strong>10000</strong> byte limit inline inside a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs" target="_blank" rel="noopener noreferrer">Data URI</a> to reduce network requests in production builds.</p><div class="language-js"><pre><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(jpe?g|gif|png|ico|svg|wav|mp3)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
    loader<span class="token operator">:</span> <span class="token string">&#39;file-loader&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>isProd 
        <span class="token operator">?</span> <span class="token string">&#39;?hash=sha512&amp;digest=hex&amp;name=img/[name].[hash].[ext]&#39;</span> 
        <span class="token operator">:</span> <span class="token string">&#39;?name=img/[name].[ext]&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(eot|ttf|woff|woff2)(\\?v=\\d+\\.\\d+\\.\\d+)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    loader<span class="token operator">:</span> isProd 
        <span class="token operator">?</span> <span class="token string">&#39;url-loader?limit=10000&amp;name=img/[name].[hash].[ext]&#39;</span> 
        <span class="token operator">:</span> <span class="token string">&#39;file-loader?name=img/[name].[ext]&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><code>require()</code> can also be used to load resources in other files which is how images can be imported in the <a href="https://github.com/NetCoreTemplates/vue-spa/blob/master/MyApp/index.template.ejs" target="_blank" rel="noopener noreferrer">index.template.ejs</a> home page template:</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&lt;%=require(<span class="token punctuation">&#39;</span>./src/assets/img/logo.png<span class="token punctuation">&#39;</span>)%&gt;<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>Or inside <a href="https://github.com/NetCoreTemplates/angular-lite-spa/blob/4d3ad89c57a7243c6c00758a4de779ba5222de8d/MyApp/src/app.component.ts#L32" target="_blank" rel="noopener noreferrer">App components</a>, both of which returns the image url after it has been processed by Webpack&#39;s loaders, e.g:</p><div class="language-csharp"><pre><code><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>logoUrl <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./assets/img/logo.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In production builds this returns a relative url to the output image, e.g: <code>img/logo.36166adfacf0c8cc11d493f2161164fd.png</code>.</p><h3 id="webpack-builds" tabindex="-1">Webpack builds <a class="header-anchor" href="#webpack-builds" aria-hidden="true">#</a></h3><p>By importing all your WebApp resources into Webpack it&#39;s able to maintain a knowledgeable graph of all your Web Apps dependencies where it lets you define how they&#39;re handled at a macro level making it easy to incorporate design-time features like TypeScript and Sass whilst also taking care of generating optimal builds for development, testing and production.</p><h4 id="development-builds" tabindex="-1">Development builds <a class="header-anchor" href="#development-builds" aria-hidden="true">#</a></h4><p>You&#39;ll use development builds when developing your app locally which you can run with either the <code>webpack-build</code> Gulp task in <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a>&#39;s Task Runner Explorer GUI or by running the <code>build</code> npm script on the command-line:</p><div class="language-bash"><pre><code>$ <span class="token function">npm</span> run build
</code></pre></div><p>This will generate your App in the <code>/wwwroot/dist</code> folder similar to:</p><div class="language-"><pre><code>/wwwroot
   /dist
       /img
           logo.png
           ...
       app.bundle.js
       vendor.dll.css
       vendor.dll.js
       vendor-manifest.json
index.html
</code></pre></div><p>The lack of <code>.css</code> files or source-maps are due to being embedded in the <code>.js</code> bundles and injected in the browser&#39;s DOM within <code>&lt;style&gt;&lt;/style&gt;</code> tags.</p><p>After the Webpack development build has completed you can just run or refresh your <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Web App to view the latest changes.</p><h4 id="production-builds" tabindex="-1">Production builds <a class="header-anchor" href="#production-builds" aria-hidden="true">#</a></h4><p>When your App is ready to deploy you can run a production build using the <code>webpack-build-prod</code> Gulp task or the <code>build-prod</code> npm script:</p><div class="language-bash"><pre><code>$ <span class="token function">npm</span> run build-prod
</code></pre></div><p>This will bundle and generate your WebApp in the <strong>/wwwroot/dist</strong> folder with css and source maps extracted and written into separate files, css and js minified and all assets emitted with cache-breaking hashes, similar to:</p><div class="language-"><pre><code>/wwwroot
   /dist
       /img
           logo.36166adfacf0c8cc11d493f2161164fd.png
       674f50d287a8c48dc19ba404d20fe713.eot
       912ec66d7572ff821749319396470bde.svg
       b06871f281fee6b241d60582ae9369b9.ttf
       app.3728b4547755ace1f489.bundle.js
       app.3728b4547755ace1f489.bundle.js.map
       app.3728b4547755ace1f489.css
       app.3728b4547755ace1f489.css.map
       vendor.dll.css
       vendor.dll.css.map
       vendor.dll.js
       vendor.dll.js.map
       vendor-manifest.json
   index.html
</code></pre></div><h2 id="development-workflow" tabindex="-1">Development workflow <a class="header-anchor" href="#development-workflow" aria-hidden="true">#</a></h2><p>Executing a development build of Webpack is all that&#39;s required to be able to see our changes but it can take a while to run a full dev build which negatively impacts our fast iterative dev workflow. It&#39;s instead recommended to leave webpack running in the background and have it watch for changes so it only needs to rebuild assets that have changed, which it&#39;s able to do very quickly.</p><p><img src="https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/ssvs/gulp-tasks.png" alt=""></p><h3 id="gulp-tasks" tabindex="-1">Gulp Tasks <a class="header-anchor" href="#gulp-tasks" aria-hidden="true">#</a></h3><ul><li><strong>dev</strong> - Run Webpack watch to automatically build, watch and process changed files</li><li><strong>dtos</strong> - Run <strong>typescript-ref</strong> npm script to import latest TypeScript Server DTOs</li><li><strong>webpack-build</strong> - Run a Webpack development build to bundle and output your app to <code>/dist</code></li><li><strong>webpack-build-prod</strong> - Run a Webpack production build to bundle and output your app to <code>/wwwroot/dist</code></li><li><strong>webpack-build-vendor</strong> - Run a Webpack production build to bundle the Vendor libraries to <code>/wwwroot/dist</code></li><li><strong>package</strong> - Perform all tasks to build the client so your App is ready for deployment</li><li><strong>tests-run</strong> - Run all TypeScript/JS unit and integration tests</li><li><strong>tests-watch</strong> - Rerun all TypeScript/JS tests as source code changes are made</li><li><strong>tests-coverage</strong> - View test coverage of your existing TypeScript/JS tests</li></ul><p>Whilst we recommend running the <code>dev</code> Gulp or npm script during development to run a live watched development, you can instead run the <code>npm run dev-server</code> npm script to run a development build of your app through Webpack&#39;s dev-server which has it&#39;s own built-in hot reloading for when your Client Apps source code changes.</p><h3 id="webpack-watch" tabindex="-1">Webpack watch <a class="header-anchor" href="#webpack-watch" aria-hidden="true">#</a></h3><p>Our recommendation during development is to run the <code>dev</code> Gulp task and leave it running in the background, or if preferred, run the <strong>dev</strong> npm script on the command-line with:</p><div class="language-bash"><pre><code>$ <span class="token function">npm</span> run dev
</code></pre></div><p>Webpack <strong>dev</strong> initially generates a full development build of your Web App then stays running in the background to process files as they&#39;re changed. This enables the normal dev workflow of running your <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Web App from <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a>, saving changes locally which are then reloaded using ServiceStack&#39;s built-in hot reloading. Alternatively hitting <strong>F5</strong> will refresh the page and view the latest changes.</p><p>Each change updates the output dev resources so even if you stop the <strong>dev</strong> task your Web App remains in a working state that&#39;s viewable when running the <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Web App.</p><h3 id="live-reload-with-webpack-dev-server" tabindex="-1">Live reload with Webpack Dev Server <a class="header-anchor" href="#live-reload-with-webpack-dev-server" aria-hidden="true">#</a></h3><p>The alternative dev workflow is to run the <code>dev-server</code> npm script to run the <a href="https://webpack.js.org/configuration/dev-server/#devserver" target="_blank" rel="noopener noreferrer">Webpack dev server</a>:</p><div class="language-bash"><pre><code>$ <span class="token function">npm</span> run dev-server
</code></pre></div><p>This launches the Webpack dev server listening at <code>http://localhost:3000/</code> and configured to proxy all non-Webpack HTTP requests to the <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Web App where it handles all Server API requests. The benefit of viewing your App through the Webpack dev server is its built-in Live Reload feature where it will automatically reload the page as resources are updated. We&#39;ve found the Webpack dev server ideal when developing UI&#39;s where your Web App is running side-by-side <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a>, where every change saved triggers the dev server to reload the current page so changes are visible immediately.</p><p>The disadvantage of the dev server is that all transformations are kept in memory so when the dev server is stopped, the Web Apps resources are lost, so it requires a <code>webpack-build</code> in order to generate a current build. There&#39;s also a slight lag in API requests resulting from each server request being handled by both Webpack&#39;s Dev Server and <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a>&#39;s IIS Express.</p>__VP_STATIC_END__`,93),p=[o];function c(r,l,i,u,d,k){return a(),s("div",null,p)}var b=n(t,[["render",c]]);export{g as __pageData,b as default};
