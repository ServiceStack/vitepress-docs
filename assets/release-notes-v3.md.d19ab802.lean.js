import{_ as t,c as s,o,a,b as e,e as n}from"./app.14440598.js";const R=`{"title":"v3.9.62 Release Notes","description":"","frontmatter":{"slug":"release-notes-v3"},"headers":[{"level":2,"title":"v3.9.62 Release Notes","slug":"v3-9-62-release-notes"},{"level":3,"title":"Silverlight 5 builds now included","slug":"silverlight-5-builds-now-included"},{"level":3,"title":"New OAuth2 and OrmLite T4 NuGet packages","slug":"new-oauth2-and-ormlite-t4-nuget-packages"},{"level":3,"title":"Copy of the latest NuGet releases are now also published to MyGet","slug":"copy-of-the-latest-nuget-releases-are-now-also-published-to-myget"},{"level":3,"title":"New v3 and v3-fixes branches","slug":"new-v3-and-v3-fixes-branches"},{"level":3,"title":"Unified build system across all projects","slug":"unified-build-system-across-all-projects"},{"level":2,"title":"Authentication","slug":"authentication"},{"level":3,"title":"Cascading configuration","slug":"cascading-configuration"},{"level":3,"title":"Global Admin AuthSecret","slug":"global-admin-authsecret"},{"level":2,"title":"Routing","slug":"routing"},{"level":2,"title":"Metadata","slug":"metadata"},{"level":2,"title":"OrmLite T4 Templates","slug":"ormlite-t4-templates"},{"level":2,"title":"Redis and MQ Server","slug":"redis-and-mq-server"},{"level":3,"title":"RedisClient Failover","slug":"redisclient-failover"},{"level":2,"title":"Community Resources","slug":"community-resources"},{"level":2,"title":"Download ServiceStack","slug":"download-servicestack"},{"level":2,"title":"v3.9.45 Release Notes","slug":"v3-9-45-release-notes"},{"level":2,"title":"Support for Razor2","slug":"support-for-razor2"},{"level":2,"title":"Partial Content Support","slug":"partial-content-support"},{"level":2,"title":"Auto Route Generation Strategies","slug":"auto-route-generation-strategies"},{"level":2,"title":"Validation","slug":"validation"},{"level":3,"title":"Route Validation","slug":"route-validation"},{"level":3,"title":"Validation Feature","slug":"validation-feature"},{"level":2,"title":"Swagger API","slug":"swagger-api"},{"level":2,"title":"Text Serialization","slug":"text-serialization"},{"level":3,"title":"Scoped static configuration","slug":"scoped-static-configuration"},{"level":2,"title":"Miscellaneous","slug":"miscellaneous"},{"level":2,"title":"Restrict Services","slug":"restrict-services"},{"level":3,"title":"Named Configurations","slug":"named-configurations"},{"level":3,"title":"Restriction Combinations","slug":"restriction-combinations"},{"level":3,"title":"Multiple restriction scenarios","slug":"multiple-restriction-scenarios"},{"level":2,"title":"Other Security","slug":"other-security"},{"level":2,"title":"Plugins","slug":"plugins"},{"level":3,"title":"Swagger support","slug":"swagger-support"},{"level":3,"title":"Caching Providers","slug":"caching-providers"},{"level":3,"title":"Authentication","slug":"authentication-1"},{"level":3,"title":"New API Changes","slug":"new-api-changes"},{"level":3,"title":"New SetStatus and AddHeader Request Filters","slug":"new-setstatus-and-addheader-request-filters"},{"level":3,"title":"SOAP Support","slug":"soap-support"},{"level":3,"title":"Metadata pages","slug":"metadata-pages"},{"level":3,"title":"Pre-defined Routes","slug":"pre-defined-routes"},{"level":3,"title":"Razor Support","slug":"razor-support"},{"level":3,"title":"Configuration","slug":"configuration"},{"level":3,"title":"Error Configuration and Customizations","slug":"error-configuration-and-customizations"},{"level":3,"title":"Debugging / Diagnostics","slug":"debugging-diagnostics"},{"level":3,"title":"Route Helpers","slug":"route-helpers"},{"level":3,"title":"Mapping Helpers","slug":"mapping-helpers"},{"level":3,"title":"URL Helpers","slug":"url-helpers"},{"level":3,"title":"Misc","slug":"misc"},{"level":2,"title":"ServiceStack's new API design","slug":"servicestack-s-new-api-design"},{"level":2,"title":"v3.9.11 Release Notes","slug":"v3-9-11-release-notes"},{"level":3,"title":"Growing OSS community","slug":"growing-oss-community"},{"level":3,"title":"Complete HTML story (Razor + Markdown)","slug":"complete-html-story-razor-markdown"},{"level":2,"title":"Improved Mono Support","slug":"improved-mono-support"},{"level":3,"title":"Specialized, Auto-correcting behaviour in Mono / Self-Hosts","slug":"specialized-auto-correcting-behaviour-in-mono-self-hosts"},{"level":3,"title":"Switched to MarkdownDeep by default","slug":"switched-to-markdowndeep-by-default"},{"level":3,"title":"Continious Integration Builds","slug":"continious-integration-builds"},{"level":3,"title":"Virtual FileSystem","slug":"virtual-filesystem"},{"level":3,"title":"Request Scope in Funq","slug":"request-scope-in-funq"},{"level":3,"title":"Dynamic JSON","slug":"dynamic-json"},{"level":3,"title":"[Route] attribute","slug":"route-attribute"},{"level":3,"title":"Global exception handling is overwriteable","slug":"global-exception-handling-is-overwriteable"},{"level":3,"title":"New CORS plugin","slug":"new-cors-plugin"},{"level":3,"title":"Pre request filters (IAppHost.PreRequestFilters)","slug":"pre-request-filters-iapphost-prerequestfilters"},{"level":2,"title":"Minor Features and Fixes","slug":"minor-features-and-fixes"},{"level":2,"title":"Significant updates to JSON, Redis and OrmLite","slug":"significant-updates-to-json-redis-and-ormlite"},{"level":2,"title":"v3.78 Release Notes","slug":"v3-78-release-notes"},{"level":3,"title":"Awesome Feedback","slug":"awesome-feedback"},{"level":2,"title":"New Demo Reference App","slug":"new-demo-reference-app"},{"level":3,"title":"Authentication & Authorization","slug":"authentication-authorization"},{"level":3,"title":"Roles & Permissions","slug":"roles-permissions"},{"level":2,"title":"Validators","slug":"validators"},{"level":3,"title":"Filter attributes","slug":"filter-attributes"},{"level":2,"title":"New Plugin API","slug":"new-plugin-api"},{"level":3,"title":"Plugins registered by default","slug":"plugins-registered-by-default"},{"level":3,"title":"Removing or accessing built-in plug-ins","slug":"removing-or-accessing-built-in-plug-ins"},{"level":3,"title":"Available plugins","slug":"available-plugins"},{"level":2,"title":"Messaging services","slug":"messaging-services"},{"level":2,"title":"Other changes","slug":"other-changes"},{"level":2,"title":"Future Roadmap","slug":"future-roadmap"},{"level":3,"title":"Async","slug":"async"},{"level":3,"title":"New Metadata pages","slug":"new-metadata-pages"},{"level":3,"title":"Fast IPC/RPC Bridge between ServiceStack services <=> C#/.NET, Dart / Node.js processes","slug":"fast-ipc-rpc-bridge-between-servicestack-services-c-net-dart-node-js-processes"},{"level":3,"title":"Whoa?.. What are all these node.js and Dart pieces doing in my .NET soup?","slug":"whoa-what-are-all-these-node-js-and-dart-pieces-doing-in-my-net-soup"},{"level":3,"title":"Getting the best of both worlds","slug":"getting-the-best-of-both-worlds"},{"level":3,"title":"Potential MVC Razor and spark integration","slug":"potential-mvc-razor-and-spark-integration"},{"level":3,"title":"Integration with NancyFx","slug":"integration-with-nancyfx"},{"level":2,"title":"Latest version of Dapper built-in","slug":"latest-version-of-dapper-built-in"},{"level":2,"title":"Mvc Mini Profiler now baked in","slug":"mvc-mini-profiler-now-baked-in"},{"level":3,"title":"Using the MVC Mini Profiler","slug":"using-the-mvc-mini-profiler"},{"level":2,"title":"ServiceStack is now using Trello.com for features/issue tracking","slug":"servicestack-is-now-using-trello-com-for-features-issue-tracking"},{"level":2,"title":"Special Thanks to Contributors","slug":"special-thanks-to-contributors"},{"level":2,"title":"Redis MQ Client/Server","slug":"redis-mq-client-server"},{"level":2,"title":"JSON/JSV Serializers now supports Abstract/Interface and object types","slug":"json-jsv-serializers-now-supports-abstract-interface-and-object-types"},{"level":2,"title":"Other features/fixes:","slug":"other-features-fixes"},{"level":3,"title":"New Markdown Razor View Engine","slug":"new-markdown-razor-view-engine"},{"level":3,"title":"ServiceStack.Docs Website Released","slug":"servicestack-docs-website-released"},{"level":3,"title":"MonoTouch support in ServiceStack C# Clients","slug":"monotouch-support-in-servicestack-c-clients"},{"level":2,"title":"Other Features","slug":"other-features"},{"level":2,"title":"Download","slug":"download"},{"level":2,"title":"ServiceStack is now on NuGet!","slug":"servicestack-is-now-on-nuget"},{"level":2,"title":"ServiceStack Overview and Create REST services slides released!","slug":"servicestack-overview-and-create-rest-services-slides-released"},{"level":3,"title":"ServiceStack Overview and Features","slug":"servicestack-overview-and-features"},{"level":3,"title":"Creating REST Web Services","slug":"creating-rest-web-services"},{"level":2,"title":"Better configuration","slug":"better-configuration"},{"level":3,"title":"ASP.NET MVC-like Route API to define user-defined REST paths","slug":"asp-net-mvc-like-route-api-to-define-user-defined-rest-paths"},{"level":3,"title":"Disable ServiceStack-wide features","slug":"disable-servicestack-wide-features"},{"level":2,"title":"Backbone's TODO","slug":"backbone-s-todo"},{"level":3,"title":"TODO app now in all Starter templates","slug":"todo-app-now-in-all-starter-templates"},{"level":2,"title":"ServiceStack was built to serve Ajax applications","slug":"servicestack-was-built-to-serve-ajax-applications"},{"level":2,"title":"ServiceStack 2.07 - Q/A Release - Finding Web.Config Nirvana :)","slug":"servicestack-2-07-q-a-release-finding-web-config-nirvana"},{"level":3,"title":"Running cross-platform","slug":"running-cross-platform"},{"level":2,"title":"New ServiceStack Starter Templates projects released","slug":"new-servicestack-starter-templates-projects-released"},{"level":3,"title":"Starter Template projects","slug":"starter-template-projects"},{"level":3,"title":"Known issues on MONO:","slug":"known-issues-on-mono"},{"level":2,"title":"Eating our own dogfood","slug":"eating-our-own-dogfood"},{"level":3,"title":"ServiceStack.NET now running example projects on both Nginx/FastCGI and Apache/mod_mono on the same server","slug":"servicestack-net-now-running-example-projects-on-both-nginx-fastcgi-and-apache-mod-mono-on-the-same-server"},{"level":2,"title":"ServiceStack v2.0","slug":"servicestack-v2-0"},{"level":2,"title":"Breaking Changes","slug":"breaking-changes"},{"level":2,"title":"ServiceStack 1.82 Release Notes","slug":"servicestack-1-82-release-notes"},{"level":3,"title":"New HTML5 Report Format Added","slug":"new-html5-report-format-added"},{"level":3,"title":"New ServiceStack.Northwind Example project added","slug":"new-servicestack-northwind-example-project-added"},{"level":3,"title":"Improved Caching","slug":"improved-caching"},{"level":3,"title":"API Changes","slug":"api-changes"},{"level":2,"title":"ServiceStack 1.79 Release Notes","slug":"servicestack-1-79-release-notes"},{"level":3,"title":"The C#/.NET Sync and Async Service Clients were improved to include:","slug":"the-c-net-sync-and-async-service-clients-were-improved-to-include"},{"level":2,"title":"New RestFiles project added to ServiceStack.Examples GitHub project:","slug":"new-restfiles-project-added-to-servicestack-examples-github-project"},{"level":2,"title":"ServiceStack 1.78 Release Notes","slug":"servicestack-1-78-release-notes"},{"level":2,"title":"ServiceStack 1.77 Release Notes","slug":"servicestack-1-77-release-notes"},{"level":2,"title":"Main features added in this release:","slug":"main-features-added-in-this-release"},{"level":3,"title":"CSV Format","slug":"csv-format"},{"level":3,"title":"Request and Response Filters:","slug":"request-and-response-filters"}],"relativePath":"release-notes-v3.md","lastUpdated":1634495308430}`,r={},i=a('',20),p=e("div",{class:"package-reference-box"},[e("div",{class:"flex"},[e("div",{class:"flex-grow pre-container",style:{background:"#002440"}},[e("pre",{class:"sh copy m-0 p-0 pl-2 py-1 align-middle",style:{background:"#002440"}},[e("p",null,[e("code",null,'<PackageReference Include="ServiceStack.Authentication.OAuth2" Version="5.*" />')]),n(`
`)])]),e("div",{class:"flex-shrink"},[e("i",{class:"svg-copy inline-block w-8 h-full",title:"copy",onclick:"copy(this)"}),e("b")])]),e("div",{class:"copy-text w-full text-right h-6"})],-1),c=a(`__VP_STATIC_START__<p>The OAuth2 providers is pre-configured with sensible defaults to cater for the most common use-cases which as is the case with all Auth providers are overridable in AppHost or Web.Config. The <a href="https://github.com/ServiceStack/ServiceStack/tree/master/tests/ServiceStack.AuthWeb.Tests" target="_blank" rel="noopener noreferrer">AuthWeb Tests</a> project shows the simplest <a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.AuthWeb.Tests/AppHost.cs#L75" target="_blank" rel="noopener noreferrer">AppHost code</a> and <a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.AuthWeb.Tests/Web.config#L20" target="_blank" rel="noopener noreferrer">Web.config</a> configuration required to register all Auth Providers within the same service, e.g. the minimum configuration to get started with new LinkedIn and Google OAuth2 providers is:</p><div class="language-xml"><pre><code><span class="token comment">&lt;!-- Create Google App at: https://code.google.com/apis/console/ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oauth.GoogleOAuth.ConsumerKey<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>731622862518.apps.googleusercontent.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oauth.GoogleOAuth.ConsumerSecret<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BvumMTV9VEyHj_2uMfDXHaaP<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- Create LinkedIn App at: https://www.linkedin.com/secure/developer?newapp= --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oauth.LinkedIn.ConsumerKey<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ck8n5g2fxd6o<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oauth.LinkedIn.ConsumerSecret<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Mpy9Pl4uTnRrSee8<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h3 id="cascading-configuration" tabindex="-1">Cascading configuration <a class="header-anchor" href="#cascading-configuration" aria-hidden="true">#</a></h3><p>ServiceStack Auth providers also support <em>cascading configuration</em> for all built-in properties, where if a property for a specific auth provider doesn&#39;t exist, it will look for the <em>global fallback</em> property without the Auth Provider name. This is useful for DRY&#39;ing repetitive configuration that&#39;s the same for all Auth providers like the <strong>RedirectionUrl</strong> and <strong>CallbackUrl</strong> properties, E.g. instead of repeating the same information for every Auth Provider like:</p><div class="language-xml"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oauth.twitter.RedirectUrl<span class="token punctuation">&quot;</span></span>    <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://yourhostname.com/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oauth.twitter.CallbackUrl<span class="token punctuation">&quot;</span></span>    <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://yourhostname.com/auth/twitter<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>    

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oauth.facebook.RedirectUrl<span class="token punctuation">&quot;</span></span>    <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://yourhostname.com/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oauth.facebook.CallbackUrl<span class="token punctuation">&quot;</span></span>    <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://yourhostname.com/auth/facebook<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>You can instead just provide <em>global properties</em> that are used as a fallback in all Auth providers, e.g:</p><div class="language-xml"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oauth.RedirectUrl<span class="token punctuation">&quot;</span></span>    <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://yourhostname.com/<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>oauth.CallbackUrl<span class="token punctuation">&quot;</span></span>    <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://yourhostname.com/auth/{0}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>The <code>{0}</code> is always substituted with the Provider name (e.g. &#39;twitter&#39;).</p><p>More details about the OAuth2 providers can be found in <a href="/authentication-and-authorization.html#oauth2-providers">OAuth2 Section</a> of the Authentication wiki page.</p><p><a href="https://github.com/hhandoko" target="_blank" rel="noopener noreferrer">@hhandoko</a> has also added the YammerAuthProvider baked into ServiceStack.</p><h3 id="global-admin-authsecret" tabindex="-1">Global Admin AuthSecret <a class="header-anchor" href="#global-admin-authsecret" aria-hidden="true">#</a></h3><p>ServiceStack now includes an opt-in <code>Config.AdminAuthSecret</code> global pass-key that lets you access protected services by instead supplying a &#39;?authsecret=xxx&#39; Request parameter. Which can be useful when you want to create Admin users, access internal debug services, or when testing the functionality of authenticated services without wanting to have to authenticate first.</p><h2 id="routing" tabindex="-1">Routing <a class="header-anchor" href="#routing" aria-hidden="true">#</a></h2><p>Routes now support multiple wildcard paths thanks to <a href="https://github.com/kal" target="_blank" rel="noopener noreferrer">@kal</a>. Wildcard paths work similar, but have a lower weighting than normal <code>{variable}</code> path matches, e.g:</p><p>The following HTTP Request:</p><pre><code>GET /content/v1/literal/slug
</code></pre><p>Will match all of the following Route definitions, in order from highest to lowest precedence:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/content/v1/literal/slug&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/content/v1/literal/slug&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/content/v1/literal/{ignore}&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/content/{ignore}/literal/{ignore}&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/content/{Version*}/literal/{Slug*}&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/content/{Version*}/literal/{Slug*}&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/content/{Slug*}&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/content/{Slug*}&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
</code></pre></div><p>See the <a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.ServiceHost.Tests/RestPathTests.cs" target="_blank" rel="noopener noreferrer">RestPathTests.cs</a> for more examples.</p><h4 id="matching-on-ignored-paths" tabindex="-1">Matching on ignored paths <a class="header-anchor" href="#matching-on-ignored-paths" aria-hidden="true">#</a></h4><p>You can use the <code>{ignore}</code> variable placeholder to match a Route definition that doesn&#39;t map to a Request DTO property, e.g:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/contacts/{Id}/{ignore}&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetContacts</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div><p>Will match on <code>/contacts/1/john-doe</code> request without requiring your Request DTO to have an <strong>ignore</strong> property.</p><h4 id="fallback-route" tabindex="-1">Fallback Route <a class="header-anchor" href="#fallback-route" aria-hidden="true">#</a></h4><p>Use the <code>FallbackRoute</code> attribute to specify a fallback route starting from the root path, e.g:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FallbackRoute</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/{Path}&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Fallback</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Path <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This will match any unmatched route from the root path (e.g. <code>/foo</code> but not <code>/foo/bar</code>) that&#39;s not handled by any registered <strong>CatchAll Handlers</strong> or matches a static file. You can also specify a wildcard path e.g. <code>[FallbackRoute(&quot;/{Path*}&quot;)]</code> which will handle every unmatched route (inc. <code>/foo/bar</code>).</p><p>The Fallback route is useful for HTML5 Single Page App websites handling of unknown server requests with client-side routing as seen with HTML5 apps making use of pushState pretty urls.</p><h2 id="metadata" tabindex="-1">Metadata <a class="header-anchor" href="#metadata" aria-hidden="true">#</a></h2><p>The built-in metadata HTML templates that are used to render the <code>/metadata</code> pages are now external file resources that are overridable with <code>Config.UseCustomMetadataTemplates</code> and <code>Config.MetadataCustomPath</code> to specify the directory where the custom <strong>IndexOperations.html</strong>, <strong>IndexOperations.html</strong> and <strong>IndexOperations.html</strong> templates can be found.</p><p>Most of the metadata ServiceStack knows about your services are accessible from <code>Config.Metadata</code> from within ServiceStack and externally via the <code>/operations/metadata</code> route. A link to the <strong>Operations Metadata</strong> page is displayed at the bottom of the <code>/metadata</code> when in ServiceStack is in <strong>DebugMode</strong>.</p><h2 id="ormlite-t4-templates" tabindex="-1">OrmLite T4 Templates <a class="header-anchor" href="#ormlite-t4-templates" aria-hidden="true">#</a></h2><p>Whilst OrmLite is foremost a code-first POCO ORM, when you have to work with an existing database, the OrmLite T4 templates by <a href="https://github.com/gkathire" target="_blank" rel="noopener noreferrer">@gkathire</a> makes it easy to get started quickly by creating code-generated POCO&#39;s for all your DB tables as well as strong-typed wrappers for existing stored procedures. These OrmLite T4 Content templates are now available to any project via NuGet:</p>__VP_STATIC_END__`,33),l=e("div",{class:"package-reference-box"},[e("div",{class:"flex"},[e("div",{class:"flex-grow pre-container",style:{background:"#002440"}},[e("pre",{class:"sh copy m-0 p-0 pl-2 py-1 align-middle",style:{background:"#002440"}},[e("p",null,[e("code",null,'<PackageReference Include="ServiceStack.OrmLite.T4" Version="5.*" />')]),n(`
`)])]),e("div",{class:"flex-shrink"},[e("i",{class:"svg-copy inline-block w-8 h-full",title:"copy",onclick:"copy(this)"}),e("b")])]),e("div",{class:"copy-text w-full text-right h-6"})],-1),u=a(`__VP_STATIC_START__<p><a href="https://twitter.com/jokecamp" target="_blank" rel="noopener noreferrer">@jokecamp</a> has a nice writeup showing how to use <a href="http://jokecamp.wordpress.com/2013/09/07/code-generation-using-servicestack-ormlite-and-t4-text-templates/" target="_blank" rel="noopener noreferrer">OrmLite&#39;s T4 templates in action</a>.</p><h2 id="redis-and-mq-server" tabindex="-1">Redis and MQ Server <a class="header-anchor" href="#redis-and-mq-server" aria-hidden="true">#</a></h2><p><a href="/redis-mq.html">RedisMqServer</a> has a <code>PublishResponseWhitelist</code> to control if all (default) or only a whitelist of service responses should be published into Response INQ&#39;s as well as a <code>PriorityQueuesWhitelist</code> to control which messages require a Priority Queue enabled for them.</p><h3 id="redisclient-failover" tabindex="-1">RedisClient Failover <a class="header-anchor" href="#redisclient-failover" aria-hidden="true">#</a></h3><p><strong>FailoverTo()</strong> has been added to all RedisClientManagers which lets you trigger a runtime failover to specified redis-server instances. This also triggers the registered callbacks on <code>OnFailover</code>, which is what RedisMqServer listens to in order to switch the background MQ services over to the new fallback redis-server instances.</p><p>Added a <code>NamespacePrefix</code> property to RedisAuthRepository which works similar to the NamespacePrefix property in the RedisClient where it allows you to organize internal data collections under a custom user-specified prefix, e.g. <code>mycompany:</code>.</p><h2 id="community-resources" tabindex="-1">Community Resources <a class="header-anchor" href="#community-resources" aria-hidden="true">#</a></h2><p>There&#39;s also been a number of quality community posts that have been added in the last couple of months:</p><ul><li><a href="http://layoric.blogspot.com/2013/09/tiledstack-tiled-map-rendering.html" target="_blank" rel="noopener noreferrer">TiledStack - Tiled map rendering, messaging and support project for MonoGame</a> by <a href="https://twitter.com/layoric" target="_blank" rel="noopener noreferrer">@layoric</a></li><li><a href="http://blogs.telerik.com/openaccessteam/posts/13-09-13/using-telerik-openaccess-orm-with-servicestack" target="_blank" rel="noopener noreferrer">Using OpenAccess ORM and ServiceStack</a> by <a href="https://twitter.com/damyanbogoev" target="_blank" rel="noopener noreferrer">@damyanbogoev</a></li><li><a href="http://jokecamp.wordpress.com/2013/09/07/code-generation-using-servicestack-ormlite-and-t4-text-templates/" target="_blank" rel="noopener noreferrer">Code Generation using ServiceStack.OrmLite and T4 Text templates</a> by <a href="https://twitter.com/jokecamp" target="_blank" rel="noopener noreferrer">@jokecamp</a></li><li><a href="http://dylanbeattie.blogspot.com/2013/08/building-servicestack-based-oauth2.html" target="_blank" rel="noopener noreferrer">Building a ServiceStack OAuth2 resource server using DotNetOpenAuth</a> by <a href="https://twitter.com/dylanbeattie" target="_blank" rel="noopener noreferrer">@dylanbeattie</a></li><li><a href="http://bhameyie.com/2013/09/03/servicestack-extensibility-using-mef/" target="_blank" rel="noopener noreferrer">ServiceStack extensibility using MEF</a> by <a href="https://twitter.com/bhameyie" target="_blank" rel="noopener noreferrer">@bhameyie</a></li><li><a href="http://alexvpop.blogspot.co.uk/2013/08/whyservicestack.html" target="_blank" rel="noopener noreferrer">Productivity gains with the ServiceStack web framework</a> by <a href="https://plus.google.com/104553804192329546520/posts" target="_blank" rel="noopener noreferrer">+AlexandruVasilePop</a></li><li><a href="http://abdullin.com/journal/2013/8/27/how-i-stopped-worrying-and-learned-to-love-the-www-and-unix.html" target="_blank" rel="noopener noreferrer">How I Stopped Worrying and Learned to Love the WWW and UNIX Way</a> by <a href="https://twitter.com/abdullin" target="_blank" rel="noopener noreferrer">@abdullin</a></li><li><a href="http://www.agile-code.com/blog/servicestack-ioc-with-microsoft-unity/" target="_blank" rel="noopener noreferrer">ServiceStack: IoC with Microsoft Unity</a> by <a href="https://twitter.com/zoranmax" target="_blank" rel="noopener noreferrer">@zoranmax</a></li><li><a href="http://msdn.microsoft.com/en-us/magazine/dn342871.aspx" target="_blank" rel="noopener noreferrer">Building Cross-Platform Web Services with ServiceStack</a></li><li><a href="http://mentalflatlining.wordpress.com/2013/02/19/evaluating-data-services-options-wcf-vs-webapi-vs-servicestack/" target="_blank" rel="noopener noreferrer">WCF vs WebAPI vs ServiceStack</a></li><li><a href="http://www.philliphaydon.com/2013/07/setting-up-a-servicestack-service/" target="_blank" rel="noopener noreferrer">Setting up a ServiceStack Service on nginx and deploy to Azure</a> by <a href="https://twitter.com/philliphaydon" target="_blank" rel="noopener noreferrer">@philliphaydon</a></li><li><a href="http://pinksquirrellabs.com/post/2013/07/04/Last-Fi.aspx" target="_blank" rel="noopener noreferrer">Last-Fi (F#, Raspberry Pi, Last.Fm, FunScript and ServiceStack)</a> by <a href="https://twitter.com/pezi_pink" target="_blank" rel="noopener noreferrer">@pezi_pink</a></li></ul><p>More quality community content to be found in the <a href="/community-resources.html">Community Resources</a> wiki.</p><h2 id="download-servicestack" tabindex="-1">Download ServiceStack <a class="header-anchor" href="#download-servicestack" aria-hidden="true">#</a></h2><ul><li><strong><a href="http://nuget.org/packages/ServiceStack.Razor" target="_blank" rel="noopener noreferrer">Using Nuget to add ServiceStack with Razor Support (.NET 4.0+)</a></strong></li><li><a href="http://nuget.org/packages/ServiceStack" target="_blank" rel="noopener noreferrer">Using Nuget to add ServiceStack to an existing ASP.NET or MVC application (.NET 3.5+)</a></li><li><a href="https://github.com/ServiceStack/ServiceStack.Examples/" target="_blank" rel="noopener noreferrer">Clone ServiceStack.Examples projects and Starter Templates</a></li><li><a href="https://github.com/ServiceStack/ServiceStack.UseCases/" target="_blank" rel="noopener noreferrer">Clone ServiceStack.UseCases</a></li><li><a href="http://www.servicestack.net/docs/framework/nuget" target="_blank" rel="noopener noreferrer">Other ServiceStack projects available on NuGet</a></li></ul><p>.</p><p>Follow <a href="http://twitter.com/ServiceStack" target="_blank" rel="noopener noreferrer">@ServiceStack</a> or join the <a href="https://plus.google.com/u/0/communities/112445368900682590445" target="_blank" rel="noopener noreferrer">ServiceStack G+ Community</a> for project updates.</p><hr><p>.</p><h2 id="v3-9-45-release-notes" tabindex="-1">v3.9.45 Release Notes <a class="header-anchor" href="#v3-9-45-release-notes" aria-hidden="true">#</a></h2><h2 id="support-for-razor2" tabindex="-1">Support for Razor2 <a class="header-anchor" href="#support-for-razor2" aria-hidden="true">#</a></h2><p>The biggest update in this release is the new completely re-written Razor support to support Razor2. The new implementation was originally contributed by <a href="https://github.com/bchavez" target="_blank" rel="noopener noreferrer">@bchavez</a> and has resulted in a cleaner and simpler code-base which should give us a good base for future Razor customizations, e.g this upgrade allowed us to properly support <strong>@model</strong> and <strong>@layout</strong> directives.</p><p>Parallel compilation has been replaced in favor of a <strong>FileSystemWatcher</strong> which should improve the iterative development experience as updated razor files are now automatically compiled in the background (in DebugMode) as soon as you save the file, e.g. with <code>Ctrl+S</code>.</p><p>The one existing advanced feature no longer supported is multiple razor file extensions with different base types, as this was a fairly niche feature it hopefully wont affect many people.</p><p>All existing tests have been ported and are now passing, we&#39;ve also added a few more as well as updating <a href="http://razor.servicestack.net/" target="_blank" rel="noopener noreferrer">Razor Rockstars</a> which continues to work flawlessly with the new Razor2 support, but as this was a complete rewrite you may run into implementation differences between the old and new behavior so you should put some time aside for testing the upgraded Razor support. Please <a href="https://github.com/ServiceStack/ServiceStack/issues" target="_blank" rel="noopener noreferrer">report any issues</a> you&#39;ve had with the upgrade.</p><p>The HTML Helpers that were originally ported from MVC have been updated by <a href="https://github.com/dsimunic" target="_blank" rel="noopener noreferrer">@dsimunic</a>.</p><h2 id="partial-content-support" tabindex="-1">Partial Content Support <a class="header-anchor" href="#partial-content-support" aria-hidden="true">#</a></h2><p>Partial Content Support allows a resource to be split up an accessed in multiple chunks for clients that support HTTP Range Requests. This is a popular feature in download managers for resuming downloads of large files and streaming services for real-time streaming of content (e.g. consumed whilst it&#39;s being watched or listened to).</p><p><a href="http://benramsey.com/blog/2008/05/206-partial-content-and-range-requests/" target="_blank" rel="noopener noreferrer">HTTP Partial Content Support</a> was contributed by <a href="https://github.com/danbarua" target="_blank" rel="noopener noreferrer">@danbarua</a> and added in true ServiceStack-style where it&#39;s now automatically and transparently enabled for any existing services returning:</p><h4 id="a-physical-file" tabindex="-1">A Physical File <a class="header-anchor" href="#a-physical-file" aria-hidden="true">#</a></h4><div class="language-csharp"><pre><code><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HttpResult</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileInfo</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span>MimeType<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h4 id="a-memory-stream" tabindex="-1">A Memory Stream <a class="header-anchor" href="#a-memory-stream" aria-hidden="true">#</a></h4><div class="language-csharp"><pre><code><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HttpResult</span><span class="token punctuation">(</span>ms<span class="token punctuation">,</span> <span class="token string">&quot;audio/mpeg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="raw-text" tabindex="-1">Raw Text <a class="header-anchor" href="#raw-text" aria-hidden="true">#</a></h4><div class="language-csharp"><pre><code><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HttpResult</span><span class="token punctuation">(</span>customText<span class="token punctuation">,</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Partial Content was also added to static file downloads served directly through ServiceStack which lets you stream mp3 downloads or should you ever want to your static .html, .css, .js, etc.</p><p>You can disable Partial Content support with <code>Config.AllowPartialResponses = false;</code>.</p><p>See the <a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/PartialContentResultTests.cs" target="_blank" rel="noopener noreferrer">PartialContentResultTests</a> for more examples.</p><h2 id="auto-route-generation-strategies" tabindex="-1">Auto Route Generation Strategies <a class="header-anchor" href="#auto-route-generation-strategies" aria-hidden="true">#</a></h2><p>For a long time ServiceStack has provided a way to automatically generate routes based on convention with a 1-liner:</p><div class="language-csharp"><pre><code>Routes<span class="token punctuation">.</span><span class="token function">AddFromAssembly</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">TypeWhereMyServicesAre</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Assembly<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Which is just an <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.ServiceInterface/ServiceRoutesExtensions.cs#L26" target="_blank" rel="noopener noreferrer">Extension method</a> over <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/ServiceHost/IServiceRoutes.cs" target="_blank" rel="noopener noreferrer">IServiceRoutes</a>. Previously the default conventions were a black-box which registered routes based on the Request DTO Name, whether it had an <strong>Id</strong> property and what actions were implemented. If you wanted different conventions the solution was to take a copy of the implementation and tweak it to suit your needs.</p><p>As we want to keep the single line of intent above, we&#39;ve made the conventions configurable where you can now adjust/remove the existing rules or add your own to the <strong>pre-defined</strong> rules in <code>Config.RouteNamingConventions</code>:</p><div class="language-csharp"><pre><code>RouteNamingConventions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>RouteNamingConventionDelegate<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    RouteNamingConvention<span class="token punctuation">.</span>WithRequestDtoName<span class="token punctuation">,</span>
    RouteNamingConvention<span class="token punctuation">.</span>WithMatchingAttributes<span class="token punctuation">,</span>     <span class="token comment">// defaults: PrimaryKeyAttrubute</span>
    RouteNamingConvention<span class="token punctuation">.</span>WithMatchingPropertyNames<span class="token punctuation">,</span>  <span class="token comment">// defaults: Id, IDs</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The existing rules can be further customized by modifying the related static properties, e.g:</p><div class="language-csharp"><pre><code>RouteNamingConvention<span class="token punctuation">.</span>PropertyNamesToMatch<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">&quot;UniqueId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
RouteNamingConvention<span class="token punctuation">.</span>AttributeNamesToMatch<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">&quot;DefaultIdAttribute&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Which will make these request DTOs:</p><div class="language-csharp"><pre><code><span class="token keyword">class</span> <span class="token class-name">MyRequest1</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> UniqueId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyRequest2</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">DefaultId</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> CustomId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Generate the following routes:</p><pre><code>/myrequest1
/myrequest1/{UniqueId}
/myrequest2
/myrequest2/{CustomId}
</code></pre><p>See the implementation of <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ServiceHost/RouteNamingConvention.cs" target="_blank" rel="noopener noreferrer">RouteNamingConvention</a> for examples of how to add your own auto-generated route conventions.</p><p>The customizable Route inference strategies was originally contributed by <a href="https://github.com/julrichkieffer" target="_blank" rel="noopener noreferrer">@julrichkieffer</a>.</p><h2 id="validation" tabindex="-1">Validation <a class="header-anchor" href="#validation" aria-hidden="true">#</a></h2><h3 id="route-validation" tabindex="-1">Route Validation <a class="header-anchor" href="#route-validation" aria-hidden="true">#</a></h3><p>Enforcing the convention of having all routes prefixed with <code>/</code>. It supported both earlier but as multiple client/server tools can read the metadata we want to enforce consistent definitions that can be relied on. You can skip validation with <code>EndpointHostConfig.SkipRouteValidation = true;</code>.</p><h3 id="validation-feature" tabindex="-1">Validation Feature <a class="header-anchor" href="#validation-feature" aria-hidden="true">#</a></h3><p>Added ErrorResponseFilter on the ValidationFeature that can be used to <a href="http://stackoverflow.com/a/16065721/85785" target="_blank" rel="noopener noreferrer">override the default handling of validation errors</a> with your own implementation.</p><h2 id="swagger-api" tabindex="-1">Swagger API <a class="header-anchor" href="#swagger-api" aria-hidden="true">#</a></h2><p>ServiceStack&#39;s <a href="/swagger-api.html">Swagger API documentation</a> support has undergone a lot more development with new features and polish thanks largely to the efforts of <a href="https://github.com/improvedk" target="_blank" rel="noopener noreferrer">@improvedk</a>, <a href="https://github.com/mmertsock" target="_blank" rel="noopener noreferrer">@mmertsock</a> and <a href="https://github.com/joshearl" target="_blank" rel="noopener noreferrer">@joshearl</a>:</p><p>The SwaggerFeature plugin has a couple more config options which changes what the generated metadata look like:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">SwaggerFeature</span> <span class="token punctuation">{</span> 
    UseCamelCaseModelPropertyNames <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    UseLowercaseUnderscoreModelPropertyNames <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

Config<span class="token punctuation">.</span>UseHttpsLinks <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>     <span class="token comment">//will ensure all urls exposed in Swagger start with \`https://\`</span>
</code></pre></div><p>A couple new metadata attributes have been added to further document your services:</p><p>The <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/ServiceHost/ApiResponse.cs" target="_blank" rel="noopener noreferrer">ApiResponse</a> attribute allows you specify the different error response statuses your services return.</p><p>The <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Api.Swagger/ApiAllowableValuesAttribute.cs" target="_blank" rel="noopener noreferrer">ApiAllowableValuesAttribute</a> attribute allows you to specify an allowable min/max range, list of named values, an Enum of named values or a custom factory returning a calculated list of names.</p><p>Example of using the new attributes together on the same Request DTO:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/fruits&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Api</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;Find fruity goodness we stock&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ApiResponse</span><span class="token attribute-arguments"><span class="token punctuation">(</span>HttpResponse<span class="token punctuation">.</span>BadRequest<span class="token punctuation">,</span> <span class="token string">&quot;We only have fruits, not what you asked for&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ApiResponse</span><span class="token attribute-arguments"><span class="token punctuation">(</span>HttpResponse<span class="token punctuation">.</span>InternalServerError<span class="token punctuation">,</span> <span class="token string">&quot;Our fruit supplier is closed for business&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FindFruits</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IReturn<span class="token punctuation">&lt;</span>List<span class="token punctuation">&lt;</span>Fruit<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ApiAllowableValues</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;family&quot;</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">FruitFamily</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span> <span class="token comment">//Enum</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Family <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="text-serialization" tabindex="-1">Text Serialization <a class="header-anchor" href="#text-serialization" aria-hidden="true">#</a></h2><p>The JSON, JSV and CSV Text Serializers support serializing public fields with:</p><pre><code>JsConfig.Init(new Config { IncludePublicFields = true });
</code></pre><h3 id="scoped-static-configuration" tabindex="-1">Scoped static configuration <a class="header-anchor" href="#scoped-static-configuration" aria-hidden="true">#</a></h3><p>You can use block-scoped configuration to modify the configuration for a single thread within a using block, e.g:</p><div class="language-csharp"><pre><code><span class="token comment">//Any config changes only apply to this using scope</span>
<span class="token keyword">using</span> <span class="token punctuation">(</span>JsConfig<span class="token punctuation">.</span><span class="token function">With</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Config</span> <span class="token punctuation">{</span> IncludePublicFields <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FieldId</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToUrl</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">-&gt;</span> <span class="token operator">/</span>route<span class="token operator">/</span><span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="miscellaneous" tabindex="-1">Miscellaneous <a class="header-anchor" href="#miscellaneous" aria-hidden="true">#</a></h2><ul><li>Added IAuthSession.OnCreated(httpReq) custom event (similar to Session_Started)</li><li>Added Config.AllowNonHttpOnlyCookies to disable http-only cookies</li><li>Added <code>AppHost.GetPlugin&lt;IPlugin&gt;()</code> to find and return registered plugin</li><li>Added ToMd5Hash extension method on Stream or byte[]</li><li>Added AssertDir extension method creating a directory if it doesn&#39;t exist</li><li>Added .svg to static files whitelist</li><li>Silverlight client builds were updated by <a href="https://github.com/ddotlic" target="_blank" rel="noopener noreferrer">@ddotlic</a> .</li></ul><h1 id="v3-9-35-release-notes" tabindex="-1">v3.9.35 Release Notes <a class="header-anchor" href="#v3-9-35-release-notes" aria-hidden="true">#</a></h1><p>This was our biggest ever release which saw refinements across the board to most of ServiceStack&#39;s major components with a number of new features, enhancements, modularizations, custom hooks and extensibility points making this the most feature-packed, modular and extensible ServiceStack ever!</p><p>The big ticket feature items in this release are the declarative security restrictions, new Swagger Support as well as all the other plugins we&#39;ve added since our last v3.9.17 release: inc. Azure and Amazon DynamoDb Caching providers, Support for OpenId, Raven DB AuthProvider, EnterpriseLibrary5 logging and support for the MsgPack Format.</p><h2 id="restrict-services" tabindex="-1">Restrict Services <a class="header-anchor" href="#restrict-services" aria-hidden="true">#</a></h2><p>You can now declaratively specify the <strong>Access</strong> and <strong>Visibility</strong> restrictions on any service using the new <code>[Restrict]</code> attribute. Access restrictions limits the accessibility of your services whilst Visibility affects whether or not the service shows up on the public <code>/metadata</code> pages.</p><h3 id="named-configurations" tabindex="-1">Named Configurations <a class="header-anchor" href="#named-configurations" aria-hidden="true">#</a></h3><p>The Restrict attribute includes a number of Named configurations for common use-cases. E.g You can specify a Service should only be available from your local machine with:</p><pre><code>[Restrict(LocalhostOnly = true)]
public class LocalAdmin { }
</code></pre><p>Which ensures access to this service is only allowed from localhost clients and the details of this service will only be visible on <code>/metadata</code> pages that are viewed locally.</p><p>This is equivalent to using the underlying granular form of specifying individual <code>EndpointAttributes</code>, e.g:</p><pre><code>[Restrict(AccessTo = EndpointAttributes.Localhost, VisibilityTo = EndpointAttributes.Localhost)]
public class LocalAdmin { }
</code></pre><p>There are many more named configurations available. E.g. you can use <strong>VisibleInternalOnly</strong> to only have a service listed on internally viewed <code>/metadata</code> pages with:</p><pre><code>[Restrict(VisibleInternalOnly = true)]
public class InternalAdmin { }
</code></pre><p>Services can be restricted on any EndpointAttribute, so you can ensure this service is only called by XML clients by simply adding:</p><pre><code>[Restrict(EndpointAttributes.Xml)]
public class XmlOnly { }
</code></pre><h3 id="restriction-combinations" tabindex="-1">Restriction Combinations <a class="header-anchor" href="#restriction-combinations" aria-hidden="true">#</a></h3><p>Likewise you can add any combination of Endpoint Attributes together, E.g. this restricts access to service to Internal JSON clients only:</p><pre><code>[Restrict(EndpointAttributes.InternalNetworkAccess | EndpointAttributes.Json)]
public class JsonInternalOnly { }
</code></pre><h3 id="multiple-restriction-scenarios" tabindex="-1">Multiple restriction scenarios <a class="header-anchor" href="#multiple-restriction-scenarios" aria-hidden="true">#</a></h3><p>It also supports multiple restriction scenarios, E.g. This service is only accessible by <strong>internal JSON</strong> clients or <strong>External XML</strong> clients:</p><pre><code>[Restrict(EndpointAttributes.InternalNetworkAccess | EndpointAttributes.Json,
          EndpointAttributes.External | EndpointAttributes.Xml)]
public class JsonInternalOrXmlExternalOnly { }
</code></pre><p>A popular configuration that takes advantage of this feature would be to only allow HTTP plain-text traffic from Internal Networks and only allow external access via secure HTTPS, which you can enforce with:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Restrict</span><span class="token attribute-arguments"><span class="token punctuation">(</span>EndpointAttributes<span class="token punctuation">.</span>InSecure <span class="token operator">|</span> EndpointAttributes<span class="token punctuation">.</span>InternalNetworkAccess<span class="token punctuation">,</span>
          EndpointAttributes<span class="token punctuation">.</span>Secure   <span class="token operator">|</span> EndpointAttributes<span class="token punctuation">.</span>External<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InternalHttpAndExternalHttps</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><p>In Debug Mode the metdata pages shows all services including restricted ones, whilst when not in Debug mode the restricted services are hidden from the publically viewable list, which lets you hide the existence of internal services from the external metadata pages.</p><h2 id="other-security" tabindex="-1"><a href="/auth.html">Other Security</a> <a class="header-anchor" href="#other-security" aria-hidden="true">#</a></h2><ul><li>Invalid Roles and Permissions access now returns the non-recoverable <strong>403 Forbidden</strong> instead of the earlier <strong>401 Unauthorized</strong></li><li>Added <strong>OnRegistered</strong> and <strong>OnLogout</strong> custom event hooks on AuthUserSession</li><li>Updated all built-in Auth and Registration DTOs with numerical field indexes so all built-in services now work with ProtoBuf</li></ul><h2 id="plugins" tabindex="-1"><a href="/plugins.html">Plugins</a> <a class="header-anchor" href="#plugins" aria-hidden="true">#</a></h2><h3 id="swagger-support" tabindex="-1">Swagger support <a class="header-anchor" href="#swagger-support" aria-hidden="true">#</a></h3><p>We&#39;ve packaged Swagger support for ServiceStack into an optional and convenient <a href="https://nuget.org/packages/ServiceStack.Api.Swagger/" target="_blank" rel="noopener noreferrer">ServiceStack.Api.Swagger</a> NuGet package.</p><p>After installing the NuGet package enable the Swagger feature with:</p><pre><code>Plugins.Add(new SwaggerFeature());
</code></pre><p>Now you can enjoy your shiny new Swagger UI at: <code>http://yoursite/swagger-ui/index.html</code></p><h4 id="annotating-your-services" tabindex="-1">Annotating your services <a class="header-anchor" href="#annotating-your-services" aria-hidden="true">#</a></h4><p>You can further document your services in the Swagger UI with the new <code>[Api]</code> and <code>[ApiMember]</code> annotation attributes, e,g: Here&#39;s an example of a fully documented service:</p><pre><code>[Api(&quot;Service Description&quot;)]
[Route(&quot;/swagger/{Name}&quot;, &quot;GET&quot;, Summary = @&quot;GET Summary&quot;, Notes = &quot;GET Notes&quot;)]
[Route(&quot;/swagger/{Name}&quot;, &quot;POST&quot;, Summary = @&quot;POST Summary&quot;, Notes = &quot;POST Notes&quot;)]
public class MyRequestDto
{
    [ApiMember(Name=&quot;Name&quot;, Description = &quot;Name Description&quot;, 
               ParameterType = &quot;path&quot;, DataType = &quot;string&quot;, IsRequired = true)]
    public string Name { get; set; }
}
</code></pre><h3 id="caching-providers" tabindex="-1">Caching Providers <a class="header-anchor" href="#caching-providers" aria-hidden="true">#</a></h3><p>We&#39;ve added 2 new &quot;Cloud-Ready&quot; <a href="/caching.html">Caching Providers</a> for Amazon&#39;s AWS Dynamo DB and Windows Azure Caching services:</p><ul><li><a href="https://nuget.org/packages/ServiceStack.Caching.AwsDynamoDb/" target="_blank" rel="noopener noreferrer">ServiceStack.Caching.AwsDynamoDb</a> on NuGet</li><li><a href="https://nuget.org/packages/ServiceStack.Caching.Azure/" target="_blank" rel="noopener noreferrer">ServiceStack.Caching.Azure</a> on NuGet</li></ul><h3 id="authentication-1" tabindex="-1">Authentication <a class="header-anchor" href="#authentication-1" aria-hidden="true">#</a></h3><p>We&#39;ve added RavenDB to our list of supported <a href="/authentication-and-authorization.html">Auth Provider backends</a> and extended our <a href="/auth-openid.html">OpenId support</a> to include DotNetAuth&#39;s support for Google, Yahoo and alternate Custom OpenId providers:</p><ul><li><a href="https://nuget.org/packages/ServiceStack.Authentication.RavenDb/" target="_blank" rel="noopener noreferrer">ServiceStack.Authentication.RavenDb</a> on NuGet</li><li><a href="https://nuget.org/packages/ServiceStack.Authentication.OpenId/" target="_blank" rel="noopener noreferrer">Google, Yahoo, MyOpenId and Custom OpenId</a> on NuGet</li></ul><p>An adapter for Microsoft&#39;s Enterprise Library5 Logging application block has joined our growing list of <a href="https://github.com/ServiceStack/ServiceStack.Logging" target="_blank" rel="noopener noreferrer">Logging Providers</a> whilst support for the <a href="/messagepack-format.html">Message Pack Format</a> joins Protocol Buffers as our fastest binary formats:</p><ul><li><a href="https://nuget.org/packages/ServiceStack.Logging.EnterpriseLibrary5/" target="_blank" rel="noopener noreferrer">ServiceStack.Logging.EnterpriseLibrary5</a> on NuGet</li><li><a href="https://nuget.org/packages/ServiceStack.Plugins.MsgPack/" target="_blank" rel="noopener noreferrer">ServiceStack.Plugins.MsgPack</a> on NuGet</li></ul><h3 id="new-api-changes" tabindex="-1"><a href="/api-design.html">New API</a> Changes <a class="header-anchor" href="#new-api-changes" aria-hidden="true">#</a></h3><ul><li>Moved in-built the Auth, AssignRoles and UnAssignRoles Services to use the new API</li><li>Deprecated the old API <code>ServiceBase&lt;T&gt;</code> and <code>RestServiceBase&lt;T&gt;</code> classes</li><li>New API methods also supports typed (i.e. non-object) return types, e.g instead of:</li></ul><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token class-name">AllReqstars</span> request<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> Db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Reqstar<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can now optionally specify the strong return type:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Reqstar<span class="token punctuation">&gt;</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token class-name">AllReqstars</span> request<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> Db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Reqstar<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Redis</strong> and <strong>MessageProducer</strong> now added to New API&#39;s convenient <strong>Service</strong> base class. E.g. The example below defers the execution of every 100th request to the registered MessageProducer:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyService</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Service</span></span> 
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Post</span><span class="token punctuation">(</span><span class="token class-name">CreateCustomer</span> request<span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Redis<span class="token punctuation">.</span><span class="token function">Incr</span><span class="token punctuation">(</span><span class="token string">&quot;CreateCustomerCount&quot;</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            MessageProducer<span class="token punctuation">.</span><span class="token function">Publish</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> 
        <span class="token punctuation">{</span>
            Db<span class="token punctuation">.</span><span class="token function">Insert</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">TranslateTo</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Customer<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Added support for enumerable params using custom pretty urls with C# Service Clients:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/customers/{Ids}&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Customers</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> Ids <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// GET /customers/1,2,3</span>
<span class="token class-name"><span class="token keyword">var</span></span> customers <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Customers</span> <span class="token punctuation">{</span> Ids <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="new-setstatus-and-addheader-request-filters" tabindex="-1">New <a href="/customize-http-responses.html">SetStatus and AddHeader</a> <a href="/filter-attributes.html">Request Filters</a> <a class="header-anchor" href="#new-setstatus-and-addheader-request-filters" aria-hidden="true">#</a></h3><p>We&#39;ve added some more ways to <a href="/customize-http-responses.html">Custom the HTTP Response</a> with new <code>[AddHeader]</code> and <code>[SetStatus]</code> Request <a href="/filter-attributes.html">Filter attribues</a>.</p><p>E.g. If we wanted to defer execution of a CustomerOrder request by publishing the Request DTO to the configured MQ Broker, we can use SetStatus to notify the HTTP Client that their CustomerOrder has been accepted but not processed yet:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">SetStatus</span><span class="token attribute-arguments"><span class="token punctuation">(</span>HttpStatusCode<span class="token punctuation">.</span>Accepted<span class="token punctuation">,</span> <span class="token string">&quot;Customer Order Accepted&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Post</span><span class="token punctuation">(</span><span class="token class-name">CustomerOrder</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token function">PublishMessage</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</code></pre></div><p>Which is equivalent to returning a customized HttpResult:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Post</span><span class="token punctuation">(</span><span class="token class-name">CustomerOrder</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token function">PublishMessage</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HttpResult</span><span class="token punctuation">(</span>HttpStatusCode<span class="token punctuation">.</span>Accepted<span class="token punctuation">,</span> <span class="token string">&quot;Customer Order Accepted&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>In the same way, the <code>[AddHeader]</code> attribute allows you to set custom HTTP Response Headers. E.g. Here&#39;s a CSV Service that returns the System&#39;s Contact Info and a X-CustomHeader HTTP Response header:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AddHeader</span><span class="token attribute-arguments"><span class="token punctuation">(</span>ContentType <span class="token operator">=</span> <span class="token string">&quot;text/csv&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">AddHeader</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;X-CustomHeader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Value&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token class-name">ContactInfo</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">return</span> <span class="token string">&quot;Key,Value\\n&quot;</span>
         <span class="token operator">+</span> <span class="token string">&quot;AdminEmail,admin@email.com\\n&quot;</span>
         <span class="token operator">+</span> <span class="token string">&quot;AdminPhone,555-1234\\n&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="soap-support" tabindex="-1"><a href="/soap-support.html">SOAP Support</a> <a class="header-anchor" href="#soap-support" aria-hidden="true">#</a></h3><p>Added <code>IRequiresSoapMessage</code> which works similar to <code>IRequiresRequestStream</code> interface to tell ServiceStack to skip de-serialization of the request and instead pass the raw WCF Message to the Service instead for manual processing, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RawWcfMessage</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IRequiresSoapMessage</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Message</span> Message <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Post</span><span class="token punctuation">(</span><span class="token class-name">RawWcfMessage</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    request<span class="token punctuation">.</span>Message<span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token comment">//Raw WCF SOAP Message</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="metadata-pages" tabindex="-1"><a href="/metadata-page.html">Metadata pages</a> <a class="header-anchor" href="#metadata-pages" aria-hidden="true">#</a></h3><p>The metadata pages have undergone a significant re-factor to support new Security features, format/verb detection, annotation attributes and unified metadata configuration object model:</p><ul><li>Functionality for /metadata pages have been packaged into an optional <code>MetadataFeature</code> modular plugin</li><li>Added <code>Config.MetadataVisibility</code> to restrict visibility of the auto-generated <code>/metadata</code> pages</li><li>Re-factored all ServiceStack metadata on Services into unified <code>Config.Metadata</code> object model <ul><li>Added new <code>/operations/metadata</code> debug route added for viewing metadata stored on available services</li></ul></li><li>Metadata operations page now disables links to formats on restricted and hidden operations <ul><li>E.g. Services that don&#39;t support HTTP POST will show as disabled for SOAP endpoints</li></ul></li><li>Replaced old unused client example links with single link to GitHub Clients Overview wiki page</li><li>Added <code>[Api]</code> and <code>[ApiMember]</code> annotation attributes for use in /metadata pages and Swagger API</li></ul><h3 id="pre-defined-routes" tabindex="-1"><a href="http://www.servicestack.net/ServiceStack.Hello/#predefinedroutes" target="_blank" rel="noopener noreferrer">Pre-defined Routes</a> <a class="header-anchor" href="#pre-defined-routes" aria-hidden="true">#</a></h3><ul><li>Refactored support for ServiceStack&#39;s pre-defined routes into an optional <code>PredefinedRoutesFeature</code> plugin</li><li>Added new pre-defined route <code>/reply/{Operation}</code> as a shorter alias for <code>/syncreply/{Operation}</code></li><li>Added new pre-defined route <code>/oneway/{Operation}</code> as a shorter alias for <code>/asynconeway/{Operation}</code></li></ul><h3 id="razor-support" tabindex="-1"><a href="http://razor.servicestack.net/" target="_blank" rel="noopener noreferrer">Razor Support</a> <a class="header-anchor" href="#razor-support" aria-hidden="true">#</a></h3><ul><li>Razor Format now looks for a view with the same name as the Request DTO first, before the Response DTO name</li><li>Service Errors now stored in <code>@ModelError</code> and typed Exception details available in <code>@ResponseStatus</code></li><li>Added <code>RazorFormat.SkipPaths</code> setting to skip searching views in <code>/obj</code> and <code>/bin</code> folders by default</li></ul><h3 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-hidden="true">#</a></h3><ul><li>Support for overriding soapAction namespace in WSDL with <code>Config.WsdlSoapActionNamespace</code></li></ul><h3 id="error-configuration-and-customizations" tabindex="-1"><a href="/error-handling.html">Error Configuration and Customizations</a> <a class="header-anchor" href="#error-configuration-and-customizations" aria-hidden="true">#</a></h3><p>Use <code>Config.MapExceptionToStatusCode</code> to change what error codes are returned for different exceptions, e.g:</p><div class="language-csharp"><pre><code><span class="token function">SetConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">EndpointHostConfig</span> <span class="token punctuation">{</span> 
    MapExceptionToStatusCode <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">CustomInvalidRoleException</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">403</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">CustomerNotFoundException</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">404</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Use <code>Config.CustomErrorHttpHandlers</code> for specifying custom HttpHandlers to use with specific error status codes, e.g:</p><div class="language-csharp"><pre><code><span class="token function">SetConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">EndpointHostConfig</span> <span class="token punctuation">{</span>
    CustomErrorHttpHandlers <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span> HttpStatusCode<span class="token punctuation">.</span>NotFound<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RazorHandler</span><span class="token punctuation">(</span><span class="token string">&quot;/notfound&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> HttpStatusCode<span class="token punctuation">.</span>Unauthorized<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RazorHandler</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Use <code>Config.GlobalHtmlErrorHttpHandler</code> for specifying a <strong>fallback HttpHandler</strong> for all error status codes, e.g:</p><div class="language-csharp"><pre><code><span class="token function">SetConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">EndpointHostConfig</span> <span class="token punctuation">{</span>
    GlobalHtmlErrorHttpHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RazorHandler</span><span class="token punctuation">(</span><span class="token string">&quot;/oops&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="debugging-diagnostics" tabindex="-1">Debugging / Diagnostics <a class="header-anchor" href="#debugging-diagnostics" aria-hidden="true">#</a></h3><ul><li>Automatically adding RequestLogsInfo feature for DebugBuilds</li><li>Only return detailed 404 info pages on DebugBuilds</li><li>Enable <code>__requestinfo</code> path info flag showing full dump of request details in DebugBuilds</li></ul><h3 id="route-helpers" tabindex="-1"><a href="/routing.html">Route Helpers</a> <a class="header-anchor" href="#route-helpers" aria-hidden="true">#</a></h3><p>Added New API support to the convention-based auto-route <code>Route.AddFromAssembly()</code> utility which scans supplied Assemblies registering the inferred REST paths and HTTP verbs for all Old and New API services it finds.</p><p>E.g. With the following Services:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Foo</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FooService</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Service</span></span> <span class="token punctuation">{</span>     
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token class-name">Foo</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Post</span><span class="token punctuation">(</span><span class="token class-name">Foo</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token class-name">Bar</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Adding this in your <code>AppHost.Configure()</code>:</p><div class="language-csharp"><pre><code>Routes<span class="token punctuation">.</span><span class="token function">AddFromAssembly</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">FooService</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Assembly<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Is equivalent to manually adding these route registrations:</p><div class="language-csharp"><pre><code>Routes<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Add</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Foo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;/foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GET POST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Routes<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Add</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Foo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;/foo/{Id}&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GET POST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Routes<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Add</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Bar<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;/bar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="mapping-helpers" tabindex="-1">Mapping Helpers <a class="header-anchor" href="#mapping-helpers" aria-hidden="true">#</a></h3><p>Our built-in Mappers now support mapping between fields, properties and methods of the same name. They also now support mapping from Dynamic proxies (e.g. NHibernate) and will coerce properties of different types, e.g. strings to ints, doubles, enums, etc and vice-versa. The built-in mappers can be accessed with the <code>TSrc.TranslateTo&lt;TDest&gt;()</code> and <code>TDest.PopulateWith(TSrc)</code> family of methods, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> bar <span class="token operator">=</span> foo<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">TranslateTo</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Bar<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
foo<span class="token punctuation">.</span><span class="token function">PopulateWith</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>

foo<span class="token punctuation">.</span><span class="token function">PopulateWithNonDefaultValues</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Only populate properties marked with [DataMember]</span>
foo<span class="token punctuation">.</span><span class="token function">PopulateFromPropertiesWithAttribute</span><span class="token punctuation">(</span>bar<span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">DataMemberAttribute</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre></div><h3 id="url-helpers" tabindex="-1">URL Helpers <a class="header-anchor" href="#url-helpers" aria-hidden="true">#</a></h3><p>Added the <code>HttpResult.Redirect(newUrl)</code> helper method. Added the <code>httpReq.GetBaseUrl()</code> extension method. Added the SetQueryParam string extension method to help build urls, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> url <span class="token operator">=</span> <span class="token string">&quot;http://host.com/path&quot;</span>
  <span class="token punctuation">.</span><span class="token function">SetQueryParam</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">SetQueryParam</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">SetQueryParam</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;override&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

url<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//= http://host.com/path?key=override&amp;foo=bar</span>
</code></pre></div><h3 id="misc" tabindex="-1">Misc <a class="header-anchor" href="#misc" aria-hidden="true">#</a></h3><ul><li>Added <code>HttpContext.ToRequestContext()</code> extension method to convert an <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> HTTP Context into a ServiceStack <code>HttpRequestContext</code></li><li>SOAP endpoints now supported in self-hosted HttpListener hosts</li><li>Added custom client build for Windows Phone</li><li>Empty responses now return <strong>204</strong> StatusCode by default (overrideable with Config.Return204NoContentForEmptyResponse)</li><li>Added static <code>AppHostBase.ResolveService&lt;T&gt;()</code> method for resolving an auto-wired ServiceStack service as used in MVC</li><li>Deprecated Old API classes in favour of New API</li><li>Rename embedded files (e.g. for MiniProfiler) to use a <code>ssr-</code> prefix</li></ul><h1 id="v3-9-17-release-notes" tabindex="-1">v3.9.17 Release Notes <a class="header-anchor" href="#v3-9-17-release-notes" aria-hidden="true">#</a></h1><h2 id="servicestack-s-new-api-design" tabindex="-1">ServiceStack&#39;s new API design <a class="header-anchor" href="#servicestack-s-new-api-design" aria-hidden="true">#</a></h2><p>This was an exciting release where we&#39;ve added an alternative <a href="/api-design.html">API design</a> that made significant improvements to structure and surface of ServiceStack&#39;s Client and Server Side APIs that:</p><ul><li>Promotes a more succinct, typed, end-to-end client API</li><li>Works with all the existing JSON, XML and JSV Service Clients</li><li>Typed client APIs use user-defined Cool Uris without needing to build strings on the HTTP Client</li><li>Supports handling of any HTTP Verb</li><li>Less Restrictive and Opinionated - Allows for &#39;Pure Responses&#39; whilst retaining structured exceptions in the typed clients</li><li>Each service can now handle any number of different Request types and HTTP Verbs</li><li>Easier to use - Merges and simplifies existing IService and IRestService concepts and interfaces together</li><li>Introduces finer-grained Action Request and Response filters</li><li>Smarter Routing</li><li>Easier to add custom hooks that&#39;s more decoupled and testable</li><li>Works with ServiceStack&#39;s existing features, e.g. Content Negotiation, Metadata pages, Razor views, Auto HTML report, etc.</li></ul><p>See the wiki for <a href="/api-design.html">full details on the new API</a>. As it&#39;s much nicer and more flexible than the previous one, it&#39;s now stands as our recommended option for designing new services with. We&#39;ve already started work on porting the existing examples across, some of which will give you a good feel of its development experience in action:</p><ul><li><a href="http://razor.servicestack.net/rockstars" target="_blank" rel="noopener noreferrer">The Razor Rockstars Service</a></li><li><a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/NewApiTodos.cs" target="_blank" rel="noopener noreferrer">The Home Page TODOs example</a></li><li><a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/RazorRockstars.Console.Files/ReqStarsService.cs" target="_blank" rel="noopener noreferrer">The Comprehensive test suite</a></li><li><a href="https://github.com/ServiceStack/SocialBootstrapApi/" target="_blank" rel="noopener noreferrer">Social Bootstrap Api project</a> - See the <a href="https://github.com/ServiceStack/SocialBootstrapApi/commit/3b63651c13187ab93f5cefcb3d94fc3667b0fcd9" target="_blank" rel="noopener noreferrer">Old vs New Api Pull Request</a></li></ul><hr><h2 id="v3-9-11-release-notes" tabindex="-1">v3.9.11 Release Notes <a class="header-anchor" href="#v3-9-11-release-notes" aria-hidden="true">#</a></h2><h3 id="growing-oss-community" tabindex="-1">Growing OSS community <a class="header-anchor" href="#growing-oss-community" aria-hidden="true">#</a></h3><p>Following in the heels of last months major <a href="http://www.servicestack.net/100k-downloads/" target="_blank" rel="noopener noreferrer">100k NuGet downloads</a> milestone, we&#39;ve since <strong>moved up 4 places</strong> to now rank <a href="https://github.com/languages/C%23/most_watched" target="_blank" rel="noopener noreferrer"><strong>7th</strong> on GitHub&#39;s all-time .NET OSS leaderboard!</a> We&#39;re ecstatic from the interest and it&#39;s proving to be a strong motivator to shipping even more innovative features in the coming releases!</p><h3 id="complete-html-story-razor-markdown" tabindex="-1">Complete HTML story (Razor + Markdown) <a class="header-anchor" href="#complete-html-story-razor-markdown" aria-hidden="true">#</a></h3><p>By far the biggest feature in this release is ServiceStack&#39;s much improved HTML story with Razor and Multi-View Engine support. There&#39;s too many features to even begin listing here, but you can read all about it in the live showcase demo:</p><ul><li><a href="http://razor.servicestack.net" target="_blank" rel="noopener noreferrer">http://razor.servicestack.net</a></li></ul><h4 id="getting-started" tabindex="-1">Getting Started <a class="header-anchor" href="#getting-started" aria-hidden="true">#</a></h4><p>ServiceStack&#39;s Razor support comes conveniently packaged inside a <a href="https://nuget.org/packages/ServiceStack.Razor" target="_blank" rel="noopener noreferrer">NuGet package</a> that you can immediately get going with after creating any empty <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> or Console Application (.NET 4.0+) and running:</p>__VP_STATIC_END__`,183),d=e("div",{class:"package-reference-box"},[e("div",{class:"flex"},[e("div",{class:"flex-grow pre-container",style:{background:"#002440"}},[e("pre",{class:"sh copy m-0 p-0 pl-2 py-1 align-middle",style:{background:"#002440"}},[e("p",null,[e("code",null,'<PackageReference Include="ServiceStack.Razor" Version="5.*" />')]),n(`
`)])]),e("div",{class:"flex-shrink"},[e("i",{class:"svg-copy inline-block w-8 h-full",title:"copy",onclick:"copy(this)"}),e("b")])]),e("div",{class:"copy-text w-full text-right h-6"})],-1),h=a(`__VP_STATIC_START__<h2 id="improved-mono-support" tabindex="-1">Improved Mono Support <a class="header-anchor" href="#improved-mono-support" aria-hidden="true">#</a></h2><p>We continue to see providing first-class Mono Support as a core objective for the project as we expect our current strategy of Develop on <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> in Windows and deploy on Linux to become increasingly popular as it is able to take advantage of better scripting and automation, Value, infrastructure and Cloud environments that&#39;s continues to be invested in Linux-only environments today. Ensuring we continue to provide First-class Linux support influences the direction and technical implementation of the project:</p><h3 id="specialized-auto-correcting-behaviour-in-mono-self-hosts" tabindex="-1">Specialized, Auto-correcting behaviour in Mono / Self-Hosts <a class="header-anchor" href="#specialized-auto-correcting-behaviour-in-mono-self-hosts" aria-hidden="true">#</a></h3><p>We&#39;ve added normalizing behaviour to maintain the same unified experience across IIS/ASP.NET to Mono/ASP.NET and Self-Host (Win/Mono). At times when it differs from normal IIS/ASP.NET behaviour we apply auto-correcting behaviour to Mono and self-hosts to imitate IIS/ASP.NET, e.g. we auto-redirect dirs without &#39;/&#39; suffixes <a href="http://razor.servicestack.net/stars/alive/Vedder" target="_blank" rel="noopener noreferrer">/stars/alive/Vedder</a> and allow Mono to support case-insensitive urls <a href="http://razor.servicestack.net/stars/alive/vedder" target="_blank" rel="noopener noreferrer">/stars/alive/vedder</a>.</p><p>Our normalisation efforts allows the same website to work as-is in each of the supported ServiceStack hosts:</p><ul><li><a href="http://razor.servicestack.net" target="_blank" rel="noopener noreferrer">razor.servicestack.net</a> - <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Host on Linux / MonoFastCGI (+ Win)</li><li><a href="http://razor-console.servicestack.net" target="_blank" rel="noopener noreferrer">razor-console.servicestack.net</a> - Self-hosted console application behind Nginx Reverse proxy (+ Win)</li><li><a href="https://github.com/ServiceStack/RazorRockstars/tree/master/src/RazorRockstars.WinService" target="_blank" rel="noopener noreferrer">Windows Service</a></li></ul><h3 id="switched-to-markdowndeep-by-default" tabindex="-1">Switched to MarkdownDeep by default <a class="header-anchor" href="#switched-to-markdowndeep-by-default" aria-hidden="true">#</a></h3><p>As Mono only has limited support for Regular Expressions, the Reg-Ex based MarkdownSharp was not working too well for large Markdown pages. We&#39;ve since switched over to use the non-RegEx Markdown implementation <a href="http://www.toptensoftware.com/markdowndeep/" target="_blank" rel="noopener noreferrer">MarkdownDeep</a> by <a href="https://twitter.com/toptensoftware" target="_blank" rel="noopener noreferrer">@toptensoftware</a>.</p><p>Not only is Markdown Razor now working flawlessly across Windows / Linux, but it ended up being faster as well. The original MarkdownSharp is still included and can be swapped-in instead at start up.</p><h3 id="continious-integration-builds" tabindex="-1">Continious Integration Builds <a class="header-anchor" href="#continious-integration-builds" aria-hidden="true">#</a></h3><p>Thanks to the stellar efforts by <a href="http://twitter.com/desunit" target="_blank" rel="noopener noreferrer">@desunit</a>, we now have internal CI builds for both Mono and Windows releases. Given all our tests take a long time to run, they&#39;ve already been invaluable in increasing productivity and speeding up development. We plan to make successful nightly .NET and Mono release builds publically available soon.</p><h3 id="virtual-filesystem" tabindex="-1">Virtual FileSystem <a class="header-anchor" href="#virtual-filesystem" aria-hidden="true">#</a></h3><p>We&#39;ve switched over to use <a href="https://github.com/jrosskopf" target="_blank" rel="noopener noreferrer">@jrosskopf</a> new virtual file system that now allows us to support multiple data sources for webserver resources. E.g. We use the same API to serve both external and embedded file resources. The VFS makes it easy to add additional data sources later, e.g. serving Razor views on the fly from a database \u{1F603}.</p><h3 id="request-scope-in-funq" tabindex="-1">Request Scope in Funq <a class="header-anchor" href="#request-scope-in-funq" aria-hidden="true">#</a></h3><p>We&#39;ve extended the built-in <a href="/ioc.html">Funq IOC to support Request Scope</a>.</p><p>Container Adapters for Alternate IOC&#39;s can now implement <code>IRelease</code> or just continue to override <code>AppHost.Release()</code> to handle released resources. More details on the <a href="/ioc.html">IOC Wiki page</a></p><h3 id="dynamic-json" tabindex="-1">Dynamic JSON <a class="header-anchor" href="#dynamic-json" aria-hidden="true">#</a></h3><p>Thanks to Daniel Crenna&#39;s recent contributions we&#39;ve added his <code>DynamicJson</code> wrapper which provides an expressive dynamic API around ServiceStack&#39;s JSON serializer. As it requires .NET 4.0, it&#39;s been added to the .NET 4.0 ServiceStack.Razor Assembly.</p><h3 id="route-attribute" tabindex="-1"><code>[Route]</code> attribute <a class="header-anchor" href="#route-attribute" aria-hidden="true">#</a></h3><p>The <code>[RestService]</code> attribute was replaced with the more-fitting <code>[Route]</code> attribute. <code>[RestService]</code> has been deprecated but can still be used.</p><h3 id="global-exception-handling-is-overwriteable" tabindex="-1">Global exception handling is overwriteable <a class="header-anchor" href="#global-exception-handling-is-overwriteable" aria-hidden="true">#</a></h3><p>You can override the global exception handling strategy with <code>IAppHost.ExceptionHandler</code>. This is the default implementation:</p><div class="language-csharp"><pre><code><span class="token keyword">this</span><span class="token punctuation">.</span>ExceptionHandler <span class="token operator">=</span> <span class="token punctuation">(</span>httpReq<span class="token punctuation">,</span> httpRes<span class="token punctuation">,</span> operationName<span class="token punctuation">,</span> ex<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> errorMessage <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">&quot;Error occured while Processing Request: {0}&quot;</span><span class="token punctuation">,</span> ex<span class="token punctuation">.</span>Message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> statusCode <span class="token operator">=</span> ex<span class="token punctuation">.</span><span class="token function">ToStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>httpRes<span class="token punctuation">.</span>IsClosed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        httpRes<span class="token punctuation">.</span><span class="token function">WriteErrorToResponse</span><span class="token punctuation">(</span>httpReq<span class="token punctuation">.</span>ResponseContentType<span class="token punctuation">,</span> operationName<span class="token punctuation">,</span> errorMessage<span class="token punctuation">,</span> ex<span class="token punctuation">,</span> statusCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>The global exception handling strategy is invoked for un-handled exceptions or you are using <code>ServiceBase&lt;&gt;</code> (without overwriting <code>HandleException()</code>) and aren&#39;t following the naming convention <code>{Request DTO Name}Response</code> or for error occurring outside of the service (i.e. in ServiceStack itself).</p><h3 id="new-cors-plugin" tabindex="-1">New CORS plugin <a class="header-anchor" href="#new-cors-plugin" aria-hidden="true">#</a></h3><p>We&#39;ve added a flexible, yet easy to use <strong>CorsFeature</strong> that&#39;s effortless to add to any existing project or on a adhoc per-service basis. Full details are <a href="http://stackoverflow.com/questions/8211930/servicestack-rest-api-and-cors" target="_blank" rel="noopener noreferrer">on StackOverflow</a></p><h3 id="pre-request-filters-iapphost-prerequestfilters" tabindex="-1">Pre request filters (<code>IAppHost.PreRequestFilters</code>) <a class="header-anchor" href="#pre-request-filters-iapphost-prerequestfilters" aria-hidden="true">#</a></h3><p>Pre request filters are called before deserialization (i. e. before ServiceStack takes ownership of the request).</p><h2 id="minor-features-and-fixes" tabindex="-1">Minor Features and Fixes <a class="header-anchor" href="#minor-features-and-fixes" aria-hidden="true">#</a></h2><ul><li>Added support for Authentication in File uploads APIs of the Service Clients</li><li>We&#39;re now inferring ServiceStack&#39;s root handler path from the HttpListeners url in Self-hosts</li><li>Support caching of Binary Content-Types</li><li>Split <strong>UserHostAddress</strong> and <strong>RemoteIp</strong> into different properties, the latter also looks at X-Forwarded-For, X-Real-IP HTTP Headers</li><li>Made MimeTypes extensible to allow for user-defined Mime-Types</li><li>Added <strong>Routes</strong> and <strong>Plugins</strong> properties to <code>IAppHost</code></li><li>Improved base service classes to allow for easy access to typed sessions with <code>base.SessionAs&lt;TUserSession&gt;</code></li><li>Fix IPv6 loopback parsing issue</li><li>Added new <code>AppHostHttpListenerLongRunningBase</code> base class with benchmarks</li><li>Enable <a href="/request-logger.html">InMemoryRollingRequestLogger</a> to also handle non-HTTP requests</li><li>Lots more tests and bug fixes</li></ul><h2 id="significant-updates-to-json-redis-and-ormlite" tabindex="-1">Significant updates to JSON, Redis and OrmLite <a class="header-anchor" href="#significant-updates-to-json-redis-and-ormlite" aria-hidden="true">#</a></h2><p>Significant contributions have also been made on ServiceStack&#39;s sub projects:</p><ul><li><a href="https://github.com/ServiceStack/ServiceStack.Text" target="_blank" rel="noopener noreferrer">ServiceStack.Text</a></li><li><a href="https://github.com/ServiceStack/ServiceStack.Redis" target="_blank" rel="noopener noreferrer">ServiceStack.Redis</a> and the built-in <a href="/redis-mq.html">Redis MQ Server</a></li><li><a href="https://github.com/ServiceStack/ServiceStack.OrmLite" target="_blank" rel="noopener noreferrer">ServiceStack.OrmLite</a></li></ul><p>but they each deserve their own Release notes, which we hope to draft up soon.</p><p>.</p><h2 id="v3-78-release-notes" tabindex="-1">v3.78 Release Notes <a class="header-anchor" href="#v3-78-release-notes" aria-hidden="true">#</a></h2><p>Although it&#39;s been a long time between formal releases - v3.78 marks our biggest release ever! Mostly as a result of being too busy to prepare these release notes containing all the effort that have gone into the framework (and supporting libraries) in the last 6 months \u{1F603}</p><p>Today we hope to rectify this neglect with a special thanks to all the contributors that helped make this release possible. We would like to pay a special thanks to Steffen M\xFCller (<a href="http://twitter.com/arxisos" target="_blank" rel="noopener noreferrer">@arxisos</a>) whose code and documentation contributions and expert support in the <a href="https://groups.google.com/forum/?fromgroups#!forum/servicestack" target="_blank" rel="noopener noreferrer">forums</a> and <a href="http://jabbr.net/#rooms/servicestack" target="_blank" rel="noopener noreferrer">real-time help channel</a> over these last 6 months have been invaluable.</p><p>A lot of features being announced are already well known to our active user-base as they&#39;ve shipped in our production release builds for months. Hopefully these notes will highlight other useful but less known features.</p><h3 id="awesome-feedback" tabindex="-1">Awesome Feedback <a class="header-anchor" href="#awesome-feedback" aria-hidden="true">#</a></h3><p>We&#39;re estatic at the response we&#39;ve received from the community this year which has seen our Contributor count more than doubled (now at <a href="https://github.com/ServiceStack/ServiceStack#contributors" target="_blank" rel="noopener noreferrer">66 Contributors</a>!). We&#39;ve also received great response from our users which we&#39;ve started keeping track of this year under <a href="https://twitter.com/#!/ServiceStack/favorites" target="_blank" rel="noopener noreferrer">@ServiceStack favourites</a> and in the <a href="https://groups.google.com/forum/?fromgroups#!forum/servicestack" target="_blank" rel="noopener noreferrer">forums</a>.</p><h2 id="new-demo-reference-app" tabindex="-1">New Demo Reference App <a class="header-anchor" href="#new-demo-reference-app" aria-hidden="true">#</a></h2><p>Many of these features listed below are showcased in the new <a href="https://github.com/ServiceStack/SocialBootstrapApi" target="_blank" rel="noopener noreferrer">Social Bootstrap API reference demo</a> - a Backbone.js-enabled Single Page App (SPA) template, pre-configured with Twitter &amp; Facebook login, with <a href="https://github.com/ServiceStack/Bundler" target="_blank" rel="noopener noreferrer">Bundler</a> built-in for super-fast bundling and minification.</p><p>The above repo is kindly hosted by <a href="http://appharbor.com" target="_blank" rel="noopener noreferrer">AppHarbor</a> at <a href="http://bootstrapapi.apphb.com" target="_blank" rel="noopener noreferrer">http://bootstrapapi.apphb.com</a></p><p><a href="http://bootstrapapi.apphb.com" target="_blank" rel="noopener noreferrer"><img src="http://www.servicestack.net/img/bootstrap-api-02-850.png" alt="Tweets"></a></p><h3 id="authentication-authorization" tabindex="-1">Authentication &amp; Authorization <a class="header-anchor" href="#authentication-authorization" aria-hidden="true">#</a></h3><p>Probably the biggest features shipped in this release is a &#39;clean&#39; authentication provider model, completely detached from <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a>&#39;s existing membership providers exposed as clean interfaces with the following pluggable auth providers supported out-of-the-box:</p><div class="language-csharp"><pre><code>    Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthFeature</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">CustomUserSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>             <span class="token comment">//Use your own typed Custom UserSession type</span>
        IncludeAssignRoleServices <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>         <span class="token comment">//Don&#39;t register AssignRoles/UnAssignRoles services to manage users roles</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">IAuthProvider<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">CredentialsAuthProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>         <span class="token comment">//HTML Form post of UserName/Password credentials</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">TwitterAuthProvider</span><span class="token punctuation">(</span>appSettings<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">//Sign-in with Twitter</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FacebookAuthProvider</span><span class="token punctuation">(</span>appSettings<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//Sign-in with Facebook</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">BasicAuthProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>               <span class="token comment">//Sign-in with Basic Auth</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DigestAuthProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token comment">//Sign-in with Digest Auth</span>
            <span class="token keyword">new</span> <span class="token constructor-invocation class-name">CustomCredentialsAuthProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">//Subclass CredentialsAuthProvider and access your own User/Pass repository</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Note: Only the AuthProviders registered on the AuthFeature plugin are available at runtime.</p><h4 id="event-hooks" tabindex="-1">Event Hooks <a class="header-anchor" href="#event-hooks" aria-hidden="true">#</a></h4><p>You can add custom logic to the user Authenticaiton by overriding the <strong>OnAuthenticated()</strong> method on either the:</p><ul><li>Custom UserSession - which gets called after every successful Authentication/Login attempt (on any AuthProvider)</li><li>Custom AuthProvider - which only gets called when a user authenticates with this specific provider</li></ul><p>You can also plug-in your own Validation Hooks</p><ul><li>AuthService.ValidateFn - Called in the context of the AuthService, any C# exceptions are propagated to the client</li><li>RegistrationService.ValidateFn - Called in the context of the RegistrationService, any C# exceptions are propagated to the client</li><li>Registration Validator - Override the default Registration validator to add stricter/lax validation logic</li></ul><p>Since the new AuthFeature and its related <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.ServiceInterface/Auth/IAuthSession.cs" target="_blank" rel="noopener noreferrer">Session classes</a> are <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.ServiceInterface/Auth/UserAuth.cs" target="_blank" rel="noopener noreferrer">pure POCOs</a> we&#39;re able to cleanly support multiple back-end session &amp; persistance providers:</p><h4 id="per-request-session-access-icacheclient" tabindex="-1">Per-Request Session Access (ICacheClient) <a class="header-anchor" href="#per-request-session-access-icacheclient" aria-hidden="true">#</a></h4><ul><li>InMemory</li><li>Redis (distributed)</li><li>Memcached (distributed)</li></ul><h4 id="longterm-persistance-datastore" tabindex="-1">Longterm Persistance DataStore <a class="header-anchor" href="#longterm-persistance-datastore" aria-hidden="true">#</a></h4><ul><li>OrmLite <ul><li>SqlServer, Sqlite, PostgreSql, MySql and Firebird RDBMS back-ends</li></ul></li><li>Redis</li><li>InMemory (for testing)</li></ul><h3 id="roles-permissions" tabindex="-1">Roles &amp; Permissions <a class="header-anchor" href="#roles-permissions" aria-hidden="true">#</a></h3><p>The Auth POCOs can hold any number of Roles and Permissions per user.</p><p>Which can be used to protect your services by adding the attributes below onto your Service or Request DTOs:</p><pre><code> [RequiredRole(roleNames)]
 [RequiredPermission(permissionNames)]
</code></pre><p>These attributes can also be used on MVC Controllers as part of the <a href="http://nuget.org/packages/ServiceStack.Mvc" target="_blank" rel="noopener noreferrer">ServiceStack.Mvc</a> NuGet pacakage and is explained in the <a href="http://www.servicestack.net/mvc-powerpack/" target="_blank" rel="noopener noreferrer">MVC PowerPack</a>.</p><p>These permissions can be managed with the AssignRoles/UnAssignRoles services registered as part of the AuthFeature plugin. Only users with the <strong>Admin</strong> role can access these services.</p><p>More info about autentication can be found in the <a href="/authentication-and-authorization.html">wiki documentation</a>.</p><h2 id="validators" tabindex="-1">Validators <a class="header-anchor" href="#validators" aria-hidden="true">#</a></h2><p>When you enable the <code>ValidationFeature()</code> plugin you can create a <strong>validator for every request DTO</strong> you have, with <strong>smart, terse fluent syntax</strong> that can handle most use-cases, e.g:</p><div class="language-csharp"><pre><code>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserValidator</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">UserValidator<span class="token punctuation">&lt;</span>ModelToValidate<span class="token punctuation">&gt;</span></span></span> <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token function">UserValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//Validation rules for all requests</span>
            <span class="token function">RuleFor</span><span class="token punctuation">(</span>r <span class="token operator">=&gt;</span> r<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">NotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">RuleFor</span><span class="token punctuation">(</span>r <span class="token operator">=&gt;</span> r<span class="token punctuation">.</span>Age<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GreaterThan</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//Only apply this validation logic to POST and PUT requests</span>
            <span class="token function">RuleSet</span><span class="token punctuation">(</span>ApplyTo<span class="token punctuation">.</span>Post <span class="token operator">|</span> ApplyTo<span class="token punctuation">.</span>Put<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">RuleFor</span><span class="token punctuation">(</span>r <span class="token operator">=&gt;</span> r<span class="token punctuation">.</span>Count<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GreaterThan</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>This fluent syntax is provided to you by an integrated version of <a href="https://github.com/JeremySkinner" target="_blank" rel="noopener noreferrer">JeremySkinner</a>&#39;s excellent <a href="https://github.com/JeremySkinner/FluentValidation" target="_blank" rel="noopener noreferrer">FluentValidation</a> library.</p><p>More info about validation can be found in the <a href="/validation.html">wiki documentation</a>.</p><h3 id="filter-attributes" tabindex="-1">Filter attributes <a class="header-anchor" href="#filter-attributes" aria-hidden="true">#</a></h3><p>Request/Response filters (modelled after MVC Action filters) are a great way to share common logic between services which you can easily add by marking your service class or Request/Response DTOs with a Request or Response Filter Attribute. The <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.ServiceInterface/RequiredRoleAttribute.cs" target="_blank" rel="noopener noreferrer">RequiredRole</a> and <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.ServiceInterface/RequiredPermissionAttribute.cs" target="_blank" rel="noopener noreferrer">RequiredPermission</a> attributes good examples of functionality that&#39;s best captured in Filter attributes. Here&#39;s a simple example of how to create one:</p><div class="language-csharp"><pre><code>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LogFilterAttribute</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">RequestFilterAttribute</span></span> <span class="token punctuation">{</span>
        
        <span class="token keyword">public</span> <span class="token return-type class-name">IStatsLogger</span> StatsLogger <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>  <span class="token comment">// Injected by IOC</span>
          
        <span class="token keyword">public</span> <span class="token function">LogFilterAttribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//Priorities &lt;0 are executed before global filters, filters with priorities &gt;= are executed after (in order)</span>
            <span class="token keyword">base</span><span class="token punctuation">.</span>Priority <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Execute</span><span class="token punctuation">(</span><span class="token class-name">IHttpRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">IHttpResponse</span> res<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> requestDto<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//This code is executed before the service</span>
            StatsLogger<span class="token punctuation">.</span><span class="token function">SaveUserAgent</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>UserAgent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>That&#39;s it! No registration is needed as they&#39;re auto-discovered so you can start adding them on services you want to log.</p><p>More info about request and response filter attributes can be found in the <a href="/filter-attributes.html">wiki documentation</a>.</p><h2 id="new-plugin-api" tabindex="-1">New Plugin API <a class="header-anchor" href="#new-plugin-api" aria-hidden="true">#</a></h2><p>As of v3.55 all ServiceStack&#39;s add-ons now implement the following Plugin API:</p><div class="language-csharp"><pre><code>    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IPlugin</span> <span class="token punctuation">{</span>
        <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Register</span><span class="token punctuation">(</span><span class="token class-name">IAppHost</span> appHost<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="plugins-registered-by-default" tabindex="-1">Plugins registered by default <a class="header-anchor" href="#plugins-registered-by-default" aria-hidden="true">#</a></h3><p>ServiceStack&#39;s <a href="./.html">CSV Format</a>:</p><pre><code>Plugins.Add(new CsvFormat());
</code></pre><p>ServiceStack&#39;s auto generated <a href="/html5reportformat.html">HTML5 JSON Report Format</a>:</p><pre><code>Plugins.Add(new HtmlFormat());  
</code></pre><p><a href="/markdown-razor.html">Razor Markdown Format</a>:</p><pre><code>Plugins.Add(new MarkdownFormat());  
</code></pre><p>More info about Razor Markdown: <a href="/markdown-razor.html">Intro</a>, <a href="http://www.servicestack.net/docs/markdown/markdown-features" target="_blank" rel="noopener noreferrer">Features</a>, <a href="http://www.servicestack.net/docs/markdown/about" target="_blank" rel="noopener noreferrer">Docs Website</a></p><h3 id="removing-or-accessing-built-in-plug-ins" tabindex="-1">Removing or accessing built-in plug-ins <a class="header-anchor" href="#removing-or-accessing-built-in-plug-ins" aria-hidden="true">#</a></h3><p>You can prevent a default plug-in from being added by removing it from a list, e.g: removing the CSV Format:</p><pre><code>Plugins.RemoveAll(x =&gt; x is CsvFormat);
</code></pre><p>Likewise you can access a plug-in just as easy, should you want to modify their existing attriutes, e.g:</p><pre><code>var htmlFormat = (HtmlFormat)base.Plugins.First(x =&gt; x is HtmlFormat);
</code></pre><h3 id="available-plugins" tabindex="-1">Available plugins <a class="header-anchor" href="#available-plugins" aria-hidden="true">#</a></h3><p>Enable ServiceStack&#39;s Fluent Validation:</p><pre><code>Plugins.Add(new ValidationFeature());
</code></pre><p>Enable ServiceStack&#39;s built-in Authentication (displayed above in full):</p><pre><code>Plugins.Add(new AuthFeature(....));
</code></pre><p>The AuthFeature above already enables the SessionFeature, but if you want to make use of sessions and don&#39;t want to enable the built-in Authentication, you will need to register it manually with:</p><pre><code>Plugins.Add(new SessionFeature());
</code></pre><p>The Registration feature enables the Registration Service and allows users to register at the default route <code>/register</code>:</p><pre><code>Plugins.Add(new RegistrationFeature());
</code></pre><p>Adding the <a href="/protobuf-format.html">ProtoBuf Format</a> NuGet package automatically adds the ProtoBufFormat plug-in:</p><pre><code>Plugins.Add(new ProtoBufFormat());
</code></pre><p>Add an In-Memory <code>IRequestLogger</code> and service with the default route at <code>/requestlogs</code> which maintains a live log of the most recent requests (and their responses). Supports multiple config options incl. Rolling-size capacity, error and session tracking, hidden request bodies for sensitive services, etc.</p><pre><code>Plugins.Add(new RequestLogsFeature());
</code></pre><p>The <code>IRequestLogger</code> is a great way to introspect and analyze your service requests in real-time. Here&#39;s a screenshot from the <a href="http://bootstrapapi.apphb.com" target="_blank" rel="noopener noreferrer">http://bootstrapapi.apphb.com</a> website:</p><p><img src="http://www.servicestack.net/img/request-logs-01.png" alt="Live Screenshot"></p><p>It supports multiple queryString filters and switches so you filter out related requests for better analysis and debuggability:</p><p><img src="http://www.servicestack.net/img/request-logs-02.png" alt="Request Logs Usage"></p><p>The <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.ServiceInterface/Admin/RequestLogsService.cs" target="_blank" rel="noopener noreferrer">RequestLogsService</a> is just a simple C# service under-the-hood but is a good example of how a little bit of code can provide a lot of value in ServiceStack&#39;s by leveraging its generic, built-in features.</p><h2 id="messaging-services" tabindex="-1">Messaging services <a class="header-anchor" href="#messaging-services" aria-hidden="true">#</a></h2><p>ServiceStack&#39;s typed, message-first design is ideal for coarse-grained out-of-proc communication. Although HTTP is our primary endpoint, through our clean <code>IMessageService</code> interface we also provide a number of alternate hosts that are able to <strong>re-use your existing services</strong> made available on different hosts.</p><ul><li><a href="/redis-mq.html">Redis MQ</a></li><li><a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Messaging.Tests/TransientServiceMessagingTests.cs" target="_blank" rel="noopener noreferrer">InMemory MQ</a></li><li><a href="https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Common/Messaging/Rcon" target="_blank" rel="noopener noreferrer">Rcon</a></li></ul><p>In many ways MQ&#39;s are underrated technology in .NET, but they can provide superior conduit to connect your internal services, especially for async/one-way, idempotent messages. They can offer reliabile and durable messaging, better scalability and natural load-balancing, as well as time-decoupled and disconnected operation between loosely-coupled endpoints.</p><p>New hosts can be easily added by implementing the <code>IMessageService</code> interface which is something we plan on doing in the near future. As future hosts will be able to bind to your existing services, you&#39;ll be able to easily make use of them when they&#39;re ready.</p><h2 id="other-changes" tabindex="-1">Other changes <a class="header-anchor" href="#other-changes" aria-hidden="true">#</a></h2><p>There have been lots of other smaller features and fixes added during the time between releases (too many to add here). Although you can check our <a href="https://github.com/ServiceStack/ServiceStack/commits/master" target="_blank" rel="noopener noreferrer">commit logs</a> if you&#39;re interested in the finer details of what we&#39;ve been up to \u{1F603}</p><h2 id="future-roadmap" tabindex="-1">Future Roadmap <a class="header-anchor" href="#future-roadmap" aria-hidden="true">#</a></h2><p>For those interested in our future road-map we hope to ship the following features for our next-release:</p><h3 id="async" tabindex="-1">Async <a class="header-anchor" href="#async" aria-hidden="true">#</a></h3><p>As part of his excellent contributions <a href="http://twitter.com/arxisos" target="_blank" rel="noopener noreferrer">@arxisos</a> has been maintaining an <a href="https://github.com/ServiceStack/ServiceStack/tree/async" target="_blank" rel="noopener noreferrer">async branch</a> that has ServiceStack running on <code>IHttpAsyncHandler</code> and already has a functional alpha build available for you to try at: <a href="https://github.com/downloads/ServiceStack/ServiceStack/ServiceStack-v4.00-alpha.zip" target="_blank" rel="noopener noreferrer">ServiceStack-v4.00-alpha.zip</a></p><p>With this change ServiceStack supports <code>Task&lt;&gt;</code> as a return type on services. You only need to register the <a href="https://github.com/ServiceStack/ServiceStack/blob/async/tests/ServiceStack.Plugins.Tasks.Tests/TaskServiceTest.cs#L46" target="_blank" rel="noopener noreferrer">Task plugin</a>. To see a full example look at <a href="https://github.com/ServiceStack/ServiceStack/blob/async/tests/ServiceStack.Plugins.Tasks.Tests/TaskServiceTest.cs" target="_blank" rel="noopener noreferrer">this integration test</a>.</p><h3 id="new-metadata-pages" tabindex="-1">New Metadata pages <a class="header-anchor" href="#new-metadata-pages" aria-hidden="true">#</a></h3><p>The only way we can support the different layouts and customizations users want to apply to the auto-generated metadata pages is to have them completely customizable and hot-swappable. So that&#39;s our plan for the next iteration of the metadata pages - a rewrite into a self-contained, swappable static HTML/Ajax pages. We&#39;ll attempt to provide as much info in our json metadata services we can so others are able to create an executable REST API/UI from them - i.e. making it possible to integrate 3rd party OSS REST API clients like Swagger or Apigee.</p><h3 id="fast-ipc-rpc-bridge-between-servicestack-services-c-net-dart-node-js-processes" tabindex="-1">Fast IPC/RPC Bridge between ServiceStack services &lt;=&gt; C#/.NET, <a href="http://www.dartlang.org/" target="_blank" rel="noopener noreferrer">Dart</a> / <a href="http://nodejs.org/" target="_blank" rel="noopener noreferrer">Node.js</a> processes <a class="header-anchor" href="#fast-ipc-rpc-bridge-between-servicestack-services-c-net-dart-node-js-processes" aria-hidden="true">#</a></h3><p>As soon as Async has been integrated into ServiceStack core, it will lay the foundation for our work on a fast IPC/RPC bridge between ServiceStack services and external C#/.NET and node.js/Dart processes.</p><p>As ServiceStack&#39;s message-based design influences the development of coarse-grained (i.e. non-chatty) services it provides the perfect interface for efficient out-of-process communications. We plan to get an optimal implementation by employing an async/non-blocking design, invoking services directly (by-passing the overhead of the HTTP Stack/Context) and using our fast JSON Serializer in .NET and the native JSON parsers in node.js/Dart.</p><p>Although our motivations to build a bridge to external C#/.NET processes will be well-understood by our .NET-strong user-base, why we&#39;d want to provide a good story for Dart and node.js platforms will be less clear...</p><h3 id="whoa-what-are-all-these-node-js-and-dart-pieces-doing-in-my-net-soup" tabindex="-1">Whoa?.. What are all these node.js and Dart pieces doing in my .NET soup? <a class="header-anchor" href="#whoa-what-are-all-these-node-js-and-dart-pieces-doing-in-my-net-soup" aria-hidden="true">#</a></h3><p>In many ways dynamic languages offer greater productivity, flexibility, iteration time advantages over static languages (i.e. C#/.NET) for web development. E.g: <a href="http://nodejs.org" target="_blank" rel="noopener noreferrer">Node.js</a> (Server-Side V8/JavaScript) has superior web tooling (with native implementations for all popular web DSLs and minifiers - <a href="https://github.com/ServiceStack/Bundler" target="_blank" rel="noopener noreferrer">and why we&#39;ve adopted it for Bundler</a>), a large and <a href="https://github.com/languages/" target="_blank" rel="noopener noreferrer">thriving OSS ecosystem</a>, excellent <a href="https://github.com/joyent/node/wiki/modules" target="_blank" rel="noopener noreferrer">libraries and frameworks</a> making it the 1st-choice platform for many pro-web developers and Start-Ups.</p><p>Whilst <a href="http://www.dartlang.org" target="_blank" rel="noopener noreferrer">Dart</a> is the new dynamic structured-language under heavy development by some of the brightest language minds at Google including: <a href="http://goo.gl/WQZEd" target="_blank" rel="noopener noreferrer">Lars Bak</a>, <a href="http://verdich.dk/kasper/" target="_blank" rel="noopener noreferrer">Kasper Lund</a>, <a href="http://blog.mrale.ph/" target="_blank" rel="noopener noreferrer">Vyacheslav Egorov</a> &amp; <a href="http://www.dartlang.org/authors/mads-ager.html" target="_blank" rel="noopener noreferrer">Mads Ager</a> (original V8 team), <a href="http://en.wikipedia.org/wiki/Jim_Hugunin" target="_blank" rel="noopener noreferrer">Jim Hugunin</a> (Jython/IronPython/DLR), <a href="http://en.wikipedia.org/wiki/Joshua_Bloch" target="_blank" rel="noopener noreferrer">Joshua Bloch</a> (Java APIs), <a href="http://en.wikipedia.org/wiki/Gilad_Bracha" target="_blank" rel="noopener noreferrer">Gilad Bracha</a> (JLS/JVM/NewSpeak), <a href="http://www.dartlang.org/authors/" target="_blank" rel="noopener noreferrer">and many others</a>.</p><p>It sports many unique features well suited for the development of complex web apps:</p><ul><li><a href="http://www.dartlang.org/articles/optional-types/" target="_blank" rel="noopener noreferrer">Optional-typing</a> - Providing dynamic-lang-like productivity &amp; structure</li><li><a href="http://www.infoq.com/articles/google-dart" target="_blank" rel="noopener noreferrer">Snapshotting</a> - For instant-startup times</li><li><a href="http://www.dartlang.org/docs/language-tour/#interfaces" target="_blank" rel="noopener noreferrer">Interface/default classes + factories</a> - Encourages binding to interfaces (all core-libs) / eliminate IOCs</li><li><a href="http://www.dartlang.org/articles/emulating-functions/#nosuchmethod" target="_blank" rel="noopener noreferrer">Method missing</a> - For creating terse, dynamic APIs + proxies</li><li><a href="http://www.dartlang.org/docs/library-tour/#dartisolate---concurrency-with-isolates" target="_blank" rel="noopener noreferrer">Isolates</a> - Shared-nothing concurrency and secured hosting of 3rd Party code</li><li><a href="http://www.dartlang.org/docs/language-tour/#strings" target="_blank" rel="noopener noreferrer">String interpolation</a> - For effortless construction of strings</li><li><a href="http://api.dartlang.org/" target="_blank" rel="noopener noreferrer">Large core lib</a> - Rich client &amp; server-side libraries with a consistent &amp; terse DOM API</li></ul><p>Although the first version is not yet released it already ships with great tooling (for OSX/Win/Linux) including a <a href="http://www.dartlang.org/docs/getting-started/editor/" target="_blank" rel="noopener noreferrer">smart, lightweight IDE</a> and a built-in VM/Debugger in Dartium (a custom build of Chrome).</p><p>Both Node.js and Dart offer full-webstack programming (same language used on client/server), faster compile and iteration times, less friction and a more lax type-system - ideal for web development. Node.js and Dart&#39;s async/evented architecture also makes it a great choice for web socket servers and highly interactive sites.</p><h3 id="getting-the-best-of-both-worlds" tabindex="-1">Getting the best of both worlds <a class="header-anchor" href="#getting-the-best-of-both-worlds" aria-hidden="true">#</a></h3><p>We still believe statically-typed languages offer a better value proposition for developing and maintaining web services and is still in many ways a better choice for any CPU-intensive, Heavy Data/Binary processing tasks as well as accessing native/unmanaged APIs.</p><p>With that said we feel there&#39;s a lot of value in developing a great story to efficiently communicate between ServiceStack and node.js/Dart processes which we hope offers the best of both worlds for other like-minded polygots.</p><p>Although as ServiceStack has already developed <a href="http://www.servicestack.net/benchmarks/#burningmonk-benchmarks" target="_blank" rel="noopener noreferrer">.NET&#39;s fastest JSON serializer</a> and .NET&#39;s leading <a href="https://nuget.org/packages?q=redis" target="_blank" rel="noopener noreferrer">C# Redis Client</a> (and <a href="https://github.com/mythz/DartRedisClient" target="_blank" rel="noopener noreferrer">Dart Redis Client</a> \u{1F603} - We already have a great comms story via <a href="http://redis.io" target="_blank" rel="noopener noreferrer">Redis</a> available today - but we hope to make it even better by communicating directly between .NET/node.js/Dart processes (i.e. by-passing redis).</p><h3 id="potential-mvc-razor-and-spark-integration" tabindex="-1">Potential MVC Razor and spark integration <a class="header-anchor" href="#potential-mvc-razor-and-spark-integration" aria-hidden="true">#</a></h3><p>ServiceStack already has <a href="http://stackoverflow.com/a/8200056/85785" target="_blank" rel="noopener noreferrer">existing HTML Support</a>, but we hope to increase it even further by integrating the best thing we like about MVC (i.e. Razor \u{1F603} so we have even less reasons for wanting to host ServiceStack with <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> MVC \u{1F603}</p><h3 id="integration-with-nancyfx" tabindex="-1">Integration with <a href="https://github.com/NancyFx/Nancy" target="_blank" rel="noopener noreferrer">NancyFx</a> <a class="header-anchor" href="#integration-with-nancyfx" aria-hidden="true">#</a></h3><p>Nancy is another excellent OSS (<a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> MVC Replacement) Web Framework for .NET, that offers a simple, clean and terse programming model for websites (just the kind we like \u{1F603}. We hope to provide a good <a href="https://github.com/ServiceStack/SocialBootstrapApi" target="_blank" rel="noopener noreferrer">Social Bootstrap API-like</a> template but replaced with a NancyFx host instead.</p><hr><p>##ServiceStack 3.09 Release Notes</p><h2 id="latest-version-of-dapper-built-in" tabindex="-1">Latest version of Dapper built-in <a class="header-anchor" href="#latest-version-of-dapper-built-in" aria-hidden="true">#</a></h2><p>Now in ServiceStack is StackOverflow&#39;s own <a href="http://www.servicestack.net/benchmarks/" target="_blank" rel="noopener noreferrer">benchmark leading</a> Micro ORM <strong><a href="http://code.google.com/p/dapper-dot-net/" target="_blank" rel="noopener noreferrer">Dapper</a></strong>. This means a fresh NuGet install of ServiceStack now includes the 2 fastest Micro ORMS for .NET! \u{1F603}</p><p>OrmLite and Dapper are very similar in design in that they&#39;re simply useful extension methods on <a href="http://ADO.NET" target="_blank" rel="noopener noreferrer">ADO.NET</a>&#39;s <code>System.Data.*</code> interfaces, the difference being Dapper has extension methods of <code>IDbConnection</code> whilst OrmLite methods hangs off the lower <code>IDbCommand</code>. And because they both make use of &#39;clean POCOs&#39; - they can be used interchangibly together on the same DB connection. This also allows them to both make use of <code>OrmLiteConnectionFactory</code> to configure connection manager over your DB ConnectionString.</p><h2 id="mvc-mini-profiler-now-baked-in" tabindex="-1">Mvc Mini Profiler now baked in <a class="header-anchor" href="#mvc-mini-profiler-now-baked-in" aria-hidden="true">#</a></h2><p>We&#39;ve made ServiceStack&#39;s <a href="/html5reportformat.html">HTML5 JSON Report Format</a> even better by now including the excellent <a href="http://code.google.com/p/mvc-mini-profiler/" target="_blank" rel="noopener noreferrer">Mvc Mini Profiler</a> - by <a href="https://twitter.com/jarrod_dixon" target="_blank" rel="noopener noreferrer">@jarrod_dixon</a> and <a href="https://twitter.com/samsaffron" target="_blank" rel="noopener noreferrer">@samsaffron</a>. It&#39;s the same profiler used to profile and help speed up sites like <a href="http://www.stackoverflow.com" target="_blank" rel="noopener noreferrer">Stack Overflow</a> and more recently the much faster <a href="http://nuget.org" target="_blank" rel="noopener noreferrer">NuGet v2.0</a> website.</p><p>As the MVC Mini Profiler is optimized for a .NET 4.0 MVC app, we&#39;ve made some changes in order to integrate it into ServiceStack:</p><ul><li>Make it work in .NET 3.0 by backporting .NET 4.0 classes into <strong>ServiceStack.Net30</strong> namespace (Special thanks to OSS! \u{1F603} <ul><li>Using Mono&#39;s <strong>ConcurrentDictionary</strong> classes</li><li>Using <a href="http://code.google.com/p/lokad-shared-libraries/source/browse/Source/Lokad.Shared/Tuples/Tuple.cs" target="_blank" rel="noopener noreferrer">Lokad.com&#39;s Tuples</a></li></ul></li><li>Switched to using ServiceStack&#39;s much faster <a href="http://www.servicestack.net/docs/text-serializers/json-serializer" target="_blank" rel="noopener noreferrer">Json Serializer</a></li><li>Reduced the overall footprint by replacing the use of jQuery and jQuery.tmpl with a much smaller <a href="https://github.com/mythz/jquip" target="_blank" rel="noopener noreferrer">jquip (jQuery-in-parts)</a> dependency.</li><li>Moved to the <strong>ServiceStack.MiniProfiler</strong> namespace and renamed to <strong>Profiler</strong> to avoid clashing with another Mvc Mini Profiler in the same project</li></ul><p>As a side-effect of integrating the Mvc Mini Profiler all ServiceStack .NET 3.0 projects can make use of .NET 4.0&#39;s ConcurrentDictionary and Tuple support, hassle free!</p><h3 id="using-the-mvc-mini-profiler" tabindex="-1">Using the MVC Mini Profiler <a class="header-anchor" href="#using-the-mvc-mini-profiler" aria-hidden="true">#</a></h3><p>Just like the <a href="http://code.google.com/p/mvc-mini-profiler/" target="_blank" rel="noopener noreferrer">Normal Mvc Mini Profiler</a> you can enable it by starting it in your Global.asax, here&#39;s how to enable it for local requests:</p><pre><code>protected void Application_BeginRequest(object src, EventArgs e)
{
    if (Request.IsLocal)
        Profiler.Start();
}

protected void Application_EndRequest(object src, EventArgs e)
{
    Profiler.Stop();
}
</code></pre><p>That&#39;s it! Now everytime you view a web service in your browser (locally) you&#39;ll see a profiler view of your service broken down in different stages:</p><p><img src="http://www.servicestack.net/files/miniprofiler-hello.png" alt="Hello MiniProfiler"></p><p>By default you get to see how long it took ServiceStack to de-serialize your request, run any Request / Response Filters and more importantly how long it took to <strong>Execute</strong> your service.</p><p>The profiler includes special support for SQL Profiling that can easily be enabled for OrmLite and Dapper by getting it to use a Profiled Connection using a ConnectionFilter:</p><div class="language-csharp"><pre><code><span class="token keyword">this</span><span class="token punctuation">.</span>Container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Register</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IDbConnectionFactory<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">OrmLiteConnectionFactory</span><span class="token punctuation">(</span>
        <span class="token string">&quot;~/App_Data/db.sqlite&quot;</span><span class="token punctuation">.</span><span class="token function">MapHostAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        SqliteOrmLiteDialectProvider<span class="token punctuation">.</span>Instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ConnectionFilter <span class="token operator">=</span> x <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ProfiledDbConnection</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> Profiler<span class="token punctuation">.</span>Current<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Refer to the <a href="http://code.google.com/p/mvc-mini-profiler/" target="_blank" rel="noopener noreferrer">Main MVC MiniProfiler home page</a> for instructions on how to configure profiling for Linq2Sql and EntityFramework.</p><p>It&#39;s also trivial to add custom steps enabling even finer-grained profiling for your services. Here&#39;s a <a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.IntegrationTests/Services/ProfilerService.cs" target="_blank" rel="noopener noreferrer">simple web service DB example</a> returning a list of Movies using both a simple DB query and a dreaded N+1 query.</p><div class="language-csharp"><pre><code>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MiniProfiler</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Type <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MiniProfilerService</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ServiceBase<span class="token punctuation">&lt;</span>MiniProfiler<span class="token punctuation">&gt;</span></span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name">IDbConnectionFactory</span> DbFactory <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token class-name">MiniProfiler</span> request<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> profiler <span class="token operator">=</span> Profiler<span class="token punctuation">.</span>Current<span class="token punctuation">;</span>

            <span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> dbConn <span class="token operator">=</span> DbFactory<span class="token punctuation">.</span><span class="token function">OpenDbConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> dbCmd <span class="token operator">=</span> dbConn<span class="token punctuation">.</span><span class="token function">CreateCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">using</span> <span class="token punctuation">(</span>profiler<span class="token punctuation">.</span><span class="token function">Step</span><span class="token punctuation">(</span><span class="token string">&quot;MiniProfiler Service&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>Type <span class="token operator">==</span> <span class="token string">&quot;n1&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">using</span> <span class="token punctuation">(</span>profiler<span class="token punctuation">.</span><span class="token function">Step</span><span class="token punctuation">(</span><span class="token string">&quot;N + 1 query&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                        <span class="token class-name"><span class="token keyword">var</span></span> results <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>Movie<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> movie <span class="token keyword">in</span> dbCmd<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Movie<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                        <span class="token punctuation">{</span>
                            results<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>dbCmd<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">QueryById</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Movie<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>movie<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                        <span class="token keyword">return</span> results<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">using</span> <span class="token punctuation">(</span>profiler<span class="token punctuation">.</span><span class="token function">Step</span><span class="token punctuation">(</span><span class="token string">&quot;Simple Select all&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> dbCmd<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Movie<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>Calling the above service normally provides the following Profiler output:</p><p><img src="http://www.servicestack.net/files/miniprofiler-simpledb.png" alt="Simple DB Example"></p><p>Whilst calling the service with the <strong>n1</strong> param yields the following warning:</p><p><img src="http://www.servicestack.net/files/miniprofiler-simpledb-n1.png" alt="Simple N+1 DB Example"></p><p>In both cases you see the actual SQL statements performed by clicking the <strong>SQL</strong> link. The N+1 query provides shows the following:</p><p><img src="http://www.servicestack.net/files/miniprofiler-simpledb-n1-sql.png" alt="N+1 DB Example SQL Statementes"></p><p>Notice the special attention the MVC MiniProfiler team put into identifying <strong>Duplicate</strong> queries - Thanks Guys!</p><hr><p>##ServiceStack 2.28 Release Notes</p><p>This release includes a few enhancements and catches up on all the pull requests and most of the issues that were submitted since the last release.</p><h2 id="servicestack-is-now-using-trello-com-for-features-issue-tracking" tabindex="-1">ServiceStack is now using <a href="http://Trello.com" target="_blank" rel="noopener noreferrer">Trello.com</a> for features/issue tracking <a class="header-anchor" href="#servicestack-is-now-using-trello-com-for-features-issue-tracking" aria-hidden="true">#</a></h2><p>ServiceStack now hosts and tracks its new issues and feature requests on a <a href="https://trello.com/board/servicestack-features-bugs/4e9fbbc91065f8e9c805641c" target="_blank" rel="noopener noreferrer">live public Trello dash board</a> where anyone is welcome to add to, or simply check the progress of their features/issues in the work queue.</p><h2 id="special-thanks-to-contributors" tabindex="-1">Special Thanks to Contributors <a class="header-anchor" href="#special-thanks-to-contributors" aria-hidden="true">#</a></h2><p>We now have a special <a href="https://github.com/ServiceStack/ServiceStack/blob/master/CONTRIBUTORS.md" target="_blank" rel="noopener noreferrer">contributor page</a> and section on the <a href="https://github.com/ServiceStack/ServiceStack" target="_blank" rel="noopener noreferrer">main project page</a> showing the many contributors to ServiceStack&#39;s projects over the years. We hope we haven&#39;t missed anyone out - please send us a pull request if you would like to be added.</p><p>###The major features in this release include:</p><h2 id="redis-mq-client-server" tabindex="-1">Redis MQ Client/Server <a class="header-anchor" href="#redis-mq-client-server" aria-hidden="true">#</a></h2><p>A redis-based message queue client/server that can be hosted in any .NET or <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> application. The <strong>RedisMqHost</strong> lives in the <a href="https://github.com/ServiceStack/ServiceStack.Redis" target="_blank" rel="noopener noreferrer">ServiceStack.Redis</a> project and brings the many benefits of using a Message Queue. The current unoptimized version uses only a single background thread although initial benchmarks shows it can send/receive a promising <strong>4.6k messages /sec</strong> when accessing a local redis instance (on my dev workstation).</p><p>Major kudos goes to <a href="http://redis.io" target="_blank" rel="noopener noreferrer">Redis</a> which thanks to its versatility, has Pub/Sub and Lists primitives that makes implementing a Queue trivial.</p><p>The first version already sports the major features you&#39;ve come to expect from a MQ:</p><ul><li>Each service maintains its own Standard and Priority MQ&#39;s</li><li>Automatic Retries on messages generating errors with Failed messages sent to a DLQ (Dead Letter Queue) when its Retry threshold is reached.</li><li>Each message can have a ReplyTo pointing to any Queue, alternatively you can even provide a ServiceStack endpoint URL which will send the response to a Web Service instead. If the web service is not available it falls back into publishing it in the default Response Queue so you never lose a message!</li><li>MQ/Web Services that don&#39;t return any output have their Request DTOs sent to a rolling <strong>Out</strong> queue which can be monitored by external services (i.e. the publisher/callee) to determine when the request has been processed.</li></ul><p>Although you can host <strong>RedisMqHost</strong> in any <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> web app, the benefit of hosting inside ServiceStack is that your <strong>web services are already capaable</strong> of processing Redis MQ messages <strong>without any changes required</strong> since they&#39;re already effectively designed to work like a Message service to begin with, i.e. <strong>C# POCO-in -&gt; C# POCO-out</strong>.</p><p>This is another example of ServiceStack&#39;s prescribed DTO-first architecture continues to pay dividends since each web service is a DI clean-room allowing your <strong>C# logic to be kept pure</strong> as it only has to deal with untainted POCO DTOs, allowing your same web service to be re-used in: SOAP, REST (JSON,XML,JSV,CSV,HTML) web services, view models for dynamic HTML pages and now as a MQ service!</p><p>Eventually (based on feedback) there will be posts/documentation/examples forthcoming covering how to use it, in the meantime you can <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/Messaging/IMessageService.cs" target="_blank" rel="noopener noreferrer">Check out the Messaging API</a> to see how simple it is to use. To see some some working code showing some of the capabilities listed above, <a href="https://github.com/ServiceStack/ServiceStack.Redis/blob/master/tests/ServiceStack.Redis.Tests/RedisMqHostTests.cs" target="_blank" rel="noopener noreferrer">view the tests</a>.</p><p>Hooking up a basic send/reply example is as easy as:</p><div class="language-csharp"><pre><code>    <span class="token comment">//DTO messages:</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span> <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloResponse</span> <span class="token punctuation">{</span> <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Result <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>

    <span class="token class-name"><span class="token keyword">var</span></span> redisFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PooledRedisClientManager</span><span class="token punctuation">(</span><span class="token string">&quot;localhost:6379&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> mqHost <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RedisMqHost</span><span class="token punctuation">(</span>redisFactory<span class="token punctuation">,</span> <span class="token named-parameter punctuation">noOfRetries</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Server - MQ Service Impl:</span>
    mqHost<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterHandler</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Hello<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>m <span class="token operator">=&gt;</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HelloResponse</span> <span class="token punctuation">{</span> Result <span class="token operator">=</span> <span class="token string">&quot;Hello, &quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">GetBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mqHost<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token range operator">..</span><span class="token punctuation">.</span>

    <span class="token comment">//Client - Process Response:</span>
    mqHost<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterHandler</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>HelloResponse<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>m <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        Consle<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token string">&quot;Received: &quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">GetBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mqHost<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token range operator">..</span><span class="token punctuation">.</span>
    
    <span class="token comment">//Producer - Start publishing messages:</span>
    <span class="token class-name"><span class="token keyword">var</span></span> mqClient <span class="token operator">=</span> mqHost<span class="token punctuation">.</span><span class="token function">CreateMessageQueueClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mqClient<span class="token punctuation">.</span><span class="token function">Publish</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Hello</span> <span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;ServiceStack&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="json-jsv-serializers-now-supports-abstract-interface-and-object-types" tabindex="-1">JSON/JSV Serializers now supports Abstract/Interface and object types <a class="header-anchor" href="#json-jsv-serializers-now-supports-abstract-interface-and-object-types" aria-hidden="true">#</a></h2><p>We&#39;re happy to report the most requested feature for ServiceStack&#39;s JSON/JSV serializers is now available at: <a href="https://github.com/ServiceStack/ServiceStack.Text/downloads" target="_blank" rel="noopener noreferrer">ServiceStack.Text v2.28</a>.</p><p>The JSON and JSV Text serializers now support serializing and deserializing DTOs with <strong>Interface / Abstract or object types</strong>. Amongst other things, this allows you to have an IInterface property which when serialized will include its concrete type information in a <strong>__type</strong> property field (similar to other JSON serializers) which when serialized populates an instance of that concrete type (provided it exists).</p><p>Likewise you can also have polymorhic lists e.g. of a base <strong>Animal</strong> type and be populated with a <strong>Cats</strong> and <strong>Dogs</strong> which should now deserialize correctly.</p><p>As always performance was a primary objective when adding this feature and as a result we should have a very peformant implementation of it.</p><p>Note: This feature is <strong>automatically</strong> added to all <strong>Abstract/Interface/Object</strong> types, i.e. you <strong>don&#39;t</strong> need to include any <code>[KnownType]</code> attributes to take advantage of it.</p><h2 id="other-features-fixes" tabindex="-1">Other features/fixes: <a class="header-anchor" href="#other-features-fixes" aria-hidden="true">#</a></h2><ul><li>Added JSON/JSV custom serialization behaviour injection of BCL value types in e.g: <a href="https://github.com/ServiceStack/ServiceStack.Text/blob/master/src/ServiceStack.Text/JsConfig.cs#L16" target="_blank" rel="noopener noreferrer">JsConfig</a></li><li>Serialization errors now return 400 status code</li><li>Add option to propagate errors instead of being sent in the response <a href="https://github.com/letssellsomebananas" target="_blank" rel="noopener noreferrer">Tymek Majewski</a></li><li>Added UserAgent to IHttpRequest type</li><li>Add useful overloads to HttpResult class <ul><li>SetPermantentCookie/SetSessionCookie/SetCookie</li><li>LastModified</li></ul></li><li>Fix compression bug in <code>RequestContext.ToOptimizedResult()</code></li><li>byte[] responses are written directly to the response stream with the ContentType: application/octet-stream</li></ul><hr><p>##ServiceStack 2.20 Release Notes</p><h3 id="new-markdown-razor-view-engine" tabindex="-1">New Markdown Razor View Engine <a class="header-anchor" href="#new-markdown-razor-view-engine" aria-hidden="true">#</a></h3><p>The biggest feature in this release is the new Markdown support built-into ServiceStack and more specifically its <strong>Markdown Razor View Engine</strong>. Markdown Razor is an MVC Razor-inspired templating engine that allows you to generate dynamic Markdown and HTML using plain Markdown and Razor Sytnax.</p><p>View the new <a href="http://www.servicestack.net/docs/markdown/markdown-razor" target="_blank" rel="noopener noreferrer">Markdown Razor Introduction</a> for more information.</p><h3 id="servicestack-docs-website-released" tabindex="-1">ServiceStack.Docs Website Released <a class="header-anchor" href="#servicestack-docs-website-released" aria-hidden="true">#</a></h3><p>The first website to take advantage of the new Markdown templating support in ServiceStack is <strong><a href="http://www.servicestack.net/docs" target="_blank" rel="noopener noreferrer">http://www.servicestack.net/docs</a></strong> which is effectively built entirely using ServiceStack&#39;s GitHub project Markdown wiki and <a href="http://README.md" target="_blank" rel="noopener noreferrer">README.md</a> pages. To render the entire website the transformed Markdown content is merged with a static <strong>default.shtml</strong> website template.</p><p>A nice feature of a Markdown-enabled website is that since the Content is decoupled from the website template we are easily able to enhance the site using Ajax to load partial content page loads. This provides a faster browsing experience since the entire webpage doesn&#39;t have to be reloaded.</p><p>See the <a href="http://servicestack.net/docs/markdown/about" target="_blank" rel="noopener noreferrer">About ServiceStack Docs Website</a> for more information.</p><h3 id="monotouch-support-in-servicestack-c-clients" tabindex="-1">MonoTouch support in ServiceStack C# Clients <a class="header-anchor" href="#monotouch-support-in-servicestack-c-clients" aria-hidden="true">#</a></h3><p>Support was added to the Generic JSON and JSV ServiceStack C# Clients to work around MonoTouch&#39;s No-JIT Restrictions. Unfortunately to do this we&#39;ve had to create a new MonoTouch Build configuration which doesn&#39;t use any C# Expressions or Reflection.Emit. So you need to download the MonoTouch ServiceStack builds for running in MonoTouch. <strong><a href="https://github.com/ServiceStack/ServiceStack/tree/master/release/latest/MonoTouch" target="_blank" rel="noopener noreferrer">Download MonoTouch-v2.20.zip</a></strong></p><p>An example MonoTouch project that uses these Sync and Async C# ServiceClients to talk to the <a href="https://www.servicestack.net/RestFiles/" target="_blank" rel="noopener noreferrer">RestFiles</a> web services is in the <a href="https://github.com/ServiceStack/ServiceStack.Examples/tree/master/src/MonoTouch/RestFilesClient" target="_blank" rel="noopener noreferrer">RestFilesClient Example project</a>.</p><h2 id="other-features" tabindex="-1">Other Features <a class="header-anchor" href="#other-features" aria-hidden="true">#</a></h2><ul><li>Added support for <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/Configuration/IContainerAdapter.cs" target="_blank" rel="noopener noreferrer">IContainerAdapter</a> to let you <a href="https://groups.google.com/d/topic/servicestack/A-W9scHaEBA/discussion" target="_blank" rel="noopener noreferrer">plug-in and use different IOC Containers</a></li><li>Allow alternate strategies <a href="https://groups.google.com/d/topic/servicestack/Sb7Rcnhte-E/discussion" target="_blank" rel="noopener noreferrer">for resolving Service Types</a></li><li>If your IService implements IDisposable, it will be disposed straight after it&#39;s been executed.</li></ul><h2 id="download" tabindex="-1">Download <a class="header-anchor" href="#download" aria-hidden="true">#</a></h2><ul><li><a href="https://github.com/ServiceStack/ServiceStack.Examples/downloads" target="_blank" rel="noopener noreferrer"><strong>New users should download ServiceStack.Examples - v2.20</strong></a></li><li><a href="https://github.com/ServiceStack/ServiceStack/downloads" target="_blank" rel="noopener noreferrer">Existing users can download just the ServiceStack.dlls - v2.20</a></li></ul><p>.</p><p>Follow <a href="http://twitter.com/demisbellot" target="_blank" rel="noopener noreferrer">@demisbellot</a> and <a href="http://twitter.com/ServiceStack" target="_blank" rel="noopener noreferrer">@ServiceStack</a> for twitter updates</p><hr><p>#ServiceStack 2.09 Release Notes</p><h2 id="servicestack-is-now-on-nuget" tabindex="-1">ServiceStack is now on NuGet! <a class="header-anchor" href="#servicestack-is-now-on-nuget" aria-hidden="true">#</a></h2><p>As we have received a number of requests to provide NuGet packages for ServiceStack and its components, we&#39;re now happy to say we&#39;re now NuGet compliant! Where a configured and working ServiceStack web framework is just 1 NuGet command away \u{1F603}</p><p><a href="/nuget.html"><img src="http://servicestack.net/img/nuget-servicestack.png" alt="Install-Pacakage ServiceStack"></a></p><p>This will add the ServiceStack dlls to your standard <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Web Application, Register ServiceStack handler in your Web.Config, configure your AppHost and create both a <strong><a href="http://servicestack.net/ServiceStack.Hello/" target="_blank" rel="noopener noreferrer">Hello</a></strong> and a fully-operational <strong><a href="http://servicestack.net/Backbone.Todos/" target="_blank" rel="noopener noreferrer">TODO REST service</a></strong>.</p><p>Together with just 2 static content files (<a href="https://github.com/ServiceStack/ServiceStack/blob/master/NuGet/ServiceStack/content/default.htm" target="_blank" rel="noopener noreferrer">default.htm</a> and <a href="https://github.com/AjaxStack/AjaxStack" target="_blank" rel="noopener noreferrer">jqunback-1.51.js</a>) you get a fully configured and working REST-ful application (<em>which as an aside benefit we hope encourages .NET developers into the <a href="http://documentcloud.github.com/backbone/" target="_blank" rel="noopener noreferrer">beautiful world of Backbone.js</a> and Single Page Ajax Applications</em>).</p><p>The NuGet package of ServiceStack is essentially the <strong>RootPath</strong> Starter Template. The other starting templates, e.g. Windows Service, Console Hosts, hosting ServiceStack at custom /api paths are still available in the <a href="https://github.com/ServiceStack/ServiceStack.Examples/downloads" target="_blank" rel="noopener noreferrer">ServiceStack.Examples downloads</a>.</p><p>Check <strong><a href="/nuget.html">ServiceStack&#39;s NuGet page</a></strong> for the full description of the available ServiceStack packages on <a href="http://NuGet.org" target="_blank" rel="noopener noreferrer">NuGet.org</a></p><h2 id="servicestack-overview-and-create-rest-services-slides-released" tabindex="-1">ServiceStack Overview and Create REST services slides released! <a class="header-anchor" href="#servicestack-overview-and-create-rest-services-slides-released" aria-hidden="true">#</a></h2><p>Although this normally shouldn&#39;t warrant a release line item, for the technology focused - it&#39;s actually hard work \u{1F603} We believe the overview slides provide the best starting point for new developers looking to find out the benefits of ServiceStack and how they can easily develop REST services with it. Today, we&#39;re releasing the following 2 slides:</p><h3 id="servicestack-overview-and-features" tabindex="-1"><a href="https://docs.google.com/present/view?id=dg3mcfb_208gv3kcnd8" target="_blank" rel="noopener noreferrer">ServiceStack Overview and Features</a> <a class="header-anchor" href="#servicestack-overview-and-features" aria-hidden="true">#</a></h3><p><a href="https://docs.google.com/present/view?id=dg3mcfb_208gv3kcnd8" target="_blank" rel="noopener noreferrer"><img src="http://servicestack.net/img/slides-01-overview-300.png" alt="Install-Pacakage ServiceStack"></a></p><h3 id="creating-rest-web-services" tabindex="-1"><a href="https://docs.google.com/present/view?id=dg3mcfb_213gsvvmmfk" target="_blank" rel="noopener noreferrer">Creating REST Web Services</a> <a class="header-anchor" href="#creating-rest-web-services" aria-hidden="true">#</a></h3><p><a href="https://docs.google.com/present/view?id=dg3mcfb_213gsvvmmfk" target="_blank" rel="noopener noreferrer"><img src="http://servicestack.net/img/slides-02-create-rest-service-300.png" alt="Install-Pacakage ServiceStack"></a></p><h2 id="better-configuration" tabindex="-1">Better configuration <a class="header-anchor" href="#better-configuration" aria-hidden="true">#</a></h2><h3 id="asp-net-mvc-like-route-api-to-define-user-defined-rest-paths" tabindex="-1"><a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> MVC-like Route API to define user-defined REST paths <a class="header-anchor" href="#asp-net-mvc-like-route-api-to-define-user-defined-rest-paths" aria-hidden="true">#</a></h3><p>In your AppHost Configure() script you can register paths against your Request DTOs with the <strong>Routes</strong> property like so:</p><div class="language-csharp"><pre><code>    Routes
      <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Add</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Hello<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Add</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Hello<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;/hello/{Name*}&quot;</span><span class="token punctuation">)</span> 
      <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Add</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;/todos&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Add</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;/todos/{Id}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
</code></pre></div><p>This is an alternative to the <code>[RestService(&quot;/hello&quot;)]</code> attribute which was previously required on your Request DTOs. They should work as expected, where any match will route that request to the designated service. All variables enclosed with <code>{Id}</code> will be populated on the selected Request DTO with that value of the path component.</p><p><code>Routes.Add&lt;Hello&gt;(&quot;/hello/{Name*}&quot;)</code> is a special case that matches every path beginning with <strong>/hello/</strong> where the <strong>Hello</strong> Request DTOs <strong>Name</strong> property is populated with the contents of the remaining url path. E.g. /hello/<strong>any/path/here</strong> will be populated in Hello.<code>{Name}</code> property.</p><h3 id="disable-servicestack-wide-features" tabindex="-1">Disable ServiceStack-wide features <a class="header-anchor" href="#disable-servicestack-wide-features" aria-hidden="true">#</a></h3><p>Sometimes the ServiceStack default of having all endpoints and formats all wired up correctly without any configuration is actually not preferred (we know, enterprises right? \u{1F603}, so in this release we&#39;ve made it easy to turn on and off system-wide features using simple enum flags. To simplify configuration we also added some useful Enum extensions (Has,Is,Add,Remove) to make it easier to signal your intent with Enums.</p><p>E.g. this is how you would disable &#39;JSV&#39; and &#39;SOAP 1.1 &amp; 1.2&#39; endpoints:</p><pre><code>var disableFeatures = Feature.Jsv | Feature.Soap;
SetConfig(new EndpointHostConfig
{
    EnableFeatures = Feature.All.Remove(disableFeatures),
});
</code></pre><hr><p>##ServiceStack 2.08 - ServiceStack meets Backbone.js</p><p>Unlike in previous releases, the ServiceStack framework itself has largely remained unchanged. This update is focused towards including <a href="http://documentcloud.github.com/backbone/" target="_blank" rel="noopener noreferrer">Backbone.js</a> into ServiceStack.Examples project.</p><p><a href="http://documentcloud.github.com/backbone/" target="_blank" rel="noopener noreferrer">Backbone.js</a> is a beautifully-designed and elegant light-weight JavaScript framework that allows you to build you&#39;re ajax applications separated into <strong>Views</strong> and <strong>Models</strong> connected via key-value data-binding and declarative custom event handling. Of special interest to us is its ability to supply a url and have it <strong>automatically connect your Models</strong> with your <strong>Backend REST services</strong>, which we&#39;re happy to report works well with ServiceStack&#39;s JSON services.</p><p>From the <a href="http://twitter.com/jashkenas" target="_blank" rel="noopener noreferrer">author</a> of the popular and game-changing libraries <a href="http://jashkenas.github.com/coffee-script/" target="_blank" rel="noopener noreferrer">CoffeeScript</a> and <a href="http://documentcloud.github.com/underscore/" target="_blank" rel="noopener noreferrer">Underscore.js</a> - Backbone.js differentiates itself from other javascript frameworks in that it promotes a clean separation of concerns and a modular application design, which is hard to achieve with other frameworks that couple themselves too tightly with the DOM.</p><h2 id="backbone-s-todo" tabindex="-1">Backbone&#39;s TODO <a class="header-anchor" href="#backbone-s-todo" aria-hidden="true">#</a></h2><p>Our first action was porting Backbone&#39;s example TODO app and replace its HTML5 localStorage backend with a ServiceStack REST + Redis one. This was quite easy to do and we were happy that <a href="https://github.com/ServiceStack/ServiceStack.Examples/blob/master/src/Backbone.Todos/Global.asax.cs" target="_blank" rel="noopener noreferrer">resulting C# server code for the REST backend</a> ended up weighing in at less than the size of <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a>&#39;s default Web.config file \u{1F603}</p><p>Like the rest of our examples a <strong><a href="http://servicestack.net/Backbone.Todos/" target="_blank" rel="noopener noreferrer">live demo is available</a></strong>.</p><h3 id="todo-app-now-in-all-starter-templates" tabindex="-1">TODO app now in all Starter templates <a class="header-anchor" href="#todo-app-now-in-all-starter-templates" aria-hidden="true">#</a></h3><p>As the Backbone TODO app represented a small, but working REST client and server we decided to make it the default app in <strong>all</strong> of ServiceStack&#39;s Starter Templates.</p><p>That&#39;s right, your Starting template for your <strong>Enterprise Windows Service now comes with a useful TODO app out-of-the-box!</strong> We rightfully believe this makes it the coolest app provided in any starting project template \u{1F603}</p><h2 id="servicestack-was-built-to-serve-ajax-applications" tabindex="-1">ServiceStack was built to serve Ajax applications <a class="header-anchor" href="#servicestack-was-built-to-serve-ajax-applications" aria-hidden="true">#</a></h2><p>At this point it&#39;s a good time to re-iterate that ServiceStack was designed from the start to be a first-class Ajax server that provides best support for HTML5 Ajax/SPA apps, purely because we believe it to be the future application delivery platform that provides the broadest reach and best user experience possible. We&#39;ve made special efforts to provide the <a href="http://www.servicestack.net/mythz_blog/?p=344" target="_blank" rel="noopener noreferrer">fastest JSON web services possible for .NET</a>, with a <a href="https://github.com/ServiceStack/ServiceStack.Redis" target="_blank" rel="noopener noreferrer">first-class redis client</a> and a <a href="/caching.html">strong caching story</a> important in developing high-performance web services and a responsive end user experience.</p><hr><h2 id="servicestack-2-07-q-a-release-finding-web-config-nirvana" tabindex="-1">ServiceStack 2.07 - Q/A Release - Finding Web.Config Nirvana \u{1F603} <a class="header-anchor" href="#servicestack-2-07-q-a-release-finding-web-config-nirvana" aria-hidden="true">#</a></h2><p>This release was focused on finding the perfect Web.Config that best allows ServiceStack to work consistently everywhere across all <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> and HttpListener hosts on both .NET and MONO platforms. A primary goal of ServiceStack is to be able to build web services once and use the same binaries and App .config files to run everywhere in every <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> or HttpListener host on Windows with .NET or on OSX/Linux with MONO.</p><p>Since your services are POCO message-based and only need to be implement an <code>IService&lt;TRequest&gt;</code> interface your services effectively operate in a <em>clean-room</em> <a href="http://en.wikipedia.org/wiki/Domain-driven_design" target="_blank" rel="noopener noreferrer">DDD Service</a>, and have a potential for re-use in a variety of other hosts, i.e. Message Queues, Windows services, Windows applications, etc.</p><h3 id="running-cross-platform" tabindex="-1">Running cross-platform <a class="header-anchor" href="#running-cross-platform" aria-hidden="true">#</a></h3><p>Although the promise of the .NET architecture allows for pure C# applications to run on every .NET platform, the <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> hosts don&#39;t always share the same compatibility levels as there are subtle differences in implementation and behaviour amongst the various <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> hosts.</p><p>The only real way of ensuring ServiceStack runs well in each environment is to actually setup an environment on each host with each configuration we want to support. Unfortunately this time-consuming process is a necessary one in order to limit any new regressions from being introduced as a result of added features.</p><h2 id="new-servicestack-starter-templates-projects-released" tabindex="-1">New ServiceStack Starter Templates projects released <a class="header-anchor" href="#new-servicestack-starter-templates-projects-released" aria-hidden="true">#</a></h2><p>So with that in mind, included in this release is the &#39;StartTemplates&#39; solution providing the same Hello World Web service hosted in every supported mode and configurations. There are now 2 supported modes in which to run ServiceStack:</p><h5 id="a-do-not-require-an-existing-web-framework-host-from-the-root-path" tabindex="-1">a) Do not require an existing Web Framework - Host from the root path: <code>/</code> <a class="header-anchor" href="#a-do-not-require-an-existing-web-framework-host-from-the-root-path" aria-hidden="true">#</a></h5><h5 id="b-use-servicestack-with-an-existing-web-framework-host-web-services-at-a-user-defined-custompath" tabindex="-1">b) Use ServiceStack with an existing Web Framework - Host web services at a user-defined: <code>/custompath</code> <a class="header-anchor" href="#b-use-servicestack-with-an-existing-web-framework-host-web-services-at-a-user-defined-custompath" aria-hidden="true">#</a></h5><h3 id="starter-template-projects" tabindex="-1">Starter Template projects <a class="header-anchor" href="#starter-template-projects" aria-hidden="true">#</a></h3><p>The new StarterTemplates in the <a href="https://github.com/ServiceStack/ServiceStack.Examples/" target="_blank" rel="noopener noreferrer">ServiceStack.Examples GitHub project</a> provide a good starting template for each supported configuration below:</p><ul><li><a href="https://github.com/ServiceStack/ServiceStack.Examples/tree/master/src/StarterTemplates/ApiPath35" target="_blank" rel="noopener noreferrer">.NET 3.5</a> and <a href="https://github.com/ServiceStack/ServiceStack.Examples/tree/master/src/StarterTemplates/CustomPath40" target="_blank" rel="noopener noreferrer">.NET 4.0</a> - <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Custom Path: <strong>/api</strong></li><li><a href="https://github.com/ServiceStack/ServiceStack.Examples/tree/master/src/StarterTemplates/RootPath35" target="_blank" rel="noopener noreferrer">.NET 3.5</a> and <a href="https://github.com/ServiceStack/ServiceStack.Examples/tree/master/src/StarterTemplates/RootPath40" target="_blank" rel="noopener noreferrer">.NET 4.0</a> - <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Root Path: <strong>/</strong></li><li><a href="https://github.com/ServiceStack/ServiceStack.Examples/tree/master/src/StarterTemplates/WinServiceAppHost" target="_blank" rel="noopener noreferrer">Windows Service w/ HttpListener</a></li><li><a href="https://github.com/ServiceStack/ServiceStack.Examples/tree/master/src/StarterTemplates/ConsoleAppHost" target="_blank" rel="noopener noreferrer">Stand alone Console App Host w/ HttpListener</a></li></ul><p>We&#39;re happy to report the above configurations are well supported on Windows with .NET visible by the <strong><a href="http://www.servicestack.net/testreports/2011-03-09_RunReports-Windows.htm" target="_blank" rel="noopener noreferrer">Latest Windows Integration Test Reports</a></strong> showing ServiceStack running correctly on IIS 3.5,4.0/WebDev Server 2.0,4.0/Windows Service/Console Application hosts.</p><p>To deploy on MONO you can just XCOPY/SFTP the files across as-is (i.e. as compiled with <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a>) to your Linux or OSX server. In most of the scenarios it works as-is however the integration tests have uncovered a couple of known issues visible in the <strong><a href="http://www.servicestack.net/testreports/2011-03-15_RunReports-Linux.htm" target="_blank" rel="noopener noreferrer">Latest Linux Integration Test Reports</a></strong>.</p><h3 id="known-issues-on-mono" tabindex="-1">Known issues on MONO: <a class="header-anchor" href="#known-issues-on-mono" aria-hidden="true">#</a></h3><ul><li>Depending on your setup a url with a trailing path &#39;/&#39; will cause Nginx/FastCGI or Apache/mod_mono to request a /default.aspx which if it doesn&#39;t exist will return a 404</li><li>If you want to use a custom path i.e. <strong>/api</strong> your <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> virtual path also needs to start with your httpHandler path. Which is why an <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> application hosted on <strong>/ApiPath35/api</strong> works as expected whilst one at <strong>/CustomPath35/api</strong> does not.</li></ul><h2 id="eating-our-own-dogfood" tabindex="-1">Eating our own dogfood <a class="header-anchor" href="#eating-our-own-dogfood" aria-hidden="true">#</a></h2><h3 id="servicestack-net-now-running-example-projects-on-both-nginx-fastcgi-and-apache-mod-mono-on-the-same-server" tabindex="-1"><a href="http://ServiceStack.NET" target="_blank" rel="noopener noreferrer">ServiceStack.NET</a> now running example projects on both Nginx/FastCGI and Apache/mod_mono on the same server <a class="header-anchor" href="#servicestack-net-now-running-example-projects-on-both-nginx-fastcgi-and-apache-mod-mono-on-the-same-server" aria-hidden="true">#</a></h3><p>With a few linux admin tweaks to add and assign a new virtual network interface with a new IP Address, we&#39;re easily able to run both Nginx/FastCGI and Apache/mod_mono HTTP servers on the same server, both configured to point to ServiceStack <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> GitHub Example Projects.</p><p>Here are links to ServiceStack.Example projects on both Nginx and Apache:</p><ul><li><a href="http://www.servicestack.net/ServiceStack.Hello/" target="_blank" rel="noopener noreferrer">Nginx</a> - <a href="http://api.servicestack.net/ServiceStack.Hello/" target="_blank" rel="noopener noreferrer">Apache</a> /ServiceStack.Hello</li><li><a href="http://www.servicestack.net/RestFiles/" target="_blank" rel="noopener noreferrer">Nginx</a> - <a href="http://api.servicestack.net/RestFiles/" target="_blank" rel="noopener noreferrer">Apache</a> /RestFiles/</li><li><a href="http://www.servicestack.net/RedisStackOverflow/" target="_blank" rel="noopener noreferrer">Nginx</a> - <a href="http://api.servicestack.net/RedisStackOverflow/" target="_blank" rel="noopener noreferrer">Apache</a> /RedisStackOverflow/</li><li><a href="http://www.servicestack.net/RedisStackOverflow/" target="_blank" rel="noopener noreferrer">Nginx</a> - <a href="http://api.servicestack.net/RedisStackOverflow/" target="_blank" rel="noopener noreferrer">Apache</a> /RedisStackOverflow/</li><li><a href="http://www.servicestack.net/ServiceStack.MovieRest/" target="_blank" rel="noopener noreferrer">Nginx</a> - <a href="http://api.servicestack.net/ServiceStack.MovieRest/" target="_blank" rel="noopener noreferrer">Apache</a> /ServiceStack.MovieRest/</li><li><a href="http://www.servicestack.net/ServiceStack./" target="_blank" rel="noopener noreferrer">Nginx</a> - <a href="http://api.servicestack.net/ServiceStack.Northwind/" target="_blank" rel="noopener noreferrer">Apache</a> /ServiceStack.Northwind/</li></ul><p>We plan to create more wiki pages walking through how to setup your own <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> web applications on Linux with MONO.</p><p>If you have a preference on what hosting environment you would like to see ServiceStack running in (e.g. AppHarbor, Moncai, Amazon, Azure, SuseStudio, etc), we&#39;d love to hear from you, please post your preference to <a href="http://groups.google.com/group/servicestack" target="_blank" rel="noopener noreferrer">ServiceStack&#39;s Google Group</a></p><hr><h2 id="servicestack-v2-0" tabindex="-1">ServiceStack v2.0 <a class="header-anchor" href="#servicestack-v2-0" aria-hidden="true">#</a></h2><p>The ServiceStack code-base has gone under a re-structure to better support user contributions, testing, fine-grained deployments allowing hosting of ServiceStack in 32 and 64 bit servers, in medium or full trust hosting environments.</p><p>The changes from a high-level are:</p><ul><li>No more ILMERGE.exe dlls, all ServiceStack .dlls now map 1:1 with a project of the same name <ul><li>As a result all .pdb&#39;s for all assemblies are now included in each release to help debugging (this was lost using ILMERGE)</li><li>When not using OrmLite/Sqlite, ServiceStack is a full .NET managed assembly with no P/Invokes that can run in 32/64 bit hosts</li></ul></li><li>All projects upgraded to <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> 2010 (min baseline is still .NET 3.5)</li><li>Non-core, high-level functionality has been moved into a new <a href="https://github.com/ServiceStack/ServiceStack.Contrib" target="_blank" rel="noopener noreferrer">ServiceStack.Contrib</a></li></ul><h2 id="breaking-changes" tabindex="-1">Breaking Changes <a class="header-anchor" href="#breaking-changes" aria-hidden="true">#</a></h2><p>A lot of effort was made to ensure that clients would not be affected i.e. no code-changes should be required.</p><p>As a result of the change to the deployment dlls where previously ServiceStack.dll was an ILMERGED combination of every implementation dll in ServiceStack. You will now need to explicitly reference each dll that you need.</p><p>To help visualize the dependencies between the various components, here is a tree showing which dependencies each project has:</p><ul><li><p><a href="https://github.com/ServiceStack/ServiceStack.Text" target="_blank" rel="noopener noreferrer">ServiceStack.Text.dll</a></p></li><li><p><a href="https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Interfaces" target="_blank" rel="noopener noreferrer">ServiceStack.Interfaces.dll</a></p><ul><li><p><a href="https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Common" target="_blank" rel="noopener noreferrer">ServiceStack.Common.dll</a></p><ul><li><p><a href="https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack" target="_blank" rel="noopener noreferrer">ServiceStack.dll</a></p><ul><li><a href="https://github.com/ServiceStack/ServiceStack.Contrib/tree/master/src/ServiceStack.ServiceInterface" target="_blank" rel="noopener noreferrer">ServiceStack.ServiceInterface.dll</a></li></ul></li><li><p><a href="https://github.com/ServiceStack/ServiceStack.Redis" target="_blank" rel="noopener noreferrer">ServiceStack.Redis.dll</a></p></li><li><p><a href="https://github.com/ServiceStack/ServiceStack.OrmLite" target="_blank" rel="noopener noreferrer">ServiceStack.OrmLite.dll</a></p></li></ul></li></ul></li></ul><hr><h2 id="servicestack-1-82-release-notes" tabindex="-1">ServiceStack 1.82 Release Notes <a class="header-anchor" href="#servicestack-1-82-release-notes" aria-hidden="true">#</a></h2><h3 id="new-html5-report-format-added" tabindex="-1"><a href="/html5reportformat.html">New HTML5 Report Format Added</a> <a class="header-anchor" href="#new-html5-report-format-added" aria-hidden="true">#</a></h3><p>The biggest feature added in this release is likely the new HTML5 report format that generates a human-readable HTML view of your web services response when viewing it in a web browser. Good news is, like the <a href="/csv-format.html">CSV Format</a> it works with your existing webservices as-is, with no configuration or code-changes required.</p><p><a href="/html5reportformat.html"><img src="http://servicestack.net/img/HTML5Format.png" alt="HTML5 Report Format"></a></p><p>Here are some results of web services created before the newer HTML5 and CSV formats existed:</p><ul><li><strong>RedisStackOverflow</strong> <a href="http://servicestack.net/RedisStackOverflow/questions" target="_blank" rel="noopener noreferrer">Latest Questions</a></li><li><strong>RestMovies</strong> <a href="http://servicestack.net/ServiceStack.MovieRest/movies" target="_blank" rel="noopener noreferrer">All Movie listings</a></li><li><strong>RestFiles</strong> <a href="http://servicestack.net/RestFiles/files" target="_blank" rel="noopener noreferrer">Root Directory</a></li></ul><p>Use the <strong>?format=[json|xml|html|csv|jsv]</strong> to toggle and view the same webservice in different formats.</p><h3 id="new-servicestack-northwind-example-project-added" tabindex="-1">New ServiceStack.Northwind Example project added <a class="header-anchor" href="#new-servicestack-northwind-example-project-added" aria-hidden="true">#</a></h3><p>In order to be able to better demonstrate features with a &#39;real-world&#39; DataSet, a new ServiceStack.Northwind project has been added which inspects the Northwind dataset from an SQLite database. A live demo is hosted at <a href="http://northwind.netcore.io" target="_blank" rel="noopener noreferrer">http://northwind.netcore.io</a>. Here are some links below to better demonstrate the new HTML format with a real-world dataset:</p><h4 id="nortwind-database-rest-web-services" tabindex="-1">Nortwind Database REST web services <a class="header-anchor" href="#nortwind-database-rest-web-services" aria-hidden="true">#</a></h4><ul><li><a href="http://northwind.netcore.io/customers" target="_blank" rel="noopener noreferrer">All Customers</a></li><li><a href="http://northwind.netcore.io/customers/ALFKI" target="_blank" rel="noopener noreferrer">Customer Detail</a></li><li><a href="http://northwind.netcore.io/customers/ALFKI/orders" target="_blank" rel="noopener noreferrer">Customer Orders</a></li></ul><h3 id="improved-caching" tabindex="-1">Improved Caching <a class="header-anchor" href="#improved-caching" aria-hidden="true">#</a></h3><p>ServiceStack has always had its own (i.e. <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> implementation-free) <a href="/caching.html">good support for caching</a>, though like most un-documented features it is rarely used. The caching has been improved in this version to now support caching of user-defined formats as well. Here is example usage from the new Northwind project:</p><div class="language-csharp"><pre><code>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CachedCustomersService</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">RestServiceBase<span class="token punctuation">&lt;</span>CachedCustomers<span class="token punctuation">&gt;</span></span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name">ICacheClient</span> CacheClient <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">OnGet</span><span class="token punctuation">(</span><span class="token class-name">CachedCustomers</span> request<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span>RequestContext<span class="token punctuation">.</span><span class="token function">ToOptimizedResultUsingCache</span><span class="token punctuation">(</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>CacheClient<span class="token punctuation">,</span> <span class="token string">&quot;urn:customers&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token class-name"><span class="token keyword">var</span></span> service <span class="token operator">=</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ResolveService</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>CustomersService<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">return</span> <span class="token punctuation">(</span>CustomersResponse<span class="token punctuation">)</span> service<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Customers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>The above code caches the most optimal output based on browser capabilities, i.e. if your browser supports deflate compression (as most do), a deflated, serialized output is cached and written directly on the response stream for subsequent calls. Only if no cache exists will the web service implementation (e.g lambda) be executed, which populates the cache before returning the response.</p><p>To see the difference caching provides, here are cached equivalents of the above REST web service calls:</p><h4 id="nortwind-database-cached-rest-web-services" tabindex="-1">Nortwind Database <strong>Cached</strong> REST web services <a class="header-anchor" href="#nortwind-database-cached-rest-web-services" aria-hidden="true">#</a></h4><ul><li><a href="http://northwind.netcore.io/cached/customers" target="_blank" rel="noopener noreferrer">All Customers</a></li><li><a href="http://northwind.netcore.io/cached/customers/ALFKI" target="_blank" rel="noopener noreferrer">Customer Detail</a></li><li><a href="http://northwind.netcore.io/cached/customers/ALFKI/orders" target="_blank" rel="noopener noreferrer">Customer Orders</a></li></ul><h3 id="api-changes" tabindex="-1">API Changes <a class="header-anchor" href="#api-changes" aria-hidden="true">#</a></h3><p>The underlying IHttpRequest (an adapter interface over <a href="http://ASP.NET/HttpListener" target="_blank" rel="noopener noreferrer">ASP.NET/HttpListener</a> HTTP Requests) can now be retrieved within your webservice to be able to query the different HTTP Request properties:</p><div class="language-csharp"><pre><code>    <span class="token class-name"><span class="token keyword">var</span></span> httpReq <span class="token operator">=</span> <span class="token keyword">base</span><span class="token punctuation">.</span>RequestContext<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Get</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IHttpRequest<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Also added is the ability to resolve existing web services (already auto-wired by the IOC) so you can re-use existing web service logic. Here is an example of usage from the Northwind <a href="https://github.com/ServiceStack/ServiceStack.Examples/blob/master/src/ServiceStack.Northwind/ServiceStack.Northwind.ServiceInterface/CustomerDetailsService.cs" target="_blank" rel="noopener noreferrer">CustomerDetailsService.cs</a>.</p><div class="language-csharp"><pre><code>    <span class="token class-name"><span class="token keyword">var</span></span> ordersService <span class="token operator">=</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ResolveService</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>OrdersService<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> ordersResponse <span class="token operator">=</span> <span class="token punctuation">(</span>OrdersResponse<span class="token punctuation">)</span>ordersService<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Orders</span> <span class="token punctuation">{</span> CustomerId <span class="token operator">=</span> customer<span class="token punctuation">.</span>Id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="servicestack-1-79-release-notes" tabindex="-1">ServiceStack 1.79 Release Notes <a class="header-anchor" href="#servicestack-1-79-release-notes" aria-hidden="true">#</a></h2><h3 id="the-c-net-sync-and-async-service-clients-were-improved-to-include" tabindex="-1">The C#/.NET Sync and Async Service Clients were improved to include: <a class="header-anchor" href="#the-c-net-sync-and-async-service-clients-were-improved-to-include" aria-hidden="true">#</a></h3><ul><li>Enhanced REST functionality and access, now more succinct than ever</li><li>Uploading of files to ServiceStack web services using <strong>HTTP POST</strong> <em>multipart/form-data</em></li><li>More robust error handling support handling C# exceptions over REST services</li><li>For examples of on how to use the C# REST client API check out the tests in the new REST Files project: <ul><li><a href="https://github.com/ServiceStack/ServiceStack.Examples/blob/master/src/RestFiles/RestFiles.Tests/SyncRestClientTests.cs" target="_blank" rel="noopener noreferrer">Sync C# client examples</a></li><li><a href="https://github.com/ServiceStack/ServiceStack.Examples/blob/master/src/RestFiles/RestFiles.Tests/AsyncRestClientTests.cs" target="_blank" rel="noopener noreferrer">Async C# client examples</a></li></ul></li></ul><h2 id="new-restfiles-project-added-to-servicestack-examples-github-project" tabindex="-1">New RestFiles project added to <a href="https://github.com/ServiceStack/ServiceStack.Examples/" target="_blank" rel="noopener noreferrer">ServiceStack.Examples</a> GitHub project: <a class="header-anchor" href="#new-restfiles-project-added-to-servicestack-examples-github-project" aria-hidden="true">#</a></h2><h4 id="live-demo-available-at-servicestack-net-restfiles" tabindex="-1">Live demo available at: <a href="http://servicestack.net/RestFiles/" target="_blank" rel="noopener noreferrer">servicestack.net/RestFiles/</a> <a class="header-anchor" href="#live-demo-available-at-servicestack-net-restfiles" aria-hidden="true">#</a></h4><ul><li>Provides a complete remote file system management over a <a href="http://servicestack.net/RestFiles/servicestack/metadata" target="_blank" rel="noopener noreferrer">REST-ful api</a></li><li>The complete REST-ful /files web service implementation is only <a href="https://github.com/ServiceStack/ServiceStack.Examples/blob/master/src/RestFiles/RestFiles.ServiceInterface/FilesService.cs" target="_blank" rel="noopener noreferrer"><strong>1 C# page class</strong></a></li><li>Includes a pure ajax client to provide a <strong>GitHub-like</strong> file browsing experience, written in only <a href="https://github.com/ServiceStack/ServiceStack.Examples/blob/master/src/RestFiles/RestFiles/default.htm" target="_blank" rel="noopener noreferrer"><strong>1 static HTML page, using only jQuery</strong></a></li><li><a href="https://github.com/ServiceStack/ServiceStack.Examples/blob/master/src/RestFiles/RestFiles.Tests/" target="_blank" rel="noopener noreferrer">C# integration test examples</a> are also included showing how to access this REST-ful api over sync and async C# clients</li></ul><p>Read the rest of the <a href="https://github.com/ServiceStack/ServiceStack.Examples/tree/master/src/RestFiles/RestFiles" target="_blank" rel="noopener noreferrer">Rest Files README.md</a> for a more detailed overview about the project.</p><h2 id="servicestack-1-78-release-notes" tabindex="-1">ServiceStack 1.78 Release Notes <a class="header-anchor" href="#servicestack-1-78-release-notes" aria-hidden="true">#</a></h2><ul><li><p>Added more tests and fixed bugs in ServiceStack&#39;s new CSV format and Request/Response filters</p></li><li><p>Added new information on the generated web service index, individual web service page now include:</p><ul><li>REST paths (if any are defined) thanks to <a href="http://twitter.com/jakescott" target="_blank" rel="noopener noreferrer">@jakescott</a></li><li>Included directions to consumers on how to override the HTTP <strong>Accept</strong> header and specify the <strong>format</strong></li><li>Now including any System.CompontentModel.<strong>Description</strong> meta information attributed on your Request DTO</li><li>Preview the new documentation pages on ServiceStack <a href="http://www.servicestack.net/ServiceStack.Hello/servicestack/json/metadata?op=Hello" target="_blank" rel="noopener noreferrer"><strong>Hello</strong></a> and <a href="http://www.servicestack.net/ServiceStack.MovieRest/servicestack/xml/metadata?op=Movie" target="_blank" rel="noopener noreferrer"><strong>Movies</strong></a> example web service pages.</li></ul></li><li><p>Added <a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/RequestFiltersTests.cs" target="_blank" rel="noopener noreferrer">tests to show how to implement Basic Authentication</a> using the new RequestFilters</p></li><li><p>Changed the httpHandler paths in the Example projects and <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.WebHost.Endpoints/SupportedHandlerMappings.cs" target="_blank" rel="noopener noreferrer">created a new Config class</a> to store which supported mappings go with which web servers + middleware.</p></li><li><p>Provide a way to register new urls for different ServiceStack handler mappings used, e.g. to register IIS 6.0 urls:</p><pre><code>SetConfig(new EndpointConfig { ServiceEndpointsMetadataConfig = ServiceEndpointsMetadataConfig.GetForIis6ServiceStackAshx() });
</code></pre></li></ul><h2 id="servicestack-1-77-release-notes" tabindex="-1">ServiceStack 1.77 Release Notes <a class="header-anchor" href="#servicestack-1-77-release-notes" aria-hidden="true">#</a></h2><p>This release was focused to opening up ServiceStack to better support adding more hooks and extension points where new formats can be added. The CSV format was also added to test these new extension APIs.</p><h2 id="main-features-added-in-this-release" tabindex="-1">Main features added in this release: <a class="header-anchor" href="#main-features-added-in-this-release" aria-hidden="true">#</a></h2><ul><li>Added support for the <a href="/csv-format.html">CSV format</a></li><li>Enhanced the IContentTypeFilter API to add support for different serialization formats</li><li>Added Request and Response filters so custom code can inspect and modify the incoming <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.ServiceHost/IHttpRequest.cs" target="_blank" rel="noopener noreferrer">IHttpRequest</a> or <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.ServiceHost/IHttpResponse.cs" target="_blank" rel="noopener noreferrer">IHttpResponse</a>.</li><li>Added <code>Request.Items</code> so you can share arbitrary data between your filters and web services.</li><li>Added <code>Request.Cookies</code> for reading cookies (to avoid retrieving it from HttpRuntime.Current)</li><li>Removed the preceding UTF8 BOM character to ServiceStack&#39;s JSON and JSV Serializers.</li><li>All features above are available on both <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> and HttpListener hosts</li></ul><h3 id="csv-format" tabindex="-1"><a href="/csv-format.html">CSV Format</a> <a class="header-anchor" href="#csv-format" aria-hidden="true">#</a></h3><p>Using the same tech that makes <a href="http://www.servicestack.net/benchmarks/NorthwindDatabaseRowsSerialization.100000-times.2010-08-17.html" target="_blank" rel="noopener noreferrer">ServiceStack&#39;s JSV and JSON serializers so fast</a> (i.e. no run-time reflection, static delegate caching, etc), should make it the fastest POCO CSV Serializer available for .NET.</p><p>The &#39;CSV&#39; format is the first format added using the new extensions API, which only took the following lines of code:</p><div class="language-csharp"><pre><code>    <span class="token comment">//Register the &#39;text/csv&#39; content-type and serializers (format is inferred from the last part of the content-type)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>ContentTypeFilters<span class="token punctuation">.</span><span class="token function">Register</span><span class="token punctuation">(</span>ContentType<span class="token punctuation">.</span>Csv<span class="token punctuation">,</span>
        CsvSerializer<span class="token punctuation">.</span>SerializeToStream<span class="token punctuation">,</span> CsvSerializer<span class="token punctuation">.</span>DeserializeFromStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Add a response filter to add a &#39;Content-Disposition&#39; header so browsers treat it as a native .csv file</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>ResponseFilters<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> dto<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>ResponseContentType <span class="token operator">==</span> ContentType<span class="token punctuation">.</span>Csv<span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                res<span class="token punctuation">.</span><span class="token function">AddHeader</span><span class="token punctuation">(</span>HttpHeaders<span class="token punctuation">.</span>ContentDisposition<span class="token punctuation">,</span>
                    <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">&quot;attachment;filename={0}.csv&quot;</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>OperationName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>With only the code above, the &#39;CSV&#39; format is now a first-class supported format which means all your existing web services can take advantage of the new format without any config or code changes. Just drop the latest ServiceStack.dlls (v1.77+) and you&#39;re good to go!</p><p>Note: there are some limitations on the CSV format and implementation which you can read about on the <a href="/csv-format.html">ServiceStack CSV Format page</a>.</p><h3 id="request-and-response-filters" tabindex="-1">Request and Response Filters: <a class="header-anchor" href="#request-and-response-filters" aria-hidden="true">#</a></h3><p>The Request filter takes a IHttpRequest, IHttpResponse and the <strong>Request DTO</strong>:</p><div class="language-csharp"><pre><code>    <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Action<span class="token punctuation">&lt;</span>IHttpRequest<span class="token punctuation">,</span> IHttpResponse<span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> RequestFilters <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div><p>The Response filter takes a IHttpRequest, IHttpResponse and the <strong>Response DTO</strong>:</p><div class="language-csharp"><pre><code>    <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Action<span class="token punctuation">&lt;</span>IHttpRequest<span class="token punctuation">,</span> IHttpResponse<span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> ResponseFilters<span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div><p>Note: both sets of filters are called before there any output is written to the response stream so you can happily use the filters to authorize and redirect the request. Calling <code>IHttpResponse.Close()</code> will close the response stream and stop any further processing of this request.</p><p>Feel free to discuss or find more about any of these features at the <a href="https://groups.google.com/forum/#!forum/servicestack" target="_blank" rel="noopener noreferrer">ServiceStack Google Group</a></p><blockquote><p><a href="https://github.com/ServiceStack/ServiceStack/wiki" target="_blank" rel="noopener noreferrer">Wiki Home</a></p></blockquote>__VP_STATIC_END__`,339),k=[i,p,c,l,u,d,h];function g(f,m,v,b,w,S){return o(),s("div",null,k)}var T=t(r,[["render",g]]);export{R as __pageData,T as default};
