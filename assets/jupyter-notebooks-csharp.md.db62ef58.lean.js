import{_ as n}from"./jupyter-csharp.d602be32.js";import{_ as a,c as s,o,b as e,e as t}from"./app.14440598.js";const le='{"title":"C# Jupyter Notebooks","description":"","frontmatter":{"slug":"jupyter-notebooks-csharp","title":"C# Jupyter Notebooks"},"headers":[{"level":3,"title":"Generate C# Jupyter Notebooks","slug":"generate-c-jupyter-notebooks"},{"level":2,"title":"Setup Jupyter for C# locally","slug":"setup-jupyter-for-c-locally"},{"level":2,"title":"Running JupyterLab","slug":"running-jupyterlab"},{"level":2,"title":"Example generated notebook","slug":"example-generated-notebook"},{"level":3,"title":"Visualize the data","slug":"visualize-the-data"},{"level":2,"title":"Try it out yourself using MyBinder with generated notebooks","slug":"try-it-out-yourself-using-mybinder-with-generated-notebooks"}],"relativePath":"jupyter-notebooks-csharp.md","lastUpdated":1634495308422}',l={},c=e("p",null,[e("img",{src:n,alt:""})],-1),i=e("p",null,"Jupyter Commands lets you generate C# Jupyter Notebooks for calling ServiceStack APIs in a single command.",-1),r=e("iframe",{width:"896",height:"525",src:"https://www.youtube.com/embed/vt92pbet5bY",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,-1),u=e("p",null,[t("All command line utils used are available in the latest "),e("a",{href:"/dotnet-tool.html"},"dotnet tool"),t(" which can be installed from:")],-1),p=e("div",{class:"language-bash"},[e("pre",null,[e("code",null,[t("$ dotnet tool "),e("span",{class:"token function"},"install"),t(` --global x
`)])])],-1),d=e("p",null,"Or if you had a previous version installed, update with:",-1),h=e("div",{class:"language-bash"},[e("pre",null,[e("code",null,`$ dotnet tool update -g x
`)])],-1),k=e("h3",{id:"generate-c-jupyter-notebooks",tabindex:"-1"},[t("Generate C# Jupyter Notebooks "),e("a",{class:"header-anchor",href:"#generate-c-jupyter-notebooks","aria-hidden":"true"},"#")],-1),y=e("p",null,[t("Use "),e("code",null,"x jupyter-csharp"),t(" to display different usage examples for generating C# Jupyter Notebooks:")],-1),g=e("div",{class:"language-"},[e("pre",null,[e("code",null,`Usage: x jupyter-csharp <base-url>
       x jupyter-csharp <base-url> <request>
       x jupyter-csharp <base-url> <request> {js-object}
       x jupyter-csharp <base-url> <request> < body.json

Options:
 -out <file>            Save notebook to file
 -include <pattern>     Include Types DTOs pattern
`)])],-1),m=e("p",null,[t("The same syntax for invoking APIs with the "),e("a",{href:"/post-command.html"},"Post Command HTTP Utils"),t(" can also be used to generate C# Jupyter Notebooks, e.g:")],-1),b=e("div",{class:"language-bash"},[e("pre",null,[e("code",null,[t("$ x jupyter-csharp https://techstacks.io FindTechStacks "),e("span",{class:"token string"},`"{Ids:[1,2,3],VendorName:'Google',Take:5}"`),t(`
`)])])],-1),_=e("p",null,"Output:",-1),f=e("div",{class:"language-"},[e("pre",null,[e("code",null,`Saved to: techstacks.io-FindTechStacks.ipynb
`)])],-1),v=e("div",{class:"info custom-block"},[e("p",{class:"custom-block-title"},"INFO"),e("p",null,[t("Jupyter Notebooks can also be created with the API Explorer UI at "),e("a",{href:"https://apps.servicestack.net",target:"_blank",rel:"noopener noreferrer"},"apps.servicestack.net")])],-1),w=e("h2",{id:"setup-jupyter-for-c-locally",tabindex:"-1"},[t("Setup Jupyter for C# locally "),e("a",{class:"header-anchor",href:"#setup-jupyter-for-c-locally","aria-hidden":"true"},"#")],-1),x=e("p",null,"To get working with JupyterLabs to run locally with a C# kernel, there are a few things you'll need to have installed.",-1),j=e("ul",null,[e("li",null,"Latest dotnet 5.0+ SDK"),e("li",null,"Python 3.7+ with pip")],-1),T=e("p",null,"With both dotnet SDK and Python installed, you can then install JupyterLab, Dotnet Interactive and register the dotnet kernels with the following commands.",-1),S=e("div",{class:"language-bash"},[e("pre",null,[e("code",null,[e("span",{class:"token comment"},"# Install jupyterlab to default Python interpreter"),t(`
pip `),e("span",{class:"token function"},"install"),t(` jupyterlab
`),e("span",{class:"token comment"},"# Install Dotnet Interactive dotnet tool"),t(`
dotnet tool `),e("span",{class:"token function"},"install"),t(` -g Microsoft.dotnet-interactive
`),e("span",{class:"token comment"},"# Get Dotnet Interactive to register kernels with Jupyter  "),t(`
dotnet interactive jupyter `),e("span",{class:"token function"},"install"),t(`
`)])])],-1),N=e("p",null,"To verify these have been installed successfully, you can list the currently registered kernels using the command.",-1),D=e("div",{class:"language-bash"},[e("pre",null,[e("code",null,`$ jupyter kernelspec list
`)])],-1),J=e("p",null,[t("This should list "),e("code",null,".net-csharp"),t(" as one of the kernels which is what the C# notebooks will use.")],-1),C=e("h2",{id:"running-jupyterlab",tabindex:"-1"},[t("Running JupyterLab "),e("a",{class:"header-anchor",href:"#running-jupyterlab","aria-hidden":"true"},"#")],-1),P=e("p",null,"With everything setup, navigate to a local directory with your notebooks and run:",-1),I=e("div",{class:"language-bash"},[e("pre",null,[e("code",null,`$ jupyter-lab
`)])],-1),E=e("p",null,[t("The context of where this command is run from matter as JupyterLab will mount list files in the same directory is was run, so make sure your running the "),e("code",null,"jupyter-lab"),t(" command from where your notebooks are located or where you new notebooks to be saved.")],-1),V=e("h2",{id:"example-generated-notebook",tabindex:"-1"},[t("Example generated notebook "),e("a",{class:"header-anchor",href:"#example-generated-notebook","aria-hidden":"true"},"#")],-1),G=e("p",null,"From your notebook directory that JupyterLab is using, open a new command prompt/terminal and run:",-1),L=e("div",{class:"language-bash"},[e("pre",null,[e("code",null,`$ x jupyter-csharp https://covid-vac-watch.netcore.io QueryVaccinationRates
`)])],-1),$=e("p",null,[t("This will generate the file "),e("code",null,"covid_vac_watch.netcore.io-QueryVaccinationRates.ipynb"),t(" in that directory. This file has everything that is needed to call the "),e("code",null,"QueryVaccinationRates"),t(" service and display data in the response.")],-1),A=e("p",null,[e("img",{src:"https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/jupyter/jupyter-lab-csharp-example.png",alt:""})],-1),B=e("h3",{id:"visualize-the-data",tabindex:"-1"},[t("Visualize the data "),e("a",{class:"header-anchor",href:"#visualize-the-data","aria-hidden":"true"},"#")],-1),R=e("p",null,[t("These generated notebooks are designed to be a starting point with all the data plumbing setup done for you. Taking this example further, we can visualize the data using "),e("a",{href:"https://plotly.net/",target:"_blank",rel:"noopener noreferrer"},"Plotly.NET"),t(", a NuGet library that generates plotly.js visuals using .NET. Run at least the first two cells and then add a new cell at the bottom of the generated notebook with the following code.")],-1),z=e("div",{class:"language-csharp"},[e("pre",null,[e("code",null,[e("span",{class:"token preprocessor property"},"#r "),e("span",{class:"token string"},'"nuget: Plotly.NET, 2.0.0-preview.6"'),t(`
`),e("span",{class:"token preprocessor property"},"#r "),e("span",{class:"token string"},'"nuget: Plotly.NET.Interactive, 2.0.0-preview.6"'),t(`

`),e("span",{class:"token keyword"},"using"),t(),e("span",{class:"token namespace"},[t("Plotly"),e("span",{class:"token punctuation"},"."),t("NET")]),e("span",{class:"token punctuation"},";"),t(`

`),e("span",{class:"token class-name"},[e("span",{class:"token keyword"},"var")]),t(" xData "),e("span",{class:"token operator"},"="),t(" response"),e("span",{class:"token punctuation"},"."),t("Results"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"Select"),e("span",{class:"token punctuation"},"("),t("x "),e("span",{class:"token operator"},"=>"),t(" x"),e("span",{class:"token punctuation"},"."),t("Date"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"ToList"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),t(`
`),e("span",{class:"token class-name"},[e("span",{class:"token keyword"},"var")]),t(" yData "),e("span",{class:"token operator"},"="),t(" response"),e("span",{class:"token punctuation"},"."),t("Results"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"Select"),e("span",{class:"token punctuation"},"("),t("x "),e("span",{class:"token operator"},"=>"),t(" x"),e("span",{class:"token punctuation"},"."),t("DailyVaccinations "),e("span",{class:"token operator"},"=="),t(),e("span",{class:"token keyword"},"null"),t(),e("span",{class:"token punctuation"},"?"),t(),e("span",{class:"token number"},"0"),t(),e("span",{class:"token punctuation"},":"),t(),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"decimal"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"("),t("x"),e("span",{class:"token punctuation"},"."),t("DailyVaccinations"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"ToList"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),t(`

`),e("span",{class:"token class-name"},[t("GenericChart"),e("span",{class:"token punctuation"},"."),t("GenericChart")]),t(" chart "),e("span",{class:"token operator"},"="),t(" Chart"),e("span",{class:"token punctuation"},"."),e("span",{class:"token generic-method"},[e("span",{class:"token function"},"Point"),e("span",{class:"token generic class-name"},[e("span",{class:"token punctuation"},"<"),t("DateTime"),e("span",{class:"token punctuation"},","),e("span",{class:"token keyword"},"decimal"),e("span",{class:"token punctuation"},","),t(),e("span",{class:"token keyword"},"string"),e("span",{class:"token punctuation"},">")])]),e("span",{class:"token punctuation"},"("),e("span",{class:"token named-parameter punctuation"},"x"),e("span",{class:"token punctuation"},":"),t(" xData"),e("span",{class:"token punctuation"},","),t(),e("span",{class:"token named-parameter punctuation"},"y"),e("span",{class:"token punctuation"},":"),t(" yData"),e("span",{class:"token punctuation"},","),t(),e("span",{class:"token named-parameter punctuation"},"Name"),e("span",{class:"token punctuation"},":"),t(),e("span",{class:"token string"},'""'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),t(`
chart
    `),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"WithTraceName"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"Daily Vaccinations"'),e("span",{class:"token punctuation"},","),t(),e("span",{class:"token boolean"},"true"),e("span",{class:"token punctuation"},")"),t(`
    `),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"WithX_AxisStyle"),e("span",{class:"token punctuation"},"("),e("span",{class:"token named-parameter punctuation"},"title"),e("span",{class:"token punctuation"},":"),t(),e("span",{class:"token string"},'"Vaccinations"'),e("span",{class:"token punctuation"},","),t(),e("span",{class:"token named-parameter punctuation"},"Showgrid"),e("span",{class:"token punctuation"},":"),t(),e("span",{class:"token boolean"},"false"),e("span",{class:"token punctuation"},","),t(),e("span",{class:"token named-parameter punctuation"},"Showline"),e("span",{class:"token punctuation"},":"),t(),e("span",{class:"token boolean"},"true"),e("span",{class:"token punctuation"},")"),t(`
    `),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"WithY_AxisStyle"),e("span",{class:"token punctuation"},"("),e("span",{class:"token named-parameter punctuation"},"title"),e("span",{class:"token punctuation"},":"),t(),e("span",{class:"token string"},'"Date"'),e("span",{class:"token punctuation"},","),t(),e("span",{class:"token named-parameter punctuation"},"Showgrid"),e("span",{class:"token punctuation"},":"),t(),e("span",{class:"token boolean"},"false"),e("span",{class:"token punctuation"},","),t(),e("span",{class:"token named-parameter punctuation"},"Showline"),e("span",{class:"token punctuation"},":"),t(),e("span",{class:"token boolean"},"true"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),t(`
`),e("span",{class:"token function"},"display"),e("span",{class:"token punctuation"},"("),t("chart"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),t(`
`)])])],-1),O=e("p",null,"The code above does several things.",-1),U=e("ul",null,[e("li",null,[t("Import the 2 required "),e("a",{href:"http://Plotly.NET",target:"_blank",rel:"noopener noreferrer"},"Plotly.NET"),t(" NuGet dependencies.")]),e("li",null,[t("Declares "),e("code",null,"using"),t(" statement.")]),e("li",null,"Transforms response data into 2 equal list of primitive data."),e("li",null,[t("Generates a plot with "),e("code",null,"Date"),t(" on the X axis and "),e("code",null,"DailyVaccinations"),t(" on the Y axis.")])],-1),q=e("p",null,[e("img",{src:"https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/jupyter/jupyter-lab-visual-example.png",alt:""})],-1),M=e("h2",{id:"try-it-out-yourself-using-mybinder-with-generated-notebooks",tabindex:"-1"},[t("Try it out yourself using MyBinder with generated notebooks "),e("a",{class:"header-anchor",href:"#try-it-out-yourself-using-mybinder-with-generated-notebooks","aria-hidden":"true"},"#")],-1),W=e("p",null,[t("Another way to work with Jupyter, C# and ServiceStack generated notebooks is to do with via "),e("a",{href:"https://mybinder.org/",target:"_blank",rel:"noopener noreferrer"},"MyBinder"),t(". MyBinder is a free hosted service that gives you an isolated docker container to run your notebooks if you are just trying something out.")],-1),F=e("p",null,[e("a",{href:"https://mybinder.org/v2/gh/ServiceStack/jupyter-notebooks/HEAD",target:"_blank",rel:"noopener noreferrer"},[e("img",{src:"https://mybinder.org/badge_logo.svg",alt:"Binder"})])],-1),Q=e("ul",null,[e("li",null,[t("Click on the "),e("code",null,"Launch Binder"),t(" badge above and wait for it to launch into a Jupyter web UI (it can take a min or two sometimes)")]),e("li",null,[t("Goto "),e("code",null,"New"),t(" and select "),e("code",null,"Terminal"),t(".")]),e("li",null,[t("In the terminal use the ServiceStack "),e("code",null,"x"),t(" tool to generate a new C# notebook like before "),e("ul",null,[e("li",null,[e("code",null,"x jupyter-csharp https://covid-vac-watch.netcore.io QueryVaccinationRates")])])]),e("li",null,"Navigate back to Jupyter file explorer and see your generated notebook."),e("li",null,[t("Open the new notebook and "),e("strong",null,"run"),t(" the generated cells.")]),e("li",null,[t("Add a new cell with the same code for "),e("a",{href:"http://Plotly.NET",target:"_blank",rel:"noopener noreferrer"},"Plotly.NET"),t(" as above and run")])],-1),Y=e("p",null,[e("img",{src:"https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/jupyter/jupyter-mybinder-visual-example.png",alt:""})],-1),H=[c,i,r,u,p,d,h,k,y,g,m,b,_,f,v,w,x,j,T,S,N,D,J,C,P,I,E,V,G,L,$,A,B,R,z,O,U,q,M,W,F,Q,Y];function K(X,Z,ee,te,ne,ae){return o(),s("div",null,H)}var ce=a(l,[["render",K]]);export{le as __pageData,ce as default};
