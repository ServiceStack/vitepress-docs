import{_ as s,c as n,o as a,a as t}from"./app.14440598.js";const y='{"title":"HTTP Utils","description":"","frontmatter":{"slug":"http-utils","title":"HTTP Utils"},"headers":[{"level":3,"title":"Creating a pleasant DRY API with just extension methods","slug":"creating-a-pleasant-dry-api-with-just-extension-methods"},{"level":3,"title":"Url Extensions","slug":"url-extensions"},{"level":3,"title":"Alternative Content-Type","slug":"alternative-content-type"},{"level":3,"title":"Customizing the WebRequest","slug":"customizing-the-webrequest"},{"level":3,"title":"Parsing Custom Responses","slug":"parsing-custom-responses"},{"level":3,"title":"Downloading Raw Content","slug":"downloading-raw-content"},{"level":2,"title":"POSTing data","slug":"posting-data"},{"level":3,"title":"POSTing JSON data","slug":"posting-json-data"},{"level":3,"title":"PATCH Example","slug":"patch-example"},{"level":3,"title":"Creating a Proxy using HTTP Utils","slug":"creating-a-proxy-using-http-utils"},{"level":2,"title":"Async HTTP Utils","slug":"async-http-utils"},{"level":2,"title":"Uploading Files","slug":"uploading-files"},{"level":2,"title":"Upload File from Stream","slug":"upload-file-from-stream"},{"level":2,"title":"Exception handling","slug":"exception-handling"},{"level":3,"title":"HTTP Utils are mockable","slug":"http-utils-are-mockable"},{"level":2,"title":"HTTP API Reference","slug":"http-api-reference"}],"relativePath":"http-utils.md","lastUpdated":1634495307618}',p={},e=t(`<p>The recommended way to call ServiceStack services is to use any of the <a href="/csharp-client.html">C# Service Clients</a> which have a nice DRY and typed API optimized for this use. However when doing server programming you will often need to consume 3rd Party HTTP APIs, unfortunately the built-in way to do this in .NET doesn&#39;t make for a good development experience since it makes use of <strong>WebRequest</strong> - one of the legacy classes inherited from the early .NET days. WebRequest is an example of a class that&#39;s both versatile but also suffers from exposing an out-dated and unpleasant API for your application code to bind to.</p><h3 id="creating-a-pleasant-dry-api-with-just-extension-methods" tabindex="-1">Creating a pleasant DRY API with just extension methods <a class="header-anchor" href="#creating-a-pleasant-dry-api-with-just-extension-methods" aria-hidden="true">#</a></h3><p>Rather than taking the normal .NET approach of wrapping WebRequest inside a suite of proxy and abstraction classes, we prefer to instead encapsulate any unnecessary boilerplate behind extension methods DRYing common access patterns behind terse, readable and chained APIs without any loss of flexibility since the underlying WebRequest remains accessible whenever it&#39;s needed.</p><p>The <a href="https://github.com/ServiceStack/ServiceStack.UseCases/tree/master/PocoPower" target="_blank" rel="noopener noreferrer">PocoPower project</a> shows some good examples of what this looks like in Practice. Here&#39;s how you can retrieve a typed list of GitHub User Repos from GitHub&#39;s JSON REST API:</p><div class="language-csharp"><pre><code><span class="token class-name">List<span class="token punctuation">&lt;</span>GithubRepo<span class="token punctuation">&gt;</span></span> repos <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;https://api.github.com/users/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">user</span><span class="token punctuation">}</span></span><span class="token string">/repos&quot;</span></span>
    <span class="token punctuation">.</span><span class="token function">GetJsonFromUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromJson</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>List<span class="token punctuation">&lt;</span>GithubRepo<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="url-extensions" tabindex="-1">Url Extensions <a class="header-anchor" href="#url-extensions" aria-hidden="true">#</a></h3><p>You can make use of the accompanying String Extensions to programatically construct a url as seen in this Twitter API example:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> url <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;http://api.twitter.com/statuses/user_timeline.json?screen_name=</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">name</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>sinceId <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    url <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">AddQueryParam</span><span class="token punctuation">(</span><span class="token string">&quot;since_id&quot;</span><span class="token punctuation">,</span> sinceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>maxId <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    url <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">AddQueryParam</span><span class="token punctuation">(</span><span class="token string">&quot;max_id&quot;</span><span class="token punctuation">,</span> maxId<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> tweets <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">GetJsonFromUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromJson</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>List<span class="token punctuation">&lt;</span>Tweet<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In both these cases it uses <code>WebRequest</code> to make a HTTP <strong>GET</strong> request asking for the &quot;application/json&quot; Content-Type, that&#39;s preferably compressed with <code>gzip</code> or <code>deflate</code> encoding (if the remote web server supports it).</p><h3 id="alternative-content-type" tabindex="-1">Alternative Content-Type <a class="header-anchor" href="#alternative-content-type" aria-hidden="true">#</a></h3><p>In addition to <code>GetJsonFromUrl</code> there&#39;s also <code>GetXmlFromUrl</code> covering the 2 widely used content-types used for data containers:</p><div class="language-csharp"><pre><code><span class="token class-name">List<span class="token punctuation">&lt;</span>User<span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> <span class="token string">&quot;http://example.org/xml-rpc/users&quot;</span>
    <span class="token punctuation">.</span><span class="token function">GetXmlFromUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromXml</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>List<span class="token punctuation">&lt;</span>User<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>For any other Content-Type you can specify it with the optional <code>accept</code> param:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> csv <span class="token operator">=</span> <span class="token string">&quot;http://example.org/users.csv&quot;</span>
    <span class="token punctuation">.</span><span class="token function">GetStringFromUrl</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">accept</span><span class="token punctuation">:</span><span class="token string">&quot;text/csv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="customizing-the-webrequest" tabindex="-1">Customizing the WebRequest <a class="header-anchor" href="#customizing-the-webrequest" aria-hidden="true">#</a></h3><p>Although most extension methods start on string urls, you can customize the HttpWebRequest used to make the request by specifying a <code>requestFilter</code>. e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> json <span class="token operator">=</span> <span class="token string">&quot;http://example.org/users&quot;</span><span class="token punctuation">.</span><span class="token function">GetJsonFromUrl</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">requestFilter</span><span class="token punctuation">:</span>webReq <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    webReq<span class="token punctuation">.</span>Headers<span class="token punctuation">[</span><span class="token string">&quot;X-Api-Key&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> apiKey<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="parsing-custom-responses" tabindex="-1">Parsing Custom Responses <a class="header-anchor" href="#parsing-custom-responses" aria-hidden="true">#</a></h3><p>This also works for Response Filters as well where if you need access to the Response HTTP Headers as well as the body you can add a callback for the response filter:</p><div class="language-csharp"><pre><code><span class="token class-name">List<span class="token punctuation">&lt;</span>GithubRepo<span class="token punctuation">&gt;</span></span> repos <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;https://api.github.com/users/</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">user</span><span class="token punctuation">}</span></span><span class="token string">/repos&quot;</span></span>
    <span class="token punctuation">.</span><span class="token function">GetJsonFromUrl</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">responseFilter</span><span class="token punctuation">:</span> httpRes <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> remaining <span class="token operator">=</span> httpRes<span class="token punctuation">.</span>Headers<span class="token punctuation">[</span><span class="token string">&quot;X-Api-Remaining&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromJson</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>List<span class="token punctuation">&lt;</span>GithubRepo<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="downloading-raw-content" tabindex="-1">Downloading Raw Content <a class="header-anchor" href="#downloading-raw-content" aria-hidden="true">#</a></h3><p>Use the <code>GetStringFromUrl</code> extension to download raw text:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">string</span></span> csv <span class="token operator">=</span> <span class="token string">&quot;http://example.org/sales.csv&quot;</span><span class="token punctuation">.</span><span class="token function">GetStringFromUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>and the <code>GetBytesFromUrl</code> extension to download raw bytes:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> imgBytes <span class="token operator">=</span> <span class="token string">&quot;http://example.org/photo.jpg&quot;</span><span class="token punctuation">.</span><span class="token function">GetBytesFromUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="posting-data" tabindex="-1">POSTing data <a class="header-anchor" href="#posting-data" aria-hidden="true">#</a></h2><p>Another common HTTP Request is to POST data to REST APIs. The most common way to post data to HTTP APIs is to post <code>x-www-form-urlencoded</code> key value pairs which you can do with:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> <span class="token string">&quot;http://example.org/login&quot;</span>
    <span class="token punctuation">.</span><span class="token function">PostToUrl</span><span class="token punctuation">(</span><span class="token string">&quot;Username=mythz&amp;Password=password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Or using a POCO Type:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> <span class="token string">&quot;http://example.org/login&quot;</span>
    <span class="token punctuation">.</span><span class="token function">PostToUrl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Login</span> <span class="token punctuation">{</span> Username<span class="token operator">=</span><span class="token string">&quot;mythz&quot;</span><span class="token punctuation">,</span> Password<span class="token operator">=</span><span class="token string">&quot;password&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>An Anonymous Type:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> <span class="token string">&quot;http://example.org/login&quot;</span>
    <span class="token punctuation">.</span><span class="token function">PostToUrl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token punctuation">{</span> Username<span class="token operator">=</span><span class="token string">&quot;mythz&quot;</span><span class="token punctuation">,</span> Password<span class="token operator">=</span><span class="token string">&quot;password&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Or a string Dictionary:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> login <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> 
    <span class="token punctuation">{</span><span class="token string">&quot;Username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;mythz&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;Password&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> <span class="token string">&quot;http://example.org/login&quot;</span><span class="token punctuation">.</span><span class="token function">PostToUrl</span><span class="token punctuation">(</span>login<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Or a NameValueCollection:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> login <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NameValueCollection</span> <span class="token punctuation">{</span> 
    <span class="token punctuation">{</span><span class="token string">&quot;Username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;mythz&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;Password&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> <span class="token string">&quot;http://example.org/login&quot;</span><span class="token punctuation">.</span><span class="token function">PostToUrl</span><span class="token punctuation">(</span>login<span class="token punctuation">.</span><span class="token function">ToFormUrlEncoded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="posting-json-data" tabindex="-1">POSTing JSON data <a class="header-anchor" href="#posting-json-data" aria-hidden="true">#</a></h3><p>Although POST&#39;ing other Content-Types are also easily supported. An example using JSON:</p><p>Either as any serializable JSON object:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> <span class="token string">&quot;http://example.org/login&quot;</span>
    <span class="token punctuation">.</span><span class="token function">PostJsonToUrl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Login</span> <span class="token punctuation">{</span> Username<span class="token operator">=</span><span class="token string">&quot;mythz&quot;</span><span class="token punctuation">,</span> Password<span class="token operator">=</span><span class="token string">&quot;password&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Or as a raw JSON string:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> <span class="token string">&quot;http://example.org/login&quot;</span>
    <span class="token punctuation">.</span><span class="token function">PostJsonToUrl</span><span class="token punctuation">(</span><span class="token string">@&quot;{&quot;&quot;Username&quot;&quot;:&quot;&quot;mythz&quot;&quot;,&quot;&quot;Password&quot;&quot;:&quot;&quot;p@ssword&quot;&quot;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>And an example of sending any other arbitrary content types:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> <span class="token string">&quot;http://example.org/login&quot;</span>
  <span class="token punctuation">.</span><span class="token function">PostStringToUrl</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;User&gt;mythz&lt;/User&gt;&lt;Pass&gt;p@ss&lt;/Pass&gt;&quot;</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">contentType</span><span class="token punctuation">:</span><span class="token string">&quot;application/xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The above API&#39;s also apply to <strong>PUT</strong> or <strong>PATCH</strong> data as well by using the <code>PutToUrl</code> and <code>PatchToUrl</code> extension methods.</p><p>The same <a href="/http-utils.html#posting-data">HTTP Utils extension methods for Post and Put</a> also have <code>Patch()</code> equivalents.</p><h3 id="patch-example" tabindex="-1">PATCH Example <a class="header-anchor" href="#patch-example" aria-hidden="true">#</a></h3><p>We use the new <code>Patch()</code> support in Gistlyn&#39;s <a href="https://github.com/ServiceStack/Gistlyn/blob/master/src/Gistlyn.ServiceInterface/GitHubServices.cs" target="_blank" rel="noopener noreferrer">GitHubServices.cs</a> to update contents of existing Gists:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> GithubApiBaseUrl <span class="token operator">=</span> <span class="token string">&quot;https://api.github.com/&quot;</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> updateResponse <span class="token operator">=</span> GithubApiBaseUrl<span class="token punctuation">.</span><span class="token function">CombineWith</span><span class="token punctuation">(</span><span class="token string">&quot;gists&quot;</span><span class="token punctuation">,</span> gist<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">PatchJsonToUrl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">UpdateGithubGist</span> <span class="token punctuation">{</span>
        description <span class="token operator">=</span> request<span class="token punctuation">.</span>Description<span class="token punctuation">,</span>
        files <span class="token operator">=</span> request<span class="token punctuation">.</span>Files<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token named-parameter punctuation">requestFilter</span><span class="token punctuation">:</span> req <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        req<span class="token punctuation">.</span>UserAgent <span class="token operator">=</span> <span class="token string">&quot;Gistlyn&quot;</span><span class="token punctuation">;</span>
        req<span class="token punctuation">.</span>Headers<span class="token punctuation">[</span><span class="token string">&quot;Authorization&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;token &quot;</span> <span class="token operator">+</span> github<span class="token punctuation">.</span>AccessTokenSecret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="creating-a-proxy-using-http-utils" tabindex="-1">Creating a Proxy using HTTP Utils <a class="header-anchor" href="#creating-a-proxy-using-http-utils" aria-hidden="true">#</a></h3><p>As the HTTP Utils offers a flexible API it becomes trivial to create a generic HTTP Proxy which you can implement with the ServiceStack Service below:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/proxy&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Proxy</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IRequiresRequestStream</span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Url <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Stream</span> RequestStream <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Any</span><span class="token punctuation">(</span><span class="token class-name">Proxy</span> request<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>Url<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentNullException</span><span class="token punctuation">(</span><span class="token string">&quot;Url&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name"><span class="token keyword">var</span></span> hasRequestBody <span class="token operator">=</span> <span class="token keyword">base</span><span class="token punctuation">.</span>Request<span class="token punctuation">.</span>Verb<span class="token punctuation">.</span><span class="token function">HasRequestBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> bytes <span class="token operator">=</span> request<span class="token punctuation">.</span>Url<span class="token punctuation">.</span><span class="token function">SendBytesToUrl</span><span class="token punctuation">(</span>
          <span class="token named-parameter punctuation">method</span><span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">.</span>Request<span class="token punctuation">.</span>Verb<span class="token punctuation">,</span>
          <span class="token named-parameter punctuation">requestBody</span><span class="token punctuation">:</span> <span class="token return-type class-name">hasRequestBody <span class="token punctuation">?</span></span> request<span class="token punctuation">.</span>RequestStream<span class="token punctuation">.</span><span class="token function">ReadFully</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
          <span class="token named-parameter punctuation">contentType</span><span class="token punctuation">:</span> hasRequestBody <span class="token punctuation">?</span> <span class="token keyword">base</span><span class="token punctuation">.</span>Request<span class="token punctuation">.</span>ContentType <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
          <span class="token named-parameter punctuation">accept</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>IHttpRequest<span class="token punctuation">)</span><span class="token keyword">base</span><span class="token punctuation">.</span>Request<span class="token punctuation">)</span><span class="token punctuation">.</span>Accept<span class="token punctuation">,</span>
          <span class="token named-parameter punctuation">requestFilter</span><span class="token punctuation">:</span> req <span class="token operator">=&gt;</span> req<span class="token punctuation">.</span>UserAgent <span class="token operator">=</span> <span class="token string">&quot;Gistlyn&quot;</span><span class="token punctuation">,</span>
          <span class="token named-parameter punctuation">responseFilter</span><span class="token punctuation">:</span> res <span class="token operator">=&gt;</span> <span class="token keyword">base</span><span class="token punctuation">.</span>Request<span class="token punctuation">.</span>ResponseContentType <span class="token operator">=</span> res<span class="token punctuation">.</span>ContentType<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> bytes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">WebException</span> webEx<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> errorResponse <span class="token operator">=</span> <span class="token punctuation">(</span>HttpWebResponse<span class="token punctuation">)</span>webEx<span class="token punctuation">.</span>Response<span class="token punctuation">;</span>
        <span class="token keyword">base</span><span class="token punctuation">.</span>Response<span class="token punctuation">.</span>StatusCode <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>errorResponse<span class="token punctuation">.</span>StatusCode<span class="token punctuation">;</span>
        <span class="token keyword">base</span><span class="token punctuation">.</span>Response<span class="token punctuation">.</span>StatusDescription <span class="token operator">=</span> errorResponse<span class="token punctuation">.</span>StatusDescription<span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> bytes <span class="token operator">=</span> errorResponse<span class="token punctuation">.</span><span class="token function">GetResponseStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ReadFully</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bytes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="async-http-utils" tabindex="-1">Async HTTP Utils <a class="header-anchor" href="#async-http-utils" aria-hidden="true">#</a></h2><p>Many of HTTP Utils also have async versions allowing them to participate in C#&#39;s <code>async/await</code> workflows. The available async APIs include:</p><div class="language-csharp"><pre><code><span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetStringFromUrlAsync</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">PostStringToUrlAsync</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">PostToUrlAsync</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">PostJsonToUrlAsync</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">PostXmlToUrlAsync</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">PutStringToUrlAsync</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">PutToUrlAsync</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">PutJsonToUrlAsync</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">PutXmlToUrlAsync</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">DeleteFromUrlAsync</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">OptionsFromUrlAsync</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">HeadFromUrlAsync</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
<span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token function">SendStringToUrlAsync</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="uploading-files" tabindex="-1">Uploading Files <a class="header-anchor" href="#uploading-files" aria-hidden="true">#</a></h2><p>In the <code>ServiceStack.ServiceClient.Web</code> namespace there are more HTTP extensions available including the <code>UploadFile</code> extension methods to upload files using multi-part/formdata:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> httpRes <span class="token operator">=</span> <span class="token string">&quot;http://example.org/upload&quot;</span>
    <span class="token punctuation">.</span><span class="token function">PostFileToUrl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileInfo</span><span class="token punctuation">(</span><span class="token string">&quot;/path/to/file.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;application/xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="upload-file-from-stream" tabindex="-1">Upload File from Stream <a class="header-anchor" href="#upload-file-from-stream" aria-hidden="true">#</a></h2><p>For finer-grain control you can use the <code>UploadFile</code> extension method which allows you to customize the <code>WebRequest</code> that&#39;s used to send the File Upload HTTP Request, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> uploadFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileInfo</span><span class="token punctuation">(</span><span class="token string">&quot;path/to/file.csv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> webReq <span class="token operator">=</span> <span class="token punctuation">(</span>HttpWebRequest<span class="token punctuation">)</span>WebRequest<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;http://example.org/upload&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
webReq<span class="token punctuation">.</span>Accept <span class="token operator">=</span> MimeTypes<span class="token punctuation">.</span>Json<span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> stream <span class="token operator">=</span> uploadFile<span class="token punctuation">.</span><span class="token function">OpenRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    webReq<span class="token punctuation">.</span><span class="token function">UploadFile</span><span class="token punctuation">(</span>stream<span class="token punctuation">,</span> uploadFile<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> MimeTypes<span class="token punctuation">.</span><span class="token function">GetMimeType</span><span class="token punctuation">(</span>uploadFile<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="exception-handling" tabindex="-1">Exception handling <a class="header-anchor" href="#exception-handling" aria-hidden="true">#</a></h2><p>Exception handling is another area we can DRY up using extension methods. Rather than wrapping them in our own Custom exception classes or repeating the boilerplate required to find the underlying issue on every request, we provide typed APIs over the native WebRequest <strong>Exceptions</strong>, providing typed DRY APIs to handle common HTTP Faults:</p><div class="language-csharp"><pre><code><span class="token keyword">try</span> 
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> <span class="token string">&quot;http://example.org/fault&quot;</span><span class="token punctuation">.</span><span class="token function">GetStringFromUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> knownError <span class="token operator">=</span> ex<span class="token punctuation">.</span><span class="token function">IsBadRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
        <span class="token operator">||</span> ex<span class="token punctuation">.</span><span class="token function">IsNotFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
        <span class="token operator">||</span> ex<span class="token punctuation">.</span><span class="token function">IsUnauthorized</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
        <span class="token operator">||</span> ex<span class="token punctuation">.</span><span class="token function">IsForbidden</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
        <span class="token operator">||</span> ex<span class="token punctuation">.</span><span class="token function">IsInternalServerError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name"><span class="token keyword">var</span></span> isAnyClientError <span class="token operator">=</span> ex<span class="token punctuation">.</span><span class="token function">IsAny400</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> isAnyServerError <span class="token operator">=</span> ex<span class="token punctuation">.</span><span class="token function">IsAny500</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpStatusCode<span class="token punctuation">?</span></span> errorStatus <span class="token operator">=</span> ex<span class="token punctuation">.</span><span class="token function">GetStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">string</span></span> errorBody <span class="token operator">=</span> ex<span class="token punctuation">.</span><span class="token function">GetResponseBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="http-utils-are-mockable" tabindex="-1">HTTP Utils are mockable <a class="header-anchor" href="#http-utils-are-mockable" aria-hidden="true">#</a></h3><p>The one disadvantage of using Extension methods is that by default they can be hard or impossible to mock which is why we&#39;ve added explicit support for <a href="https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/MockAllApiTests.cs" target="_blank" rel="noopener noreferrer">support for Mocking in OrmLite</a> and now the above HTTP Util extension methods, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">HttpResultsFilter</span> <span class="token punctuation">{</span>
    StringResult <span class="token operator">=</span> <span class="token string">&quot;mocked&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//All return &quot;mocked&quot;</span>
    <span class="token string">&quot;http://google.com&quot;</span><span class="token punctuation">.</span><span class="token function">GetJsonFromUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token string">&quot;http://google.com&quot;</span><span class="token punctuation">.</span><span class="token function">GetXmlFromUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token string">&quot;http://google.com&quot;</span><span class="token punctuation">.</span><span class="token function">GetStringFromUrl</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">accept</span><span class="token punctuation">:</span> <span class="token string">&quot;text/csv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token string">&quot;http://google.com&quot;</span><span class="token punctuation">.</span><span class="token function">PostJsonToUrl</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">json</span><span class="token punctuation">:</span> <span class="token string">&quot;{\\&quot;postdata\\&quot;:1}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>See the <a href="https://github.com/ServiceStack/ServiceStack.Text/blob/master/tests/ServiceStack.Text.Tests/HttpUtilsMockTests.cs" target="_blank" rel="noopener noreferrer">HttpUtilsMockTests.cs</a> for more examples showing how the HTTP Apis can be mocked.</p><h2 id="http-api-reference" tabindex="-1">HTTP API Reference <a class="header-anchor" href="#http-api-reference" aria-hidden="true">#</a></h2><p>The above description should give you a good idea of how to make use of the APIs, although for a more complete reference we&#39;ll post the full signatures here.</p><p>Most of the APIs are located in the <a href="https://github.com/ServiceStack/ServiceStack.Text/blob/master/src/ServiceStack.Text/HttpUtils.cs" target="_blank" rel="noopener noreferrer">ServiceStack.Text</a> namespace:</p><div class="language-csharp"><pre><code><span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetJsonFromUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetXmlFromUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> 
  <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetStringFromUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span> 
  <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PostStringToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> requestBody <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token class-name"><span class="token keyword">string</span></span> contentType <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PostToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> formData<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> accept<span class="token operator">=</span><span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span>
  <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PostToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> formData <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> accept<span class="token operator">=</span><span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span>
  <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PostJsonToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> json<span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PostJsonToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> data<span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PostXmlToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> xml<span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PostXmlToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> data<span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PutStringToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> requestBody <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token class-name"><span class="token keyword">string</span></span> contentType <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PutToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> formData<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> accept<span class="token operator">=</span><span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span>
  <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PutToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> formData <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span>
  <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PutJsonToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> json<span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PutJsonToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> data<span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PutXmlToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> xml<span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">PutXmlToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">object</span></span> data<span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">DeleteFromUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">OptionsFromUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">HeadFromUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">SendStringToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> method <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token class-name"><span class="token keyword">string</span></span> requestBody <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> contentType <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">GetBytesFromUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span> 
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">PostBytesToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> requestBody <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> contentType <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> 
    <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">PutBytesToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> requestBody <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> contentType <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> 
    <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token function">SendBytesToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> method <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> requestBody <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> contentType <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span>
    <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebResponse<span class="token punctuation">&gt;</span></span> responseFilter<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">IsAny300</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>
<span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">IsAny400</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>
<span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">IsAny500</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>
<span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">IsBadRequest</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>
<span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">IsNotFound</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>
<span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">IsUnauthorized</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>
<span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">IsForbidden</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>
<span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">IsInternalServerError</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>

<span class="token return-type class-name">HttpStatusCode<span class="token punctuation">?</span></span> <span class="token function">GetResponseStatus</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">)</span>
<span class="token return-type class-name">HttpStatusCode<span class="token punctuation">?</span></span> <span class="token function">GetStatus</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>
<span class="token return-type class-name">HttpStatusCode<span class="token punctuation">?</span></span> <span class="token function">GetStatus</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">WebException</span> webEx<span class="token punctuation">)</span>
<span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetResponseBody</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">HasStatus</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">WebException</span> webEx<span class="token punctuation">,</span> <span class="token class-name">HttpStatusCode</span> statusCode<span class="token punctuation">)</span>
</code></pre></div><p>Whilst some additional HTTP APIs can be found in the <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Common/ServiceClient.Web/WebRequestExtensions.cs" target="_blank" rel="noopener noreferrer">ServiceStack.ServiceClient.Web</a> namespace:</p><div class="language-csharp"><pre><code><span class="token return-type class-name">HttpWebResponse</span> <span class="token function">GetErrorResponse</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">)</span>

<span class="token return-type class-name">WebResponse</span> <span class="token function">PostFileToUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> url<span class="token punctuation">,</span> <span class="token class-name">FileInfo</span> uploadFileInfo<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> uploadFileMimeType<span class="token punctuation">,</span>
    <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name">WebResponse</span> UploadFile<span class="token return-type class-name"><span class="token punctuation">(</span><span class="token keyword">this</span> WebRequest webRequest<span class="token punctuation">,</span> FileInfo uploadFileInfo<span class="token punctuation">,</span> <span class="token keyword">string</span> uploadFileMimeType<span class="token punctuation">)</span></span>

<span class="token function">UploadFile</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">WebRequest</span> webRequest<span class="token punctuation">,</span> <span class="token class-name">Stream</span> fileStream<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> fileName<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> mimeType<span class="token punctuation">,</span>
    <span class="token class-name"><span class="token keyword">string</span></span> accept <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Action<span class="token punctuation">&lt;</span>HttpWebRequest<span class="token punctuation">&gt;</span></span> requestFilter <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">UploadFile</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">WebRequest</span> webRequest<span class="token punctuation">,</span> <span class="token class-name">Stream</span> fileStream<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> fileName<span class="token punctuation">)</span>
</code></pre></div><p>Which is located in the <a href="https://nuget.org/packages/ServiceStack.Text/" target="_blank" rel="noopener noreferrer">ServiceStack.Text NuGet package</a></p>`,75),o=[e];function c(l,u,k,r,i,d){return a(),n("div",null,o)}var m=s(p,[["render",c]]);export{y as __pageData,m as default};
