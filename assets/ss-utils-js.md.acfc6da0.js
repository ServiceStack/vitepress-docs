import{_ as n,c as s,o as a,a as t}from"./app.14440598.js";const h='{"title":"ss-utils.js JavaScript Client Library","description":"","frontmatter":{"slug":"ss-utils-js","title":"ss-utils.js JavaScript Client Library"},"headers":[{"level":3,"title":"DefinitelyTyped and npm","slug":"definitelytyped-and-npm"},{"level":2,"title":"Usage","slug":"usage"},{"level":2,"title":"Bootstrap Forms","slug":"bootstrap-forms"},{"level":2,"title":"Binding HTML Forms","slug":"binding-html-forms"},{"level":2,"title":"Fluent Validation","slug":"fluent-validation"},{"level":3,"title":"Manual Error Handling","slug":"manual-error-handling"},{"level":2,"title":"Declarative Events","slug":"declarative-events"},{"level":3,"title":"Multiple Arguments","slug":"multiple-arguments"},{"level":2,"title":"Data Binding","slug":"data-binding"},{"level":2,"title":"Advanced bindForm usages","slug":"advanced-bindform-usages"},{"level":3,"title":"Form Loading","slug":"form-loading"},{"level":3,"title":"Server initiated actions","slug":"server-initiated-actions"},{"level":3,"title":"$.ajaxSubmit","slug":"ajaxsubmit"},{"level":3,"title":"$.ss.parseResponseStatus","slug":"ss-parseresponsestatus"},{"level":3,"title":"$.ss.bindAll","slug":"ss-bindall"},{"level":2,"title":"TypeScript Definition","slug":"typescript-definition"},{"level":2,"title":"API Reference","slug":"api-reference"}],"relativePath":"ss-utils-js.md","lastUpdated":1634495308450}',p={},o=t(`<p>jQuery Apps can take advantage of utils in <code>ss-utils.js</code> for easy integration with ServiceStack Services.</p><p>An Embedded Resource inside <strong>ServiceStack.dll</strong> is ServiceStack&#39;s JavaScript utility library that provides a number of convenience utilities in developing javascript web apps. It enables nicer integration with ServiceStack&#39;s Server features including <a href="/validation.html">Validation</a>, <a href="/error-handling.html">Error Handling</a> and <a href="https://github.com/ServiceStackApps/Chat#server-sent-events" target="_blank" rel="noopener noreferrer">Server Events</a> which can be included in any page with:</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/js/ss-utils.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="definitelytyped-and-npm" tabindex="-1">DefinitelyTyped and npm <a class="header-anchor" href="#definitelytyped-and-npm" aria-hidden="true">#</a></h3><p>To make it easier to develop with <strong>ss-utils</strong> in any of the npm-based Single Page Apps templates we&#39;re also maintaining a copy of <a href="https://www.npmjs.com/package/ss-utils" target="_blank" rel="noopener noreferrer">ss-utils in npm</a> and have also added it to JSPM and DefinitelyTyped registry so you can now add it to your project like any other external dependency using JSPM:</p><div class="language-bash"><pre><code>C:<span class="token punctuation">\\</span><span class="token operator">&gt;</span> jspm <span class="token function">install</span> ss-utils
</code></pre></div><p>If you&#39;re using TypeScript, you can also download the accompanying TypeScript definition from:</p><div class="language-bash"><pre><code>C:<span class="token punctuation">\\</span><span class="token operator">&gt;</span>typings <span class="token function">install</span> ss-utils --ambient --save
</code></pre></div><p>Or if you&#39;re using the older tsd package manager: <code>tsd install ss-utils --save</code>.</p><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-hidden="true">#</a></h2><p>To showcase how it simplifies general web development, we&#39;ll walkthrough the JavaScript needed to provide all the behavior for the <a href="https://github.com/ServiceStack/EmailContacts/blob/master/src/EmailContacts/default.cshtml" target="_blank" rel="noopener noreferrer">entire UI of Email Contacts</a> that uses just jQuery and bootstrap.js:</p><h2 id="bootstrap-forms" tabindex="-1">Bootstrap Forms <a class="header-anchor" href="#bootstrap-forms" aria-hidden="true">#</a></h2><p>ss-utils.js validation and error handling support works with Bootstrap&#39;s standard HTML Form markup, e.g:</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-addcontact<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@(new CreateContact().ToPostUrl())<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col-sm-3 form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control input-sm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>help-block<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>The first thing to notice is the <strong>action</strong> url is created with a typed API populated using the <a href="/routing.html#reverse-routing">Reverse Routing</a> <code>ToPostUrl()</code> extension method that looks at <code>CreateContact</code> Request DTO to return the best matching route based on the Route definitions and the fields populated in the Request DTO instance, in this case the empty Request DTO matches <code>[Route(&quot;/contacts&quot;, &quot;POST&quot;)]</code> so returns <code>/contacts</code>.</p><p>Other significant parts in this HTML Form is that the <strong>INPUT</strong> field names match up with the Request DTO it posts to and that it includes Bootstraps <strong>class=&quot;help-block&quot;</strong> placeholders adjacent to each INPUT element which is what <strong>ss-utils.js</strong> uses to bind the field validation errors.</p><h2 id="binding-html-forms" tabindex="-1">Binding HTML Forms <a class="header-anchor" href="#binding-html-forms" aria-hidden="true">#</a></h2><p>You can ajaxify a HTML FORM by using ss-utils <code>bindForm</code> jQuery mixin, e.g:</p><div class="language-js"><pre><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#form-addcontact&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bindForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">contact</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">addContacts</span><span class="token punctuation">(</span><span class="token punctuation">[</span>contact<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#form-addcontact input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This takes over the handling of this FORM and instead of doing a POST back of the entire page to the server, makes an Ajax request using all the fields in the FORM to POST the data to the <strong>CreateContact</strong> Service:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token return-type class-name">Contact</span> <span class="token function">Post</span><span class="token punctuation">(</span><span class="token class-name">CreateContact</span> request<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> contact <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ConvertTo</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Contact<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Db<span class="token punctuation">.</span><span class="token function">Save</span><span class="token punctuation">(</span>contact<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> contact<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="fluent-validation" tabindex="-1">Fluent Validation <a class="header-anchor" href="#fluent-validation" aria-hidden="true">#</a></h2><p>Normally the Service implementation will be called as-is but as we&#39;ve added the FluentValidation <code>ValidationFeature</code> plugin and there exists a validator for <code>CreateContact</code> below:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContactsValidator</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AbstractValidator<span class="token punctuation">&lt;</span>CreateContact<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">ContactsValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">RuleFor</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">NotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithMessage</span><span class="token punctuation">(</span><span class="token string">&quot;A Name is what&#39;s needed.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">RuleFor</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Email<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">NotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">EmailAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">RuleFor</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Age<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GreaterThan</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The Request DTO is first validated with the above declarative rules and if it fails returns a structured error response which ss-utils uses to bind the validation errors to all the invalid field <strong>class=help-block</strong> (or <strong>help-inline</strong>) placeholders:</p><p><img src="https://raw.github.com/ServiceStack/EmailContacts/master/src/EmailContacts/Content/html-validation.png" alt="HTML Validation"></p><p>Whilst the user goes back and corrects their INPUT, we can provide instant feedback and clear the errors as they update each each field with:</p><div class="language-js"><pre><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">change</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span>clearAdjacentError<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Once all is successful we invoke the <code>success:</code> callback with the response of the Service which in this case is the newly created <code>Contact</code> that we dynamically add to the contacts list by calling the existing <code>addContacts()</code> method. We also clear all form values and put focus back to the first field, ready for a rapid entry of the next Contact:</p><div class="language-js"><pre><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#form-addcontact&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bindForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">contact</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">addContacts</span><span class="token punctuation">(</span><span class="token punctuation">[</span>contact<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#form-addcontact input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="manual-error-handling" tabindex="-1">Manual Error Handling <a class="header-anchor" href="#manual-error-handling" aria-hidden="true">#</a></h3><p>The <code>validate</code> callback can be used to add client side validation logic which can manually set client-side validation errors using <code>setFieldError()</code>, e.g:</p><div class="language-javascript"><pre><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;form&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bindForm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">validate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> params <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">serializeMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span>Password <span class="token operator">!=</span> params<span class="token punctuation">.</span>Confirm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setFieldError</span><span class="token punctuation">(</span><span class="token string">&#39;Password&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Passwords to not match&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="declarative-events" tabindex="-1">Declarative Events <a class="header-anchor" href="#declarative-events" aria-hidden="true">#</a></h2><p>An interesting difference in the dynamically generated HTML are the presence of <strong>data-click=showContact</strong> and <strong>data-click=deleteContact</strong> attributes:</p><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">addContacts</span><span class="token punctuation">(</span><span class="token parameter">contacts</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> html <span class="token operator">=</span> contacts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;&lt;li data-id=&#39;&quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span>Id <span class="token operator">+</span> <span class="token string">&quot;&#39; data-click=&#39;showContact&#39;&gt;&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;&lt;span class=&#39;glyphicon glyphicon-user&#39; style=&#39;margin: 0 5px 0 0&#39;&gt;&lt;/span&gt;&quot;</span> <span class="token operator">+</span>
                c<span class="token punctuation">.</span>Name <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token string">&quot; (&quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span>Age <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span> <span class="token operator">+</span>
                <span class="token string">&#39;&lt;span class=&quot;glyphicon glyphicon-remove-circle&quot; data-click=&quot;deleteContact&quot;&gt;&lt;/span&gt;&#39;</span>
             <span class="token operator">+</span> <span class="token string">&quot;&lt;/li&gt;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#contacts&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>html<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This showcases some of the declarative event support in ss-utils which allows you to invoke event handlers without needing to maintain bookkeeping of event handlers when adding or removing elements. You can instead define one set of event handlers for the entire page with <code>bindHandlers</code>, e.g:</p><div class="language-js"><pre><code><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bindHandlers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">showContact</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">&quot;/contacts/&quot;</span> <span class="token operator">+</span> id<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">contact</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#email-contact&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">applyValues</span><span class="token punctuation">(</span>contact<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#form-emailcontact .alert-success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">deleteContact</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> $li <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">closest</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/contacts/&quot;</span> <span class="token operator">+</span> $li<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/delete&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            $li<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">toggleAction</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> $form <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">closest</span><span class="token punctuation">(</span><span class="token string">&quot;form&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> action <span class="token operator">=</span> $form<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;action&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        $form<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;action&quot;</span><span class="token punctuation">,</span> $form<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">&quot;action-alt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">&quot;action-alt&quot;</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The matching event handler will be invoked whenever an element with <strong>data-{event}={handlerName}</strong> is clicked, e.g: <code>data-click=&#39;showContact&#39;</code>.</p><p>In addition to <strong>click</strong>, a number of other jQuery events can be declared in this way, as defined in:</p><div class="language-js"><pre><code>$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span>listenOn <span class="token operator">=</span> <span class="token string">&#39;click dblclick change focus blur focusin focusout select keydown keypress keyup hover toggle&#39;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="multiple-arguments" tabindex="-1">Multiple Arguments <a class="header-anchor" href="#multiple-arguments" aria-hidden="true">#</a></h3><p>Declarative event handlers can also send multiple arguments:</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>single<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Foo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multiple:arg1,arg2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Bar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript"><pre><code><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bindHandlers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">single</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> li <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">multiple</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> li <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="data-binding" tabindex="-1">Data Binding <a class="header-anchor" href="#data-binding" aria-hidden="true">#</a></h2><p>Diving into the implementation of <strong>showContact</strong> we see ss-utils <code>applyValues()</code> jQuery mixin which binds a JS object to the target element, in this case <strong>#email-contact</strong>:</p><div class="language-js"><pre><code><span class="token function-variable function">showContact</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    $<span class="token punctuation">.</span><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">&quot;/contacts/&quot;</span> <span class="token operator">+</span> id<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">contact</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#email-contact&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">applyValues</span><span class="token punctuation">(</span>contact<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#form-emailcontact .alert-success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>The data-binding applied by <code>applyValues()</code> include:</p><ul><li>Set the <strong>value</strong> of all elements with matching <strong>id={field}</strong> or <strong>name={field}</strong></li><li>Set the <strong>value</strong> of all elements marked with <strong>data-val={field}</strong></li><li>Set the innerHTML contents of all elements marked with <strong>data-html={field}</strong></li><li>Set the <code>data-href</code> and <code>data-src</code> attributes</li></ul><h4 id="example-usage" tabindex="-1">Example Usage <a class="header-anchor" href="#example-usage" aria-hidden="true">#</a></h4><div class="language-javascript"><pre><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#email-contact&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">applyValues</span><span class="token punctuation">(</span>contact<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Which binds the returned <strong>contact</strong> response object to the <strong>#email-contact</strong> HTML Element, populating all matching elements with data from <code>contact</code>:</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email-contact<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">data-href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ProfileUrl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ProfileUrl<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>
        Email <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">data-html</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>To: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">data-html</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clearfix<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-emailcontact<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        ...
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ContactId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-val</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Id<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">/&gt;</span></span>
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="advanced-bindform-usages" tabindex="-1">Advanced bindForm usages <a class="header-anchor" href="#advanced-bindform-usages" aria-hidden="true">#</a></h2><h3 id="form-loading" tabindex="-1">Form Loading <a class="header-anchor" href="#form-loading" aria-hidden="true">#</a></h3><p>Whilst a FORM is being processed all its buttons with <code>[type=submit]</code> (overridable with <code>$.ss.onSubmitDisable</code>) are disabled and a <strong>loading</strong> class is added whilst a response from the server is pending. This can be used to provide UX feedback to end users with just CSS. E.g. we use <code>.loading</code> CSS rule to show the rotating glyphicon:</p><div class="language-css"><pre><code><span class="token selector">#email-contact .loading .rotate</span> <span class="token punctuation">{</span>
    <span class="token property">visibility</span><span class="token punctuation">:</span> visible<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="server-initiated-actions" tabindex="-1">Server initiated actions <a class="header-anchor" href="#server-initiated-actions" aria-hidden="true">#</a></h3><p>Some useful functionality not demonstrated in this example is your Services ability to invoke client behavior by returning a response decorated with custom HTTP Headers. An example is being able to return &quot;Soft Redirects&quot; to navigate to a different page by adding a <strong>X-Location</strong> HTTP Header, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HttpResult</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Headers <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span> <span class="token string">&quot;X-Location&quot;</span><span class="token punctuation">,</span> newLocationUri <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>When returned to a ajax form, it will instruct the page to automatically redirect to the new url.</p><p>You can also trigger an event on the page by returning a <strong>X-Trigger</strong> header, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HttpResult</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Headers <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span> <span class="token string">&quot;X-Trigger&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;showLoginPopup&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>In this case the page event handler named <strong>showLoginPopup</strong> will be invoked if it exists.</p><p>As we expect these features to be popular when developing ajax apps we&#39;ve provided shorter typed aliases for the above examples:</p><div class="language-csharp"><pre><code><span class="token keyword">return</span> HttpResult<span class="token punctuation">.</span><span class="token function">SoftRedirect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ViewContact</span> <span class="token punctuation">{</span> Id <span class="token operator">=</span> newContact<span class="token punctuation">.</span>Id <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">ToGetUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> newContact<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> HttpResult<span class="token punctuation">.</span><span class="token function">TriggerEvent</span><span class="token punctuation">(</span>contact<span class="token punctuation">,</span> <span class="token named-parameter punctuation">eventName</span><span class="token punctuation">:</span><span class="token string">&quot;showLoginPopup&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ajaxsubmit" tabindex="-1">$.ajaxSubmit <a class="header-anchor" href="#ajaxsubmit" aria-hidden="true">#</a></h3><p>The <code>$.fn.ajaxSubmit</code> is also available for use independently to submit a HTML form via Ajax on demand. This is used in the <a href="https://github.com/ServiceStackApps/RedisReact/blob/15dfc5cfea49d0502ec8c090b5b180d29051ea3a/src/RedisReact/RedisReact/js/components/connections.jsx#L31" target="_blank" rel="noopener noreferrer">connections.jsx</a> React Component of <a href="https://github.com/ServiceStackApps/RedisReact#connections" target="_blank" rel="noopener noreferrer">Redis React&#39;s Connections Page</a> to auto submit the form via ajax to the specified <code>/connection</code> url with the populated Form INPUT values. It also disables the <code>#btnConnect</code> submit button and adds a <code>.loading</code> class to the form whilst it&#39;s in transit which is used to temporarily show the loading sprite:</p><div class="language-js"><pre><code><span class="token keyword">var</span> Connections <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token function-variable function">onSubmit</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> $<span class="token keyword">this</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token function">$</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ajaxSubmit</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            onSubmitDisable<span class="token operator">:</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#btnConnect&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                $<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> successMessage<span class="token operator">:</span> <span class="token string">&quot;Connection was changed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                Actions<span class="token punctuation">.</span><span class="token function">loadConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> conn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>connection<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;connections-page&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>form id<span class="token operator">=</span><span class="token string">&quot;formConnection&quot;</span> className<span class="token operator">=</span><span class="token string">&quot;form-inline&quot;</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onSubmit<span class="token punctuation">}</span> action<span class="token operator">=</span><span class="token string">&quot;/connection&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Redis Connection<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;form-group&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>input name<span class="token operator">=</span><span class="token string">&quot;host&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>input name<span class="token operator">=</span><span class="token string">&quot;port&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> className<span class="token operator">=</span><span class="token string">&quot;form-control&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>input name<span class="token operator">=</span><span class="token string">&quot;db&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> className<span class="token operator">=</span><span class="token string">&quot;form-control&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>p className<span class="token operator">=</span><span class="token string">&quot;actions&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>img className<span class="token operator">=</span><span class="token string">&quot;loader&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;/img/ajax-loader.gif&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btnConnect&quot;</span> className<span class="token operator">=</span><span class="token string">&quot;btn btn-default btn-primary&quot;</span><span class="token operator">&gt;</span>Change Connection<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>p className<span class="token operator">=</span><span class="token string">&quot;bg-success&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>successMessage<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>p className<span class="token operator">=</span><span class="token string">&quot;bg-danger error-summary&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="ss-parseresponsestatus" tabindex="-1">$.ss.parseResponseStatus <a class="header-anchor" href="#ss-parseresponsestatus" aria-hidden="true">#</a></h3><p>Lets you easily parse the raw text of a Ajax Error Response into a responseStatus JavaScript object, example used in Redis React&#39;s <a href="https://github.com/ServiceStackApps/RedisReact/blob/15dfc5cfea49d0502ec8c090b5b180d29051ea3a/src/RedisReact/RedisReact/js/components/console.jsx#L103" target="_blank" rel="noopener noreferrer">Console Component</a>:</p><div class="language-js"><pre><code><span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">jq<span class="token punctuation">,</span> jqStatus<span class="token punctuation">,</span> statusDesc</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> status <span class="token operator">=</span> $<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">parseResponseStatus</span><span class="token punctuation">(</span>jq<span class="token punctuation">.</span>responseText<span class="token punctuation">,</span> statusDesc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Actions<span class="token punctuation">.</span><span class="token function">logEntry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        cmd<span class="token operator">:</span> cmd<span class="token punctuation">,</span>
        result<span class="token operator">:</span> status<span class="token punctuation">.</span>message<span class="token punctuation">,</span>
        stackTrace<span class="token operator">:</span> status<span class="token punctuation">.</span>stackTrace<span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">&#39;err&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ss-bindall" tabindex="-1">$.ss.bindAll <a class="header-anchor" href="#ss-bindall" aria-hidden="true">#</a></h3><p>The <code>bindAll</code> API is a simple helper for creating lightweight JavaScript objects by binding <code>this</code> for all functions of an object literal to the object instance, e.g:</p><div class="language-js"><pre><code><span class="token keyword">var</span> Greeting <span class="token operator">=</span> $<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">bindAll</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;World&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">sayHello</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> fn <span class="token operator">=</span> Greeting<span class="token punctuation">.</span>sayHello<span class="token punctuation">;</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello, World</span>
</code></pre></div><h2 id="typescript-definition" tabindex="-1">TypeScript Definition <a class="header-anchor" href="#typescript-definition" aria-hidden="true">#</a></h2><p>The TypeScript definitions for <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/js/ss-utils.d.ts" target="_blank" rel="noopener noreferrer">ss-utils.d.ts</a> is an embedded resource inside <strong>ServiceStack.dll</strong> which is available from <code>/js/ss-utils.d.ts</code>, e.g <a href="https://servicestack.net/js/ss-utils.d.ts" target="_blank" rel="noopener noreferrer">servicestack.net/js/ss-utils.d.ts</a>.</p><h2 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-hidden="true">#</a></h2><div class="language-javascript"><pre><code>$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span>onSubmitDisable <span class="token operator">=</span> <span class="token string">&quot;[type=submit]&quot;</span>  <span class="token comment">// Disable elements during form submission</span>

$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span>validation <span class="token operator">=</span> <span class="token punctuation">{</span>                <span class="token comment">// Customize Validation</span>
    overrideMessages<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>       <span class="token comment">// Whether to override Server Error Messages</span>
    messages<span class="token operator">:</span> <span class="token punctuation">{</span>                    <span class="token comment">// List of Server ErrorCodes to override</span>
      NotEmpty<span class="token operator">:</span> <span class="token string">&quot;Required&quot;</span><span class="token punctuation">,</span>        <span class="token comment">// Override \`NotEmpty\` ErrorCode with \`Required\`</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">serializeMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment">// Return the FORM&#39;s INPUT values as a map</span>
$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">setFieldError</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>msg<span class="token punctuation">)</span>       <span class="token comment">// Set the error for field \`name\` with \`msg\`</span>
$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">applyErrors</span><span class="token punctuation">(</span>status<span class="token punctuation">,</span>options<span class="token punctuation">)</span>   <span class="token comment">// Apply errors in ResponseStatus to Element</span>
$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">clearErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                 <span class="token comment">// Clear all errors applied to Element</span>
$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">clearAdjacentError</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment">// Clear adjacent errors in help-block/inline</span>
$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span>parseResponseStatus           <span class="token comment">// Parse raw JSON Error ResponseStatus</span>

$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">bindForm</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>             <span class="token comment">// Bind and Ajaxify the HTML Form</span>
$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">ajaxSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                  <span class="token comment">// Submit a HTML Form via Ajax</span>
$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">applyValues</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span>              <span class="token comment">// Databind values in \`map\` to HTML Element</span>

$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">bindHandlers</span><span class="token punctuation">(</span>handlers<span class="token punctuation">)</span>        <span class="token comment">// Register global declarative JS handlers</span>
$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span>listenOn <span class="token operator">=</span> <span class="token string">&quot;click ...&quot;</span>        <span class="token comment">// Specify DOM events for declarative events</span>
$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span>bindAll                       <span class="token comment">// Bind all object literal functions to itself</span>

$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">setActiveLinks</span><span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token comment">// Add \`active\` class to links with current url</span>

$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">todate</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>                <span class="token comment">// Convert String to Date</span>
$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">todfmt</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>                <span class="token comment">// Convert String to \`YYYY-MM-DD\` Date Format</span>
$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">dfmt</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span>                    <span class="token comment">// Convert Date to \`YYYY-MM-DD\` Date Format</span>
$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">dfmthm</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span>                  <span class="token comment">// Convert Date to \`YYYY-MM-DD HH:MM:SS PM\`</span>
$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">tfmt12</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span>                  <span class="token comment">// Convert Date to \`HH:MM:SS PM\`</span>

$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">splitOnFirst</span><span class="token punctuation">(</span>string<span class="token punctuation">,</span>needle<span class="token punctuation">)</span>   <span class="token comment">// Split on first occurrence of needle</span>
$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">splitOnLast</span><span class="token punctuation">(</span>string<span class="token punctuation">,</span>needle<span class="token punctuation">)</span>    <span class="token comment">// Split on last occurrence of needle</span>

$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comment">// Get currently selected text (if any)</span>

$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">queryString</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>              <span class="token comment">// Return a map of key value pairs</span>

$<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">handleServerEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment">// Handle ServiceStack ServerEvents</span>
$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span>eventReceivers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>           <span class="token comment">// Specify global receivers for ServerEvents</span>
</code></pre></div><h4 id="combinepaths-and-createurl" tabindex="-1">combinePaths and createUrl <a class="header-anchor" href="#combinepaths-and-createurl" aria-hidden="true">#</a></h4><p>The <code>combinePaths</code> and <code>createUrl</code> API&#39;s help with constructing urls, e.g:</p><div class="language-javascript"><pre><code>$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">combinePaths</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;to&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;..&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;join&quot;</span><span class="token punctuation">)</span>   <span class="token comment">//= path/join</span>
$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">createPath</span><span class="token punctuation">(</span><span class="token string">&quot;path/{foo}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>foo<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>bar<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//= path/1</span>

$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">createUrl</span><span class="token punctuation">(</span><span class="token string">&quot;http://host/path/{foo}&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>foo<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>bar<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//= http://host/path/1?bar=2</span>
</code></pre></div><h4 id="normalize-and-normalizekey" tabindex="-1">normalize and normalizeKey <a class="header-anchor" href="#normalize-and-normalizekey" aria-hidden="true">#</a></h4><p><code>normalizeKey</code> and <code>normalize</code> APIs helps with normalizing JSON responses with different naming conventions by converting each property into lowercase with any <code>_</code> separators removed - <code>normalizeKey()</code> converts a single string whilst <code>normalize()</code> converts an entire object graph, e.g:</p><div class="language-javascript"><pre><code>$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">normalizeKey</span><span class="token punctuation">(</span><span class="token string">&quot;THE_KEY&quot;</span><span class="token punctuation">)</span> <span class="token comment">//= thekey</span>

<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>
    $<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token constant">THE_KEY</span><span class="token operator">:</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span>Foo<span class="token operator">:</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span>bar<span class="token operator">:</span><span class="token punctuation">{</span><span class="token constant">A</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>   <span class="token comment">//= {&quot;thekey&quot;:&quot;key&quot;,&quot;foo&quot;:&quot;foo&quot;,&quot;bar&quot;:{&quot;A&quot;:1}}</span>

<span class="token keyword">const</span> deep <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>
    $<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token constant">THE_KEY</span><span class="token operator">:</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span>Foo<span class="token operator">:</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span>bar<span class="token operator">:</span><span class="token punctuation">{</span><span class="token constant">A</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> deep<span class="token punctuation">)</span> 
<span class="token punctuation">)</span>   <span class="token comment">//= {&quot;thekey&quot;:&quot;key&quot;,&quot;foo&quot;:&quot;foo&quot;,&quot;bar&quot;:{&quot;a&quot;:1}}</span>
</code></pre></div><h4 id="postjson" tabindex="-1">postJSON <a class="header-anchor" href="#postjson" aria-hidden="true">#</a></h4><p><code>postJSON</code> is jQuery&#39;s missing equivalent to <code>$.getJSON</code>, but for POST&#39;s, eg:</p><div class="language-javascript"><pre><code>$<span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">postJSON</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>data<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token operator">...</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>`,89),e=[o];function c(u,l,i,r,k,d){return a(),s("div",null,e)}var m=n(p,[["render",c]]);export{h as __pageData,m as default};
