<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript Utils | Documentation</title>
    <meta name="description" content="ServiceStack Docs">
    <link rel="stylesheet" href="/assets/style.b5bfd3ef.css">
    <link rel="modulepreload" href="/assets/Home.d1536508.js">
    <link rel="modulepreload" href="/assets/app.14440598.js">
    <link rel="modulepreload" href="/assets/js-utils.md.2469c22b.lean.js">
    <link rel="modulepreload" href="/assets/app.14440598.js">
    <script src="custom.js"></script>
    <meta name="twitter:title" content="JavaScript Utils | Documentation">
    <meta property="og:title" content="JavaScript Utils | Documentation">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Documentation, back to home" data-v-675d8756 data-v-4a583abe><!----> Documentation</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://servicestack.net/whatsnew" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>What&#39;s New <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/templates-overview" data-v-b8818f8c>Project Templates <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/autoquery" data-v-b8818f8c>AutoQuery <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auth" data-v-b8818f8c>Security <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/grpc" data-v-b8818f8c>gRPC <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/ServiceStack/vitepress-docs" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://servicestack.net/whatsnew" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>What&#39;s New <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/templates-overview" data-v-b8818f8c>Project Templates <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/autoquery" data-v-b8818f8c>AutoQuery <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auth" data-v-b8818f8c>Security <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/grpc" data-v-b8818f8c>gRPC <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/ServiceStack/vitepress-docs" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Overview</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/why-servicestack">Why ServiceStack</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/architecture-overview">Architecture Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicify">Servicify existing Systems</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/explore-servicestack">Explore ServiceStack</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Releases</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/v5.12.html">Latest Release Notes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/release-notes-history">Release Notes History</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/myget">Pre-release MyGet Packages</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Getting Started</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/create-your-first-webservice">Create your first WebService</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/your-first-webservice-explained">Your first WebService explained</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/api-design">Service API Design</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/service-return-types">Service Return Types</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/design-rest-services">Design RESTful Services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/design-message-based-apis">Design Message-based APIs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/modular-startup">Modular Startup</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/navigation">Unified Navigation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dotnet-tool">dotnet tool - Win/Mac/Linux Utility Belt</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-windows-desktop">app tool - .NET Core Windows Desktop</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/mix-tool">mix tool - Mix n&#39; Match .NET Apps</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/post-command">Post Command - Inspect/Call HTTP APIs</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">GitHub Action Templates</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/github-action-templates">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/do-github-action-mix-deployment">GitHub GHR &amp; Digital Ocean</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/mix-github-actions-aws-ecs">AWS ECR &amp; ECS with NGINX</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Background Concepts</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/what-is-a-message-based-web-service">What is a Message-based Web Service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/advantages-of-message-based-web-services">Advantages of message-based Services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/why-remote-services-use-dtos">Why Remote Services should use DTOs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/service-complexity-and-dto-roles">Complexity, Services and Role of DTOs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/api-first-development">API First Development</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">ServiceStack Studio</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/studio">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/studio-users">Studio - User Management</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/studio-autoquery">Studio - AutoQuery UI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/studio-validation-rules">Studio - DB Validation Rules</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Reference</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/host-configuration">AppHost</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ioc">IOC</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/routing">Routing</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/order-of-operations">Order of Operations</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/customize-http-responses">Customize HTTP Responses</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/customize-json-responses">Customize JSON Responses</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/appsettings">Configuration &amp; AppSettings</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/metadata-page">Metadata Pages</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/svg">SVG Support</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/endpoints">REST, SOAP &amp; default endpoints</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/soap-support">SOAP support</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Error Handling</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/error-handling">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/validation">Validation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/world-validation">World Validation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/declarative-validation">Declarative Validation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/debugging">Debugging</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Server Events</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/server-events">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csharp-server-events-client">C# Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/typescript-server-events-client">TypeScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-server-events-client">Java Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/javascript-server-events-client">JavaScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/server-events-grpc">gRPC Clients</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/redis-server-events">Redis Server Events</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Service Gateway</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/service-gateway">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/service-discovery">Service Discovery</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Clients</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/clients-overview">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csharp-client">C#/.NET Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/typescript-add-servicestack-reference#typescript-serviceclient">TypeScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/javascript-client">JavaScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-add-servicestack-reference#jsonserviceclient-api">Java Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/swift-add-servicestack-reference#swift-client-usage">Swift Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dart-add-servicestack-reference#example-usage">Dart Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/silverlight-client">Silverlight Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/messaging#mq-client-architecture">MQ Clients</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Jupyter Notebooks</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-python">Python Jupyter Notebooks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-csharp">C# Jupyter Notebooks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-fsharp">F# Jupyter Notebooks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-reporting">Reports and Testing</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Add ServiceStack Reference</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/add-servicestack-reference">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csharp-add-servicestack-reference">C# Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/typescript-add-servicestack-reference">TypeScript Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/python-add-servicestack-reference">Python Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/swift-add-servicestack-reference">Swift Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-add-servicestack-reference">Java Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/kotlin-add-servicestack-reference">Kotlin Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dart-add-servicestack-reference">Dart Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/fsharp-add-servicestack-reference">F# Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vbnet-add-servicestack-reference">VB.NET Add Reference</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">MQ Messaging</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/messaging">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/background-mq">Background MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/rabbit-mq">Rabbit MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/redis-mq">Redis MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/amazon-sqs-mq">Amazon SQS MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/azure-service-bus-mq">Azure Service Bus MQ</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Encrypted Messaging</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/encrypted-messaging">Overview</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Advanced</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/logging">Logging</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/request-and-response-filters">Request &amp; Response filters</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/filter-attributes">Filter attributes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/access-http-specific-features-in-services">Access HTTP features in services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/serialization-deserialization">Serialization &amp; Deserialization</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/auto-mapping">Auto-Mapping</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/auto-batched-requests">Auto Batched Requests</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/virtual-file-system">Virtual File System</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/multitenancy">Multitenancy</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/physical-project-structure">Physical Project Structure</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/modularizing-services">Modularizing Services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/built-in-profiling">Built-in profiling</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/hot-reloading">Hot Reloading</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/html-css-and-javascript-minification">HTML, CSS and JS Minifiers</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/mvc-integration">MVC Integration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicestack-integration">ServiceStack Integration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicestack-side-by-side-with-another-web-framework">Run side-by-side with another fx</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/versioning">Versioning</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/config-api">Config API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/concurrency-model">Concurrency Model</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/form-hijacking-prevention">Form Hijacking Prevention</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/create-webservice-from-scratch">Create a WebService from scratch</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Formats</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/formats">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/json-format">JSON Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jsv-format">JSV Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csv-format">CSV Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/messagepack-format">MessagePack Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/protobuf-format">ProtoBuf Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/wire-format">Wire Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/html5reportformat">HTML5 Report Format</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">.NET Core</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-redis">.NET Core Redis</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-localhost-cert">Configure localhost dev cert</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/deploy-netcore-to-amazon-linux-2-ami">Deploy to Amazon Linux 2 AMI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/deploy-netcore-docker-aws-ecs">Deploy .NET Core Apps to AWS ECS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-deploy-rsync">Deploy .NET Core Apps using rsync</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Utils</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/http-utils">HTTP Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dump-utils">Dump Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/reflection-utils">Reflection Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/js-utils">JS Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/adhoc-utils">Adhoc Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/simple-ioc">Simple IOC</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Caching</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/caching">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/http-caching">HTTP Caching</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cacheresponse-attribute">CacheResponse Attribute</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cache-aware-clients">Cache Aware Clients</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/compression">Compression</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Plugins</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/plugins">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/openapi">Open API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/swagger-api">Swagger API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/admin-users">User Admin Feature</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/corsfeature">CORS Feature</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/proxy-feature">Proxy Feature</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/request-logger">Request logger</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/lisp-tcp-repl-server">Lisp TCP REPL Server</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/postman">Postman</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/sitemaps">Sitemaps</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cancellable-requests">Cancellable Requests</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/webhooks">Webhooks</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">View Engines</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-razor">ServiceStack Razor</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/razor-ui-controls">Razor UI Controls</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/razor-notes">Razor Notes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/view-and-template-selection">View and Template Selection</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/compiled-razor-views">Compiled Razor Views</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/razor-views-vs-content-pages">Razor Views vs Content Pages</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">JavaScript Web Apps</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-components">Vue Components</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicestack-client-umd">Embedded UMD @servicestack/client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ss-utils-js">ss-utils.js JavaScript Client Library</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Hosts</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iis">IIS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/self-hosting">Self-hosting</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Tests</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/testing">Testing</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/howto-write-unit-integration-tests">HowTo write unit &amp; integration tests</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Java</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/java">Java ServiceStack Resources</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-add-servicestack-reference#servicestack-idea-android-studio-plugin">Android Studio &amp; IntelliJ</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Other Languages</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/swift">Swift</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/fsharp">F#</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vbnet">VB.NET</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Deployment</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/deploy-multiple-sites-to-aws">Deploy Multiple Sites to single AWS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/simple-deployments-to-aws">Simple Deployments with WebDeploy</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/advanced-deployment-octopus-deploy">Deployments with OctopusDeploy</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Amazon Web Services</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/aws">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/aws-pocodynamo">PocoDynamo</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/aws-getting-started">Getting Started with AWS</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Use Cases</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/azure">Azure</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Install 3rd Party Products</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/install-redis-windows">Redis on Windows</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/install-rabbitmq-windows">RabbitMQ on Windows</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ssl-redis-azure">Redis SSL on Azure</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Performance</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/real-world-performance">Real world performance</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Future</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/roadmap">Roadmap</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--[--><!----><!--]--><!--[--><h1>JavaScript Utils</h1><!--]--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><p>The ServiceStack.Text JSON Serializers are only designed for serializing Typed POCOs, but you can still use it to <a href="https://github.com/ServiceStack/ServiceStack.Text#supports-dynamic-json" target="_blank" rel="noopener noreferrer">deserialize dynamic JSON</a> but you&#39;d need to specify the Type to deserialize into on the call-site otherwise the value would be returned as a string.</p><p>A more flexible approach to read any arbitrary JavaScript or JSON data structures is to use the high-performance and memory efficient JSON utils in <a href="https://sharpscript.net" target="_blank" rel="noopener noreferrer">#Script</a> implementation of JavaScript.</p><h3 id="install" tabindex="-1">Install <a class="header-anchor" href="#install" aria-hidden="true">#</a></h3><p>The <code>#Script</code> JSON and JS Utils are available from the <a href="https://www.nuget.org/packages/ServiceStack.Common" target="_blank" rel="noopener noreferrer">ServiceStack.Common</a> NuGet package:</p><div class="package-reference-box"><div class="flex"><div class="flex-grow pre-container" style="background:#002440;"><pre class="sh copy m-0 p-0 pl-2 py-1 align-middle" style="background:#002440;"><p><code>&lt;PackageReference Include=&quot;ServiceStack.Common&quot; Version=&quot;5.*&quot; /&gt;</code></p>
</pre></div><div class="flex-shrink"><i class="svg-copy inline-block w-8 h-full" title="copy" onclick="copy(this)"></i><b></b></div></div><div class="copy-text w-full text-right h-6"></div></div><p>Which will enable access to the JSON API which preserves the Type which can be used to parse JavaScript or JSON literals:</p><div class="language-csharp"><pre><code>JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span>       <span class="token comment">//= int 1 </span>
JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;1.1&quot;</span><span class="token punctuation">)</span>     <span class="token comment">//= double 1.1</span>
JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;&#39;a&#39;&quot;</span><span class="token punctuation">)</span>     <span class="token comment">//= string &quot;a&quot;</span>
JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;{a:1}&quot;</span><span class="token punctuation">)</span>   <span class="token comment">//= new Dictionary&lt;string, object&gt; { {&quot;a&quot;, 1 } }</span>
JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;[{a:1}]&quot;</span><span class="token punctuation">)</span> <span class="token comment">//= new List&lt;object&gt; { new Dictionary&lt;string, object&gt; { { &quot;a&quot;, 1 } } }</span>
</code></pre></div><p>It can be used to parse dynamic JSON and any primitive JavaScript data type. The inverse API of <code>JSON.stringify()</code> is also available.</p><h3 id="eval" tabindex="-1">Eval <a class="header-anchor" href="#eval" aria-hidden="true">#</a></h3><p>Eval is useful if you want to execute custom JavaScript functions, or if you want to have a text DSL or scripting language for executing custom logic or business rules you want to be able to change without having to compile or redeploy your App. It uses <a href="https://sharpscript.net/docs/sandbox" target="_blank" rel="noopener noreferrer">#Script Sandbox</a> which lets you evaluate the script within a custom scope that defines what functions and arguments it has access to, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomMethods</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ScriptMethods</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">reverse</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> text<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">string</span></span><span class="token punctuation">(</span>text<span class="token punctuation">.</span><span class="token function">Reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">var</span></span> scope <span class="token operator">=</span> JS<span class="token punctuation">.</span><span class="token function">CreateScope</span><span class="token punctuation">(</span>
         <span class="token named-parameter punctuation">args</span><span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> <span class="token punctuation">{</span> <span class="token string">&quot;arg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token named-parameter punctuation">functions</span><span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">CustomMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

JS<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;arg&quot;</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span>                                        <span class="token comment">//= &quot;value&quot;</span>
JS<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;reverse(arg)&quot;</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span>                               <span class="token comment">//= &quot;eulav&quot;</span>
JS<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;3.itemsOf(arg.reverse().padRight(8, &#39;_&#39;))&quot;</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span> <span class="token comment">//= [&quot;eulav___&quot;, &quot;eulav___&quot;, &quot;eulav___&quot;]</span>

<span class="token comment">//= { a: [&quot;eulav___&quot;, &quot;eulav___&quot;, &quot;eulav___&quot;] }</span>
JS<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;{a: 3.itemsOf(arg.reverse().padRight(8, &#39;_&#39;)) }&quot;</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span>
</code></pre></div><h4 id="evaluating-dsl-s-within-a-custom-context" tabindex="-1">Evaluating DSL&#39;s within a custom Context <a class="header-anchor" href="#evaluating-dsl-s-within-a-custom-context" aria-hidden="true">#</a></h4><p><code>#Script</code> is useful for creating a late-bound sandboxed environment pre-configured with all functionality you want to enable access to without forcing implementation coupling in your project dependencies, e.g. you can enable binary serialization that all your project dependencies can use with:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> scope <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">CreateScope</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token string">&quot;target&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> person
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token punctuation">(</span>ReadOnlyMemory<span class="token operator">&lt;</span><span class="token keyword">byte</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>JS<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;serialize(target)&quot;</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Where the <code>serialize()</code> method only needs to be registered once in the host project that creates the context that all your DSL&#39;s are executed within, the implementations of which can later be substituted without any changes to existing scripts or needing to change any package/Assembly references.</p><h3 id="javascript-expressions" tabindex="-1">JavaScript Expressions <a class="header-anchor" href="#javascript-expressions" aria-hidden="true">#</a></h3><p>The JavaScript Expressions support in ServiceStack follows the <a href="https://esprima.readthedocs.io/en/latest/syntax-tree-format.html" target="_blank" rel="noopener noreferrer">syntax tree used by Esprima</a>, JavaScript&#39;s leading lexical language parser for JavaScript, but adapted to suit C# conventions using PascalCase properties and each AST Type prefixed with <code>Js*</code> to avoid naming collisions with C#&#39;s LINQ Expression Types which often has the same name.</p><p>So Esprima&#39;s <a href="https://esprima.readthedocs.io/en/latest/syntax-tree-format.html#member-expression" target="_blank" rel="noopener noreferrer">MemberExpression</a> maps to <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Common/Script/JsMemberExpression.cs" target="_blank" rel="noopener noreferrer">JsMemberExpression</a> in Templates.</p><p>In addition to adopting Esprima&#39;s AST data structures, #Script can also <a href="https://sharpscript.net/docs/expression-viewer#expression=1%20-%202%20%2B%203%20*%204%20%2F%205" target="_blank" rel="noopener noreferrer">emit the same serialized Syntax Tree</a> that Esprima generates from any AST Expression, e.g:</p><div class="language-csharp"><pre><code><span class="token comment">// Create AST from JS Expression</span>
<span class="token class-name">JsToken</span> expr <span class="token operator">=</span> JS<span class="token punctuation">.</span><span class="token function">expression</span><span class="token punctuation">(</span><span class="token string">&quot;1 - 2 + 3 * 4 / 5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Convert to Object Dictionary in Esprima&#39;s Syntax Tree Format</span>
<span class="token class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> esprimaAst <span class="token operator">=</span> expr<span class="token punctuation">.</span><span class="token function">ToJsAst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Serialize as Indented JSON</span>
esprimaAst<span class="token punctuation">.</span><span class="token function">ToJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">IndentJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Which will display the same output as seen in the new <a href="https://sharpscript.net/docs/expression-viewer#expression=1%20-%202%20%2B%203%20*%204%20%2F%205" target="_blank" rel="noopener noreferrer">JS Expression Viewer</a>:</p><p><a href="https://sharpscript.net/docs/expression-viewer#expression=1%20-%202%20%2B%203%20*%204%20%2F%205" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/sharpscript/syntax/expression-viewer.png" alt=""></a></p><p>From the AST output we can visualize how the different operator precedence is applied to an Expression. Expression viewer also lets us explore and evaluate different JavaScript Expressions with custom arguments:</p><p><a href="https://sharpscript.net/docs/expression-viewer#expression=1%20%3C%202%20%26%26%20(t%20%7C%7C%203%20%3E%204)%20%26%26%20f&amp;t=true&amp;f=false" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/sharpscript/syntax/logical-expression.png" alt=""></a></p><p>An <a href="https://brendaneich.com/2012/04/the-infernal-semicolon/" target="_blank" rel="noopener noreferrer">abusage Brendan Eich regrets</a> that is enforced is limiting the <code>||</code> and <code>&amp;&amp;</code> binary operators to boolean expressions, which themselves always evaluate to a boolean value.</p><p>Instead to replicate <code>||</code> coalescing behavior on falsy values you can use C#&#39;s <code>??</code> null coalescing operator as seen in:</p><p><a href="https://sharpscript.net/docs/expression-viewer#expression=a%20%3E%20(c%20%3F%3F%20b)%20%3F%20a%20%3A%20b&amp;a=1&amp;b=2" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/sharpscript/syntax/ternary-expression.png" alt=""></a></p><h4 id="lambda-expressions" tabindex="-1">Lambda Expressions <a class="header-anchor" href="#lambda-expressions" aria-hidden="true">#</a></h4><p>You can use lambda expressions in all functional filters:</p><p><a href="https://sharpscript.net/docs/expression-viewer#expression=map(range(1%2Ccount)%2C%20x%20%3D%3E%20x%20*%20x)&amp;count=5" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/sharpscript/syntax/lambda-expression.png" alt=""></a></p><p>Using either normal lambda expression syntax:</p><div><div class="language-hbs"><pre v-pre><code><span class="token delimiter punctuation">{{</span> <span class="token variable">customers</span> <span class="token punctuation">|</span><span class="token punctuation">&gt;</span> <span class="token variable">zip</span><span class="token punctuation">(</span><span class="token variable">x</span> <span class="token punctuation">=</span><span class="token punctuation">&gt;</span> <span class="token variable">x</span><span class="token punctuation">.</span><span class="token variable">Orders</span><span class="token punctuation">)</span>
   <span class="token punctuation">|</span><span class="token punctuation">&gt;</span> <span class="token variable">let</span><span class="token punctuation">(</span><span class="token variable">x</span> <span class="token punctuation">=</span><span class="token punctuation">&gt;</span> <span class="token punctuation">{</span> <span class="token variable">c</span><span class="token punctuation">:</span> <span class="token variable">x</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">o</span><span class="token punctuation">:</span> <span class="token variable">x</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token punctuation">|</span><span class="token punctuation">&gt;</span> <span class="token variable">where</span><span class="token punctuation">(</span><span class="token variable">_</span> <span class="token punctuation">=</span><span class="token punctuation">&gt;</span> <span class="token variable">o</span><span class="token punctuation">.</span><span class="token variable">Total</span> <span class="token punctuation">&lt;</span> <span class="token number">500</span><span class="token punctuation">)</span>
   <span class="token punctuation">|</span><span class="token punctuation">&gt;</span> <span class="token variable">map</span><span class="token punctuation">(</span><span class="token variable">_</span> <span class="token punctuation">=</span><span class="token punctuation">&gt;</span> <span class="token variable">o</span><span class="token punctuation">)</span>
   <span class="token punctuation">|</span><span class="token punctuation">&gt;</span> <span class="token variable">htmlDump</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div></div><p>Or shorthand syntax for single argument lambda expressions which can instead use <code>=&gt;</code> without brackets or named arguments where it will be implicitly assigned to the <code>it</code> binding:</p><div><div class="language-hbs"><pre v-pre><code><span class="token delimiter punctuation">{{</span> <span class="token variable">customers</span> <span class="token punctuation">|</span><span class="token punctuation">&gt;</span> <span class="token variable">zip</span> <span class="token punctuation">=</span><span class="token punctuation">&gt;</span> <span class="token variable">it</span><span class="token punctuation">.</span><span class="token variable">Orders</span>
   <span class="token punctuation">|</span><span class="token punctuation">&gt;</span> <span class="token variable">let</span> <span class="token punctuation">=</span><span class="token punctuation">&gt;</span> <span class="token punctuation">{</span> <span class="token variable">c</span><span class="token punctuation">:</span> <span class="token variable">it</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">o</span><span class="token punctuation">:</span> <span class="token variable">it</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
   <span class="token punctuation">|</span><span class="token punctuation">&gt;</span> <span class="token variable">where</span> <span class="token punctuation">=</span><span class="token punctuation">&gt;</span> <span class="token variable">o</span><span class="token punctuation">.</span><span class="token variable">Total</span> <span class="token punctuation">&lt;</span> <span class="token number">500</span>
   <span class="token punctuation">|</span><span class="token punctuation">&gt;</span> <span class="token variable">map</span> <span class="token punctuation">=</span><span class="token punctuation">&gt;</span> <span class="token variable">o</span>
   <span class="token punctuation">|</span><span class="token punctuation">&gt;</span> <span class="token variable">htmlDump</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div></div><p>As it&#39;s results in more wrist-friendly and readable code, <a href="https://sharpscript.net/linq/projection-operators#linq15-selectmany---compound-from-2" target="_blank" rel="noopener noreferrer">most LINQ Examples</a> use the shorthand lambda expression syntax above.</p><h4 id="shorthand-properties" tabindex="-1">Shorthand properties <a class="header-anchor" href="#shorthand-properties" aria-hidden="true">#</a></h4><p>Other language enhancements include support for <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer#Syntax" target="_blank" rel="noopener noreferrer">JavaScript&#39;s shorthand property names</a>:</p><div><div class="language-hbs"><pre v-pre><code><span class="token delimiter punctuation">{{</span> <span class="token punctuation">{</span><span class="token variable">name</span><span class="token punctuation">,</span><span class="token variable">age</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p>But like C# also lets you use member property names:</p><div class="language-hbs"><pre v-pre><code><span class="token delimiter punctuation">{{</span> <span class="token variable">people</span> <span class="token punctuation">|</span><span class="token punctuation">&gt;</span> <span class="token variable">let</span> <span class="token punctuation">=</span><span class="token punctuation">&gt;</span> <span class="token punctuation">{</span> <span class="token variable">it</span><span class="token punctuation">.</span><span class="token variable">Name</span><span class="token punctuation">,</span> <span class="token variable">it</span><span class="token punctuation">.</span><span class="token variable">Age</span> <span class="token punctuation">}</span> <span class="token punctuation">|</span><span class="token punctuation">&gt;</span> <span class="token variable">select</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token variable">Name</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token variable">Age</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div></div><h4 id="template-literals" tabindex="-1">Template Literals <a class="header-anchor" href="#template-literals" aria-hidden="true">#</a></h4><p>Many of ES6/7 features are also implemented like Template Literals:</p><p><a href="https://sharpscript.net/docs/expression-viewer#expression=%60Hello%2C%20%24%7Bname%7D!%20%24%7Ba%20%3F%20pow(1%2B2%2Ca)%20%3A%20&#39;&#39;%7D%60&amp;name=&#39;World&#39;&amp;a=3" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/sharpscript/syntax/template-literals.png" alt=""></a></p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Backtick quoted strings also adopt the same <a href="https://sharpscript.net/docs/syntax#template-literals" target="_blank" rel="noopener noreferrer">escaping behavior of JavaScript strings</a> whilst all other quoted strings preserve unescaped string values</p></div><h4 id="spread-operators" tabindex="-1">Spread Operators <a class="header-anchor" href="#spread-operators" aria-hidden="true">#</a></h4><p>Other advanced ES6/7 features supported include the object spread, array spread and argument spread operators:</p><p><a href="https://sharpscript.net/docs/expression-viewer#expression=keys(%7B%20...a%2C%20c%3A3%2C%20...%7Bd%3A%204%7D%20%7D)&amp;a=%7B%20b%3A%202%20%7D" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/sharpscript/syntax/object-spread.png" alt=""></a></p><p><a href="https://sharpscript.net/docs/expression-viewer#expression=%5B1%2C%20...%5Brange(2%2Cpow(...%5B3%2Ce%5D))%5D%2C%201%5D&amp;e=2" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/sharpscript/syntax/array-spread.png" alt=""></a></p><h4 id="bitwise-operators" tabindex="-1">Bitwise Operators <a class="header-anchor" href="#bitwise-operators" aria-hidden="true">#</a></h4><p>All JavaScript Bitwise operators are also supported:</p><p><a href="https://sharpscript.net/docs/expression-viewer#expression=%5B3%251%2C%203%261%2C%203%7C1%2C%203%5E1%2C%203%3C%3C1%2C%203%20%3E%3E%201%2C%20~1%5D&amp;e=2" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/sharpscript/syntax/bitwise-operators.png" alt=""></a></p><p>Essentially Templates supports most JavaScript Expressions, not statements which are covered with <a href="https://sharpscript.net/docs/blocks" target="_blank" rel="noopener noreferrer">Templates Blocks support</a> or mutations using Assignment Expressions and Operators. All assignments still need to be explicitly performed through an <a href="https://sharpscript.net/docs/default-scripts#assignment" target="_blank" rel="noopener noreferrer">Assignment Filter</a>.</p><h4 id="evaluating-javascript-expressions" tabindex="-1">Evaluating JavaScript Expressions <a class="header-anchor" href="#evaluating-javascript-expressions" aria-hidden="true">#</a></h4><p>The built-in JavaScript expressions support is also useful outside of dynamic pages where they can be evaluated with <code>JS.eval()</code>:</p><div class="language-csharp"><pre><code>JS<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;pow(2,2) + pow(4,2)&quot;</span><span class="token punctuation">)</span> <span class="token comment">//= 20</span>
</code></pre></div><p>The difference over JavaScript&#39;s eval being that methods are calling <a href="https://sharpscript.net/docs/filters-reference" target="_blank" rel="noopener noreferrer">C# script methods</a> in a sandboxed context.</p><p>By default expressions are executed in an empty scope, but can also be executed within a custom scope which can be used to define the arguments expressions are evaluated with:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> scope <span class="token operator">=</span> JS<span class="token punctuation">.</span><span class="token function">CreateScope</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">args</span><span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
JS<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;pow(a,2) + pow(b,2)&quot;</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span> <span class="token comment">//= 20</span>
</code></pre></div><p>Custom methods can also be introduced into the scope which can override existing filters by using the same name and args count, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">class</span> <span class="token class-name">MyMethods</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ScriptMethods</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">double</span></span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">double</span></span> arg1<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">double</span></span> arg2<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> arg1 <span class="token operator">/</span> arg2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name"><span class="token keyword">var</span></span> scope <span class="token operator">=</span> JS<span class="token punctuation">.</span><span class="token function">CreateScope</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">functions</span><span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MyMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
JS<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;pow(2,2) + pow(4,2)&quot;</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//= 3</span>
</code></pre></div><p>An alternative to injecting arguments by scope is to wrap the expression in a lambda expression, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> expr <span class="token operator">=</span> <span class="token punctuation">(</span>JsArrowFunctionExpression<span class="token punctuation">)</span>JS<span class="token punctuation">.</span><span class="token function">expression</span><span class="token punctuation">(</span><span class="token string">&quot;(a,b) =&gt; pow(a,2) + pow(b,2)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Which can then be invoked with positional arguments by calling <code>Invoke()</code>, e.g:</p><div class="language-csharp"><pre><code>expr<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>        <span class="token comment">//= 20</span>
expr<span class="token punctuation">.</span><span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span> <span class="token comment">//= 3</span>
</code></pre></div><h4 id="parsing-js-expressions" tabindex="-1">Parsing JS Expressions <a class="header-anchor" href="#parsing-js-expressions" aria-hidden="true">#</a></h4><p>Evaluating JS expressions with <code>JS.eval()</code> is a wrapper around parsing the JS expression into an AST tree then evaluating it, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> expr <span class="token operator">=</span> JS<span class="token punctuation">.</span><span class="token function">expression</span><span class="token punctuation">(</span><span class="token string">&quot;pow(2,2) + pow(4,2)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
expr<span class="token punctuation">.</span><span class="token function">Evaluate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//= 20</span>
</code></pre></div><p>When needing to evaluate the same expression multiple times you can cache and execute the AST to save the cost of parsing the expression again.</p><h4 id="dsl-example" tabindex="-1">DSL example <a class="header-anchor" href="#dsl-example" aria-hidden="true">#</a></h4><p>If implementing a DSL containing multiple expressions as done in many of the <a href="https://sharpscript.net/docs/blocks" target="_blank" rel="noopener noreferrer">Block argument expressions</a> you can instead use the <code>ParseJsExpression()</code> extension method to return a literal Span advanced to past the end of the expression with the parsed AST token returned in an <code>out</code> parameter.</p><p>This is what the Each block implementation uses to parse its argument expression which can contain a number of LINQ-like expressions:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> literal <span class="token operator">=</span> <span class="token string">&quot;where c.Age == 27 take 1 + 2&quot;</span><span class="token punctuation">.</span><span class="token function">AsSpan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>literal<span class="token punctuation">.</span><span class="token function">StartsWith</span><span class="token punctuation">(</span><span class="token string">&quot;where &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    literal <span class="token operator">=</span> literal<span class="token punctuation">.</span><span class="token function">Advance</span><span class="token punctuation">(</span><span class="token string">&quot;where &quot;</span><span class="token punctuation">.</span>Length<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// &#39;c.Age == 27 take 1 + 2&#39;</span>
    literal <span class="token operator">=</span> literal<span class="token punctuation">.</span><span class="token function">ParseJsExpression</span><span class="token punctuation">(</span><span class="token keyword">out</span> <span class="token keyword">where</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39; take 1 + 2&#39;</span>
<span class="token punctuation">}</span>
literal <span class="token operator">=</span> literal<span class="token punctuation">.</span><span class="token function">AdvancePastWhitespace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// &#39;take 1 + 2&#39;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>literal<span class="token punctuation">.</span><span class="token function">StartsWith</span><span class="token punctuation">(</span><span class="token string">&quot;take &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    literal <span class="token operator">=</span> literal<span class="token punctuation">.</span><span class="token function">Advance</span><span class="token punctuation">(</span><span class="token string">&quot;take &quot;</span><span class="token punctuation">.</span>Length<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// &#39;1 + 2&#39;</span>
    literal <span class="token operator">=</span> literal<span class="token punctuation">.</span><span class="token function">ParseJsExpression</span><span class="token punctuation">(</span><span class="token keyword">out</span> take<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &#39;&#39;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Resulting in <code>where</code> populated with the <a href="https://sharpscript.net/docs/expression-viewer#expression=c.Age%20%3D%3D%2027&amp;c=%7B%20Age%3A27%20%7D" target="_blank" rel="noopener noreferrer">c.Age == 27</a> <code>BinaryExpression</code> and <code>take</code> with the <a href="https://sharpscript.net/docs/expression-viewer#expression=1%20%2B%202" target="_blank" rel="noopener noreferrer">1 + 2</a><code>BinaryExpression</code>.</p><h4 id="immutable-and-comparable" tabindex="-1">Immutable and Comparable <a class="header-anchor" href="#immutable-and-comparable" aria-hidden="true">#</a></h4><p>Unlike C#&#39;s LINQ Expressions which can&#39;t be compared for equality, #Script Expressions are both Immutable and Comparable which can be used in caches and compared to determine if 2 Expressions are equivalent, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> expr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsLogicalExpression</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsBinaryExpression</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsIdentifier</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> JsGreaterThan<span class="token punctuation">.</span>Operator<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsLiteral</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    JsAnd<span class="token punctuation">.</span>Operator<span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsBinaryExpression</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsIdentifier</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> JsLessThan<span class="token punctuation">.</span>Operator<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsLiteral</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

expr<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span>JS<span class="token punctuation">.</span><span class="token function">expression</span><span class="token punctuation">(</span><span class="token string">&quot;a &gt; 1 &amp;&amp; b &lt; 2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//= true</span>

expr<span class="token punctuation">.</span><span class="token function">Equals</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsLogicalExpression</span><span class="token punctuation">(</span>
    JS<span class="token punctuation">.</span><span class="token function">expression</span><span class="token punctuation">(</span><span class="token string">&quot;a &gt; 1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> JsAnd<span class="token punctuation">.</span>Operator<span class="token punctuation">,</span> JS<span class="token punctuation">.</span><span class="token function">expression</span><span class="token punctuation">(</span><span class="token string">&quot;b &lt; 2&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                            <span class="token comment">//= true</span>
</code></pre></div><p>Showing Expressions whether created programmatically, entirely from strings or any combination of both can be compared for equality and evaluated in the same way:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> scope <span class="token operator">=</span> JS<span class="token punctuation">.</span><span class="token function">CreateScope</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">args</span><span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

expr<span class="token punctuation">.</span><span class="token function">Evaluate</span><span class="token punctuation">(</span>scope<span class="token punctuation">)</span> <span class="token comment">//= true</span>
</code></pre></div><h3 id="helper-types" tabindex="-1">Helper Types <a class="header-anchor" href="#helper-types" aria-hidden="true">#</a></h3><p>As scripting makes prevalent usage of Object Dictionaries and Key/Value pairs there&#39;s a couple of UX Friendly Generic collections to reduce boilerplate if you&#39;re repeatedly using these collections:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> objDict <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ObjectDictionary</span> <span class="token punctuation">{</span> <span class="token comment">//inherits Dictionary&lt;string,object&gt;</span>
    <span class="token punctuation">[</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;bar&quot;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">var</span></span> strDict <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">StringDictionary</span> <span class="token punctuation">{</span> <span class="token comment">//inherits Dictionary&lt;string,string&gt;</span>
    <span class="token punctuation">[</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;bar&quot;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">var</span></span> kvps <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">KeyValuePairs</span> <span class="token punctuation">{</span>
    KeyValuePairs<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    KeyValuePairs<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//instead of</span>
<span class="token class-name"><span class="token keyword">var</span></span> kvps <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>KeyValuePair<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span><span class="token keyword">object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">KeyValuePair<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span><span class="token keyword">object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">KeyValuePair<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span><span class="token keyword">object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/ServiceStack/vitepress-docs/edit/master/docs/js-utils.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>Last Updated:</span><span class="datetime" data-v-5797b537></span></p></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/reflection-utils" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>Reflection Utils</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/adhoc-utils" data-v-38ede35f><span class="text" data-v-38ede35f>Adhoc Utils</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"access-http-specific-features-in-services.md\":\"66b61b08\",\"add-servicestack-reference.md\":\"ef0463e9\",\"adhoc-utils.md\":\"2f7f331b\",\"admin-users.md\":\"5b2e4510\",\"advanced-deployment-octopus-deploy.md\":\"4999496d\",\"advantages-of-message-based-web-services.md\":\"dd2c4b0e\",\"amazon-sqs-mq.md\":\"368da457\",\"api-design.md\":\"90451664\",\"api-first-development.md\":\"94a219ca\",\"api-key-authprovider.md\":\"affe14fc\",\"appsettings.md\":\"336da350\",\"architecture-overview.md\":\"c2ad052f\",\"artists.md\":\"c6cd4be0\",\"auth-anti-forgery.md\":\"e2e86064\",\"auth-openid.md\":\"5955c958\",\"auth-repository.md\":\"a79be98a\",\"auth-restricting-services.md\":\"040a2547\",\"auth-signin-with-apple.md\":\"a9199064\",\"auth.md\":\"542baf6f\",\"authentication-and-authorization.md\":\"59deb2c7\",\"authentication-identity-aspnet.md\":\"cacf583b\",\"authentication-identity-servicestack.md\":\"9380ee95\",\"authentication-identityserver.md\":\"4dc977c0\",\"auto-batched-requests.md\":\"2b199a57\",\"auto-mapping.md\":\"55bece18\",\"autoquery-audit-log.md\":\"28b0d76c\",\"autoquery-autogen.md\":\"05f39f8a\",\"autoquery-crud-bookings.md\":\"59b187bf\",\"autoquery-crud.md\":\"f6bdfd5f\",\"autoquery-data.md\":\"f4bfbb1f\",\"autoquery-dynamodb.md\":\"b729faa4\",\"autoquery-memory.md\":\"647cfc82\",\"autoquery-rdbms.md\":\"8e70fd55\",\"autoquery-service.md\":\"77fd8d39\",\"autoquery.md\":\"33f6182a\",\"aws-getting-started.md\":\"88229fb6\",\"aws-pocodynamo.md\":\"f57228dd\",\"aws.md\":\"49b717e3\",\"azure-service-bus-mq.md\":\"27868090\",\"azure.md\":\"1baf3d53\",\"background-mq.md\":\"518eada8\",\"benchmarks.md\":\"40079707\",\"built-in-profiling.md\":\"5beeed4b\",\"bundling-and-minification.md\":\"6578a148\",\"cache-aware-clients.md\":\"13e7dda6\",\"cacheresponse-attribute.md\":\"4cca5a0a\",\"caching.md\":\"c7ff5c39\",\"cancellable-requests.md\":\"54e94d00\",\"clients-overview.md\":\"e7abea3a\",\"code-contribution-guide.md\":\"6f6be298\",\"community-resources.md\":\"edde2481\",\"compiled-razor-views.md\":\"c90f2059\",\"compression.md\":\"956de67b\",\"concurrency-model.md\":\"c133438f\",\"config-api.md\":\"f808fbf8\",\"contributing.md\":\"9ea7ad6c\",\"contributors.md\":\"2a2e9f14\",\"corsfeature.md\":\"d39b84ef\",\"create-webservice-from-scratch.md\":\"ec3d1a9c\",\"create-your-first-webservice.md\":\"886b67be\",\"csharp-add-servicestack-reference.md\":\"69d295bd\",\"csharp-client.md\":\"c5b8ed28\",\"csharp-server-events-client.md\":\"793e7c31\",\"csv-format.md\":\"3f3c2000\",\"customize-http-responses.md\":\"be47ad94\",\"customize-json-responses.md\":\"a9f0b2de\",\"dart-add-servicestack-reference.md\":\"1c6e2ab2\",\"dart-client.md\":\"1f43063e\",\"debugging.md\":\"1304fa2f\",\"declarative-validation.md\":\"ac7f6b4e\",\"deploy-multiple-sites-to-aws.md\":\"69f2df74\",\"deploy-netcore-docker-aws-ecs.md\":\"309fd3e8\",\"deploy-netcore-to-amazon-linux-2-ami.md\":\"038d9767\",\"design-message-based-apis.md\":\"841a27e4\",\"design-rest-services.md\":\"395352f9\",\"do-github-action-mix-deployment.md\":\"35ef5c19\",\"dotnet-new.md\":\"ef72a7e8\",\"dotnet-tool.md\":\"96253527\",\"dump-utils.md\":\"dcf7871a\",\"encrypted-messaging.md\":\"f370384a\",\"endpoints.md\":\"de4f77d8\",\"error-handling.md\":\"91be27c9\",\"explore-servicestack.md\":\"a12dafd5\",\"filter-attributes.md\":\"4cf2103b\",\"form-hijacking-prevention.md\":\"3bc9833d\",\"formats.md\":\"2a3509d9\",\"fsharp-add-servicestack-reference.md\":\"b5ec8c5d\",\"fsharp.md\":\"19b182e2\",\"github-action-templates.md\":\"4616e8d8\",\"grpc-android.md\":\"346fb5f1\",\"grpc-csharp.md\":\"207bb8a5\",\"grpc-dart.md\":\"10a94573\",\"grpc-flutter.md\":\"7ee2bb3f\",\"grpc-generic.md\":\"b66621b9\",\"grpc-go.md\":\"1f410471\",\"grpc-java.md\":\"b8ca3bcc\",\"grpc-nodejs.md\":\"43a551fd\",\"grpc-php.md\":\"1b77d22d\",\"grpc-python.md\":\"dd54984c\",\"grpc-ruby.md\":\"b0bd9c1c\",\"grpc-ssl.md\":\"21ef6927\",\"grpc-swift.md\":\"d4ae51db\",\"grpc.md\":\"2f50f865\",\"host-configuration.md\":\"a8594dad\",\"hot-reloading.md\":\"d046dab3\",\"how-to-contribute.md\":\"c8df7458\",\"howto-write-unit-integration-tests.md\":\"e9799481\",\"html-css-and-javascript-minification.md\":\"8f7027de\",\"html5reportformat.md\":\"bd5b6ff9\",\"http-caching.md\":\"ce1d4041\",\"http-utils.md\":\"51d79a73\",\"iis.md\":\"c8f773b4\",\"index.md\":\"978d0564\",\"install-rabbitmq-windows.md\":\"12fc5071\",\"install-redis-windows.md\":\"f8081d5d\",\"ioc.md\":\"d1fac909\",\"jamstack-with-vitepress-servicestack.md\":\"fcfede11\",\"java-add-servicestack-reference.md\":\"9044893a\",\"java-server-events-client.md\":\"2b25c24e\",\"java.md\":\"387331a0\",\"javascript-client.md\":\"92153f9b\",\"javascript-server-events-client.md\":\"a2291718\",\"js-utils.md\":\"2469c22b\",\"json-format.md\":\"fdf65226\",\"json-jsv-and-xml.md\":\"51bf42cd\",\"jsv-format.md\":\"f0e5ea1e\",\"jupyter-notebooks-csharp.md\":\"db62ef58\",\"jupyter-notebooks-fsharp.md\":\"d73f3087\",\"jupyter-notebooks-python.md\":\"25f157ed\",\"jupyter-notebooks-reporting.md\":\"0cb622b4\",\"jupyter-notebooks.md\":\"15738137\",\"jwt-authprovider.md\":\"f319d877\",\"kotlin-add-servicestack-reference.md\":\"77874eb3\",\"learning-servicestack.md\":\"ae30c949\",\"linux-hosting-options.md\":\"e29d8e17\",\"lisp-tcp-repl-server.md\":\"5f15ef53\",\"logging.md\":\"82d425ab\",\"markdown-razor.md\":\"77f4e47a\",\"messagepack-format.md\":\"321cfc83\",\"messaging.md\":\"fdaae8b3\",\"metadata-page.md\":\"4d9b0c2a\",\"mix-github-actions-aws-ecs.md\":\"d6d5a446\",\"mix-tool.md\":\"87fd5da2\",\"modular-startup.md\":\"4a305881\",\"modularizing-services.md\":\"5f84ba6e\",\"mono.md\":\"ec78f06c\",\"multitenancy.md\":\"4bad39d4\",\"mvc-integration.md\":\"71b30f49\",\"myget.md\":\"7b24ee6f\",\"navigation.md\":\"0109d10d\",\"netcore-deploy-rsync.md\":\"514b810b\",\"netcore-localhost-cert.md\":\"e8db6a19\",\"netcore-razor.md\":\"fd9bef58\",\"netcore-redis.md\":\"74e06e9e\",\"netcore-windows-desktop.md\":\"4450baff\",\"netcore.md\":\"2d8acbd1\",\"nhibernate.md\":\"dcc29a18\",\"npm-new.md\":\"0eb8afff\",\"nuget.md\":\"8ed96175\",\"openapi.md\":\"cee4211d\",\"order-of-operations.md\":\"3f3172f1\",\"oss.md\":\"511b97f7\",\"physical-project-structure.md\":\"fbfc62fc\",\"plugins.md\":\"524f5700\",\"post-command.md\":\"95abd0a9\",\"postman.md\":\"95098e43\",\"prerequisites.md\":\"b22e4d5e\",\"protobuf-format.md\":\"aa9f84f3\",\"proxy-feature.md\":\"99ac096d\",\"python-add-servicestack-reference.md\":\"39acf12d\",\"rabbit-mq.md\":\"197cde66\",\"razor-notes.md\":\"59c29818\",\"razor-ui-controls.md\":\"b75f612e\",\"razor-views-vs-content-pages.md\":\"31702757\",\"real-world-performance.md\":\"df6aab87\",\"redis-mq.md\":\"3ed201be\",\"redis-server-events.md\":\"925e927a\",\"reflection-utils.md\":\"fbd08993\",\"register.md\":\"9f84bd54\",\"release-notes-history.md\":\"07623a6f\",\"release-notes-v3.md\":\"d19ab802\",\"release-notes.md\":\"606db993\",\"releases_2016-summary.md\":\"0f2c90f2\",\"releases_index.md\":\"7e7ccbc9\",\"releases_v4.0.0.md\":\"044f6a74\",\"releases_v4.0.06.md\":\"940fdbed\",\"releases_v4.0.08.md\":\"e9783d7c\",\"releases_v4.0.09.md\":\"7a4d6fba\",\"releases_v4.0.10.md\":\"e415cdba\",\"releases_v4.0.11.md\":\"ac13f716\",\"releases_v4.0.12.md\":\"840ed5ae\",\"releases_v4.0.15.md\":\"383720e9\",\"releases_v4.0.18.md\":\"8a75cd1e\",\"releases_v4.0.19.md\":\"9ab152ed\",\"releases_v4.0.21.md\":\"945f585b\",\"releases_v4.0.22.md\":\"f712b832\",\"releases_v4.0.23.md\":\"81d760c8\",\"releases_v4.0.24.md\":\"bd54b2a6\",\"releases_v4.0.30.md\":\"06ac851c\",\"releases_v4.0.31.md\":\"52bb88f0\",\"releases_v4.0.32.md\":\"bb9dd2ab\",\"releases_v4.0.33.md\":\"401d5f09\",\"releases_v4.0.34.md\":\"94df036d\",\"releases_v4.0.35.md\":\"95351474\",\"releases_v4.0.36.md\":\"71303882\",\"releases_v4.0.38.md\":\"6bd5a329\",\"releases_v4.0.40.md\":\"baa5ed3a\",\"releases_v4.0.42.md\":\"5382b5b8\",\"releases_v4.0.44.md\":\"d05de3cc\",\"releases_v4.0.46.md\":\"759436ce\",\"releases_v4.0.48.md\":\"2d0d5648\",\"releases_v4.0.50.md\":\"a68f8a4e\",\"releases_v4.0.52.md\":\"e8b47ba7\",\"releases_v4.0.54.md\":\"f7e17324\",\"releases_v4.0.56.md\":\"a014c98c\",\"releases_v4.0.58.md\":\"fe723956\",\"releases_v4.0.60.md\":\"aa5ba462\",\"releases_v4.0.62.md\":\"8c3813ad\",\"releases_v4.5.0.md\":\"4be5ddaa\",\"releases_v4.5.10.md\":\"29b07021\",\"releases_v4.5.12.md\":\"c1892c37\",\"releases_v4.5.14.md\":\"79978b05\",\"releases_v4.5.2.md\":\"8ef762bb\",\"releases_v4.5.4.md\":\"eae4d8ee\",\"releases_v4.5.6.md\":\"d71fc972\",\"releases_v4.5.8.md\":\"3ece29a2\",\"releases_v5.0.0.md\":\"9e4d5c5f\",\"releases_v5.1.0.md\":\"922a5372\",\"releases_v5.10.md\":\"35369439\",\"releases_v5.11.md\":\"9ae9cf2f\",\"releases_v5.12.md\":\"31ec898b\",\"releases_v5.2.md\":\"1365b238\",\"releases_v5.4.md\":\"9ea6fe7e\",\"releases_v5.5.md\":\"2dfcb789\",\"releases_v5.6.md\":\"146d13f5\",\"releases_v5.7.md\":\"59ccf431\",\"releases_v5.8.md\":\"4f5add42\",\"releases_v5.9.md\":\"c5b43f9d\",\"request-and-response-filters.md\":\"c350df0b\",\"request-logger.md\":\"3eb3e956\",\"roadmap.md\":\"3e014472\",\"routing.md\":\"f1b06428\",\"self-hosting.md\":\"775ec881\",\"serialization-deserialization.md\":\"2611c4ac\",\"server-events-grpc.md\":\"01d76699\",\"server-events.md\":\"e1c7eea5\",\"server-ui-controls.md\":\"f9650217\",\"service-complexity-and-dto-roles.md\":\"c15152f1\",\"service-discovery.md\":\"4d6066cd\",\"service-gateway.md\":\"42b79d8a\",\"service-return-types.md\":\"02b527c1\",\"servicestack-as-daemon-on-linux.md\":\"df813d45\",\"servicestack-client-umd.md\":\"ec85b8fb\",\"servicestack-handler-resolution.md\":\"188a9c49\",\"servicestack-in-fastcgi-hosted-on-nginx.md\":\"c8240507\",\"servicestack-integration.md\":\"49bda0a7\",\"servicestack-side-by-side-with-another-web-framework.md\":\"3fe71141\",\"servicify.md\":\"05115cfd\",\"sessions.md\":\"85df15f8\",\"silverlight-client.md\":\"a3541f41\",\"simple-deployments-to-aws.md\":\"06769e2d\",\"simple-ioc.md\":\"6b1edcd5\",\"sitemaps.md\":\"ba0bc059\",\"soap-support.md\":\"60b03a1c\",\"ss-utils-js.md\":\"acfc6da0\",\"ssl-redis-azure.md\":\"cc39490f\",\"starlibs.md\":\"f148f60d\",\"studio-autoquery.md\":\"18d0e0ab\",\"studio-users.md\":\"a654ece6\",\"studio-validation-rules.md\":\"d9011ce8\",\"studio.md\":\"1911c8ae\",\"svg.md\":\"d64249fc\",\"swagger-api.md\":\"172d0849\",\"swift-add-servicestack-reference.md\":\"f23e76dc\",\"swift.md\":\"24c17483\",\"templates-angular.md\":\"064beced\",\"templates-angularjs-v15.md\":\"456c04cc\",\"templates-aspnet-empty.md\":\"e4b1a628\",\"templates-aws.md\":\"e49a9cfb\",\"templates-blazor.md\":\"9967d45d\",\"templates-corefx.md\":\"8404cf98\",\"templates-desktop.md\":\"eee16e19\",\"templates-dotnet-scripts.md\":\"0c18bfd0\",\"templates-empty-starting.md\":\"30d42ccb\",\"templates-install-servicestackvs.md\":\"9efa0a97\",\"templates-lite.md\":\"3087a747\",\"templates-nuxt.md\":\"fd40035e\",\"templates-overview.md\":\"60a94a24\",\"templates-react.md\":\"a8a9f381\",\"templates-single-page-apps.md\":\"5226051c\",\"templates-spa-components.md\":\"cb26b751\",\"templates-svelte.md\":\"6e3888cb\",\"templates-vue.md\":\"5cfb9e18\",\"templates-vuetify.md\":\"457cded6\",\"templates-webpack.md\":\"f3b823ba\",\"templates-websites.md\":\"464a670e\",\"templates-windows-service.md\":\"94a6a445\",\"testing.md\":\"46c54473\",\"typescript-add-servicestack-reference.md\":\"47ad6388\",\"typescript-server-events-client.md\":\"e30beee6\",\"validation.md\":\"a370658a\",\"vbnet-add-servicestack-reference.md\":\"9f256fa6\",\"vbnet.md\":\"afc01a3e\",\"versioning.md\":\"d9f17bd4\",\"view-and-template-selection.md\":\"3728be2f\",\"virtual-file-system.md\":\"7378e85d\",\"vue-components.md\":\"6c373aa6\",\"web-apply.md\":\"4ece3da2\",\"web-new.md\":\"c00987ff\",\"web-services.md\":\"d504f246\",\"web-tool.md\":\"cbd340dd\",\"web-trouble.md\":\"2c1928e8\",\"webhooks.md\":\"bfae9c5b\",\"what-is-a-message-based-web-service.md\":\"520f034f\",\"why-not-odata.md\":\"8d9046e7\",\"why-not-razor.md\":\"adfa47b1\",\"why-remote-services-use-dtos.md\":\"2cace0fa\",\"why-servicestack.md\":\"a2426366\",\"wire-format.md\":\"30475322\",\"world-validation.md\":\"69f3d92f\",\"your-first-webservice-explained.md\":\"335a41db\",\"ztest.md\":\"49b1f09d\"}")</script>
    <script type="module" async src="/assets/app.14440598.js"></script>
    
  </body>
</html>