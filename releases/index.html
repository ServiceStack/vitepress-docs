<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Release Notes Summary | Documentation</title>
    <meta name="description" content="ServiceStack Docs">
    <link rel="stylesheet" href="/assets/style.b5bfd3ef.css">
    <link rel="modulepreload" href="/assets/Home.d1536508.js">
    <link rel="modulepreload" href="/assets/startup-errors.1f567b17.js">
    <link rel="modulepreload" href="/assets/app.14440598.js">
    <link rel="modulepreload" href="/assets/releases_index.md.7e7ccbc9.lean.js">
    <link rel="modulepreload" href="/assets/app.14440598.js">
    <script src="custom.js"></script>
    <meta name="twitter:title" content="Release Notes Summary | Documentation">
    <meta property="og:title" content="Release Notes Summary | Documentation">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Documentation, back to home" data-v-675d8756 data-v-4a583abe><!----> Documentation</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://servicestack.net/whatsnew" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>What&#39;s New <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/templates-overview" data-v-b8818f8c>Project Templates <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/autoquery" data-v-b8818f8c>AutoQuery <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auth" data-v-b8818f8c>Security <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/grpc" data-v-b8818f8c>gRPC <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/ServiceStack/vitepress-docs" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://servicestack.net/whatsnew" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>What&#39;s New <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/templates-overview" data-v-b8818f8c>Project Templates <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/autoquery" data-v-b8818f8c>AutoQuery <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/auth" data-v-b8818f8c>Security <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/grpc" data-v-b8818f8c>gRPC <!----></a></div></div><!--]--><!----><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://github.com/ServiceStack/vitepress-docs" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Overview</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/why-servicestack">Why ServiceStack</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/architecture-overview">Architecture Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicify">Servicify existing Systems</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/explore-servicestack">Explore ServiceStack</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Releases</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/releases/v5.12.html">Latest Release Notes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/release-notes-history">Release Notes History</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/myget">Pre-release MyGet Packages</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Getting Started</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/create-your-first-webservice">Create your first WebService</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/your-first-webservice-explained">Your first WebService explained</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/api-design">Service API Design</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/service-return-types">Service Return Types</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/design-rest-services">Design RESTful Services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/design-message-based-apis">Design Message-based APIs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/modular-startup">Modular Startup</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/navigation">Unified Navigation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dotnet-tool">dotnet tool - Win/Mac/Linux Utility Belt</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-windows-desktop">app tool - .NET Core Windows Desktop</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/mix-tool">mix tool - Mix n&#39; Match .NET Apps</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/post-command">Post Command - Inspect/Call HTTP APIs</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">GitHub Action Templates</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/github-action-templates">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/do-github-action-mix-deployment">GitHub GHR &amp; Digital Ocean</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/mix-github-actions-aws-ecs">AWS ECR &amp; ECS with NGINX</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Background Concepts</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/what-is-a-message-based-web-service">What is a Message-based Web Service</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/advantages-of-message-based-web-services">Advantages of message-based Services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/why-remote-services-use-dtos">Why Remote Services should use DTOs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/service-complexity-and-dto-roles">Complexity, Services and Role of DTOs</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/api-first-development">API First Development</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">ServiceStack Studio</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/studio">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/studio-users">Studio - User Management</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/studio-autoquery">Studio - AutoQuery UI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/studio-validation-rules">Studio - DB Validation Rules</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Reference</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/host-configuration">AppHost</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ioc">IOC</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/routing">Routing</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/order-of-operations">Order of Operations</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/customize-http-responses">Customize HTTP Responses</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/customize-json-responses">Customize JSON Responses</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/appsettings">Configuration &amp; AppSettings</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/metadata-page">Metadata Pages</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/svg">SVG Support</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/endpoints">REST, SOAP &amp; default endpoints</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/soap-support">SOAP support</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Error Handling</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/error-handling">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/validation">Validation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/world-validation">World Validation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/declarative-validation">Declarative Validation</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/debugging">Debugging</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Server Events</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/server-events">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csharp-server-events-client">C# Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/typescript-server-events-client">TypeScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-server-events-client">Java Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/javascript-server-events-client">JavaScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/server-events-grpc">gRPC Clients</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/redis-server-events">Redis Server Events</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Service Gateway</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/service-gateway">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/service-discovery">Service Discovery</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Clients</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/clients-overview">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csharp-client">C#/.NET Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/typescript-add-servicestack-reference#typescript-serviceclient">TypeScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/javascript-client">JavaScript Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-add-servicestack-reference#jsonserviceclient-api">Java Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/swift-add-servicestack-reference#swift-client-usage">Swift Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dart-add-servicestack-reference#example-usage">Dart Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/silverlight-client">Silverlight Client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/messaging#mq-client-architecture">MQ Clients</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Jupyter Notebooks</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-python">Python Jupyter Notebooks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-csharp">C# Jupyter Notebooks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-fsharp">F# Jupyter Notebooks</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jupyter-notebooks-reporting">Reports and Testing</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Add ServiceStack Reference</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/add-servicestack-reference">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csharp-add-servicestack-reference">C# Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/typescript-add-servicestack-reference">TypeScript Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/python-add-servicestack-reference">Python Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/swift-add-servicestack-reference">Swift Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-add-servicestack-reference">Java Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/kotlin-add-servicestack-reference">Kotlin Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dart-add-servicestack-reference">Dart Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/fsharp-add-servicestack-reference">F# Add Reference</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vbnet-add-servicestack-reference">VB.NET Add Reference</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">MQ Messaging</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/messaging">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/background-mq">Background MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/rabbit-mq">Rabbit MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/redis-mq">Redis MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/amazon-sqs-mq">Amazon SQS MQ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/azure-service-bus-mq">Azure Service Bus MQ</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Encrypted Messaging</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/encrypted-messaging">Overview</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Advanced</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/logging">Logging</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/request-and-response-filters">Request &amp; Response filters</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/filter-attributes">Filter attributes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/access-http-specific-features-in-services">Access HTTP features in services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/serialization-deserialization">Serialization &amp; Deserialization</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/auto-mapping">Auto-Mapping</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/auto-batched-requests">Auto Batched Requests</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/virtual-file-system">Virtual File System</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/multitenancy">Multitenancy</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/physical-project-structure">Physical Project Structure</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/modularizing-services">Modularizing Services</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/built-in-profiling">Built-in profiling</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/hot-reloading">Hot Reloading</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/html-css-and-javascript-minification">HTML, CSS and JS Minifiers</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/mvc-integration">MVC Integration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicestack-integration">ServiceStack Integration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicestack-side-by-side-with-another-web-framework">Run side-by-side with another fx</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/versioning">Versioning</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/config-api">Config API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/concurrency-model">Concurrency Model</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/form-hijacking-prevention">Form Hijacking Prevention</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/create-webservice-from-scratch">Create a WebService from scratch</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Formats</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/formats">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/json-format">JSON Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/jsv-format">JSV Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/csv-format">CSV Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/messagepack-format">MessagePack Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/protobuf-format">ProtoBuf Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/wire-format">Wire Format</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/html5reportformat">HTML5 Report Format</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">.NET Core</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-redis">.NET Core Redis</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-localhost-cert">Configure localhost dev cert</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/deploy-netcore-to-amazon-linux-2-ami">Deploy to Amazon Linux 2 AMI</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/deploy-netcore-docker-aws-ecs">Deploy .NET Core Apps to AWS ECS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-deploy-rsync">Deploy .NET Core Apps using rsync</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Utils</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/http-utils">HTTP Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/dump-utils">Dump Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/reflection-utils">Reflection Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/js-utils">JS Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/adhoc-utils">Adhoc Utils</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/simple-ioc">Simple IOC</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Caching</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/caching">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/http-caching">HTTP Caching</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cacheresponse-attribute">CacheResponse Attribute</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cache-aware-clients">Cache Aware Clients</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/compression">Compression</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Plugins</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/plugins">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/openapi">Open API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/swagger-api">Swagger API</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/admin-users">User Admin Feature</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/corsfeature">CORS Feature</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/proxy-feature">Proxy Feature</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/request-logger">Request logger</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/lisp-tcp-repl-server">Lisp TCP REPL Server</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/postman">Postman</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/sitemaps">Sitemaps</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/cancellable-requests">Cancellable Requests</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/webhooks">Webhooks</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">View Engines</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/netcore-razor">ServiceStack Razor</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/razor-ui-controls">Razor UI Controls</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/razor-notes">Razor Notes</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/view-and-template-selection">View and Template Selection</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/compiled-razor-views">Compiled Razor Views</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/razor-views-vs-content-pages">Razor Views vs Content Pages</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">JavaScript Web Apps</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue-components">Vue Components</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/servicestack-client-umd">Embedded UMD @servicestack/client</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ss-utils-js">ss-utils.js JavaScript Client Library</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Hosts</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iis">IIS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/self-hosting">Self-hosting</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Tests</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/testing">Testing</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/howto-write-unit-integration-tests">HowTo write unit &amp; integration tests</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Java</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/java">Java ServiceStack Resources</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/java-add-servicestack-reference#servicestack-idea-android-studio-plugin">Android Studio &amp; IntelliJ</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Other Languages</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/swift">Swift</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/fsharp">F#</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vbnet">VB.NET</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Deployment</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/deploy-multiple-sites-to-aws">Deploy Multiple Sites to single AWS</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/simple-deployments-to-aws">Simple Deployments with WebDeploy</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/advanced-deployment-octopus-deploy">Deployments with OctopusDeploy</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Amazon Web Services</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/aws">Overview</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/aws-pocodynamo">PocoDynamo</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/aws-getting-started">Getting Started with AWS</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Use Cases</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/azure">Azure</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Install 3rd Party Products</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/install-redis-windows">Redis on Windows</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/install-rabbitmq-windows">RabbitMQ on Windows</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/ssl-redis-azure">Redis SSL on Azure</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Performance</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/real-world-performance">Real world performance</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Future</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/roadmap">Roadmap</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--[--><!----><!--]--><!--[--><h1>Release Notes Summary</h1><!--]--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><blockquote><p><a href="/release-notes-history.html">Release Notes History</a></p></blockquote><h1 id="v5-0-2-update" tabindex="-1"><a href="https://docs.servicestack.net/releases/v5.0.0" target="_blank" rel="noopener noreferrer">v5.0.2 Update</a> <a class="header-anchor" href="#v5-0-2-update" aria-hidden="true">#</a></h1><p>Happy New 2018 All! We hope you’ve all had a long, relaxing break over the holidays and are re-energized for a productive start to the new year. We have a new v5.0.2 release ready for the start of the new year. A summary of the changes are included below, for the full details see the <a href="https://docs.servicestack.net/releases/v5.0.0" target="_blank" rel="noopener noreferrer">v5 Release Notes</a>.</p><h3 id="future-versioning-updates" tabindex="-1">Future Versioning Updates <a class="header-anchor" href="#future-versioning-updates" aria-hidden="true">#</a></h3><p>We intend to ship more frequent &quot;Enhancement Updates&quot; like this one in between major releases so we&#39;re able to ship fixes to Customers sooner. Update releases will be primarily additive and minimally disruptive so they’re safe to upgrade.</p><p>To distinguish updates from normal releases we’ll use the <code>{PATCH}</code> version to indicate an Enhancement Release and use the <code>{MINOR}</code> version for normal major releases:</p><pre><code>{MAJOR}.{MINOR}.{PATCH}
</code></pre><p>The <code>{MAJOR}</code> is reserved for Major releases like v5 containing structural changes that may require changes to environment and/or project configurations like v5. A new <code>{MINOR}</code> version will be used for normal &quot;Major&quot; releases which will have a <code>{PATCH}</code> version of <strong>0</strong>. An <strong>even</strong> <code>{PATCH}</code> version number indicates an &quot;Update&quot; release published to <strong>NuGet</strong> whilst an <strong>odd</strong> version number indicates a &quot;pre-release&quot; version that&#39;s only <a href="https://docs.servicestack.net/myget" target="_blank" rel="noopener noreferrer">available on MyGet</a>, e.g:</p><ul><li><strong>v5.0.0</strong> - Current Major Release with structural changes <ul><li>v5.0.2 - Enhancement of Major v5.0.0 Release</li><li>v5.0.3 - Pre-release packages published to MyGet only</li><li>v5.0.4? - Enhancement of Major v5.0.0 Release (if any)</li></ul></li><li><strong>v5.1.0</strong> - Next Major Release <ul><li>v5.1.1 - Pre-release packages published to MyGet only</li><li>v5.1.2? - Enhancement of Major v5.1.0 Release (if any)</li></ul></li><li>...</li><li><strong>v6.0.0</strong> - Next Major Release with structural changes</li></ul><h2 id="run-asp-net-core-apps-on-the-net-framework" tabindex="-1">Run <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core Apps on the .NET Framework <a class="header-anchor" href="#run-asp-net-core-apps-on-the-net-framework" aria-hidden="true">#</a></h2><p>To support developing <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core Apps on the .NET Framework we&#39;ll continue publishing <code>.Core</code> packages which contains only the <strong>.NET Standard 2.0</strong> builds in order to force .NET Framework projects to use <strong>.NET Standard 2.0</strong> builds which contains support for running <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core Apps. The complete list of <code>.Core</code> packages include:</p><ul><li>ServiceStack.Text.Core</li><li>ServiceStack.Interfaces.Core</li><li>ServiceStack.Client.Core</li><li>ServiceStack.HttpClient.Core</li><li>ServiceStack.Core</li><li>ServiceStack.Common.Core</li><li>ServiceStack.Mvc.Core</li><li>ServiceStack.Server.Core</li><li>ServiceStack.Redis.Core</li><li>ServiceStack.OrmLite.Core</li><li>ServiceStack.OrmLite.Sqlite.Core</li><li>ServiceStack.OrmLite.SqlServer.Core</li><li>ServiceStack.OrmLite.PostgreSQL.Core</li><li>ServiceStack.OrmLite.MySql.Core</li><li>ServiceStack.OrmLite.MySqlConnector.Core</li><li>ServiceStack.Aws.Core</li><li>ServiceStack.Azure.Core</li><li>ServiceStack.RabbitMq.Core</li><li>ServiceStack.Api.OpenApi.Core</li><li>ServiceStack.Admin.Core</li><li>ServiceStack.Stripe.Core</li><li>ServiceStack.Kestrel</li></ul><p>To make it as easy possible to get started we&#39;ve created a new <a href="https://github.com/NetFrameworkCoreTemplates" target="_blank" rel="noopener noreferrer">NetFrameworkCoreTemplates</a> GitHub Organization containing popular starting templates for running <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core Apps on .NET Framework (default v4.7) which as a convention all have the <code>-corefx</code> suffix:</p><ul><li><a href="https://github.com/NetFrameworkCoreTemplates/web-corefx" target="_blank" rel="noopener noreferrer">web-corefx</a> - .NET Framework <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core Website</li><li><a href="https://github.com/NetFrameworkCoreTemplates/empty-corefx" target="_blank" rel="noopener noreferrer">empty-corefx</a> - .NET Framework <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core Single Project Website</li><li><a href="https://github.com/NetFrameworkCoreTemplates/selfhost-corefx" target="_blank" rel="noopener noreferrer">selfhost-corefx</a> - .NET Framework <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core self-hosting Console App</li><li><a href="https://github.com/NetFrameworkCoreTemplates/mvc-corefx" target="_blank" rel="noopener noreferrer">mvc-corefx</a> - .NET Framework <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core MVC Website</li><li><a href="https://github.com/NetFrameworkCoreTemplates/razor-corefx" target="_blank" rel="noopener noreferrer">razor-corefx</a> - .NET Framework <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core Website with ServiceStack.Razor</li><li><a href="https://github.com/NetFrameworkCoreTemplates/templates-corefx" target="_blank" rel="noopener noreferrer">templates-corefx</a> - .NET Framework <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core Templates Bootstrap Website</li></ul><p>The latest <code>@servicestack/cli</code> <strong>v1.0.2</strong> has been updated to include this additional config source, including them in the list of available templates:</p><pre><code>$ dotnet-new
</code></pre><p><img src="https://docs.servicestack.net/images/ssvs/dotnet-new-list.png" alt=""></p><p>Which will let you create an <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core App running on the .NET Framework v4.7 with:</p><pre><code>$ npm install -g @servicestack/cli

$ dotnet-new web-corefx AcmeNetFx
</code></pre><p>Which can then be opened in your preferred <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> or Project Rider C# IDE.</p><h2 id="servicestack-mobile-and-desktop-apps" tabindex="-1">ServiceStack Mobile and Desktop Apps <a class="header-anchor" href="#servicestack-mobile-and-desktop-apps" aria-hidden="true">#</a></h2><p><a href="https://github.com/ServiceStackApps/HelloMobile" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStackApps/HelloMobile/master/screenshots/splash-900.png" alt=""></a></p><p>The <a href="https://github.com/ServiceStackApps/HelloMobile" target="_blank" rel="noopener noreferrer">HelloMobile</a> project has been rewritten to use the latest v5 .NET Standard 2.0 and .NET Framework clients and contains multiple versions of the same App demonstrating a number of different calling conventions, service integrations and reuse possibilities for each of the following platforms:</p><ul><li>WPF</li><li>UWP</li><li>Xamarin.Android</li><li>Xamarin.iOS</li><li>Xamarin.OSX</li><li>Xamarin.Forms <ul><li>iOS</li><li>Android</li><li>UWP</li></ul></li></ul><h3 id="servicestack-server-app" tabindex="-1">ServiceStack Server App <a class="header-anchor" href="#servicestack-server-app" aria-hidden="true">#</a></h3><p>The <a href="https://github.com/ServiceStackApps/HelloMobile" target="_blank" rel="noopener noreferrer">HelloMobile</a> project also provides an example of ServiceStack&#39;s versatility where the <a href="https://github.com/ServiceStackApps/HelloMobile/blob/master/src/Server.Common/WebServices.cs" target="_blank" rel="noopener noreferrer">WebServices.cs</a> implementation can be hosted on any of .NET&#39;s popular HTTP Server hosting configurations:</p><h3 id="server-netcore" tabindex="-1"><a href="https://github.com/ServiceStackApps/HelloMobile/tree/master/src/Server.NetCore" target="_blank" rel="noopener noreferrer">Server.NetCore</a> <a class="header-anchor" href="#server-netcore" aria-hidden="true">#</a></h3><p>The AppHost for hosting the ServiceStack Services in a <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core 2.0 App:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppHost</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AppHostBase</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">AppHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>Server<span class="token punctuation">.</span>NetCore<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">WebServices</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Assembly<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Configure</span><span class="token punctuation">(</span><span class="token class-name">Container</span> container<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> SharedAppHost<span class="token punctuation">.</span><span class="token function">Configure</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="server-netcorefx" tabindex="-1"><a href="https://github.com/ServiceStackApps/HelloMobile/tree/master/src/Server.NetCoreFx" target="_blank" rel="noopener noreferrer">Server.NetCoreFx</a> <a class="header-anchor" href="#server-netcorefx" aria-hidden="true">#</a></h3><p>The same source code can be used to run a ServiceStack <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core App on the <strong>.NET Framework</strong>:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppHost</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AppHostBase</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">AppHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>Server<span class="token punctuation">.</span>NetCoreFx<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">WebServices</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Assembly<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Configure</span><span class="token punctuation">(</span><span class="token class-name">Container</span> container<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> SharedAppHost<span class="token punctuation">.</span><span class="token function">Configure</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The difference between a <strong>.NET Framework v4.7</strong> and a <strong>.NET Core 2.0</strong> <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core App is in <a href="https://github.com/ServiceStackApps/HelloMobile/blob/master/src/Server.NetCoreFx/Server.NetCoreFx.csproj" target="_blank" rel="noopener noreferrer">Server.NetCoreFx.csproj</a> where it references <strong>ServiceStack.Core</strong> NuGet package to force using the <strong>.NET Standard 2.0</strong> version of ServiceStack that contains the support for hosting <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core Apps.</p><h3 id="server-aspnet" tabindex="-1"><a href="https://github.com/ServiceStackApps/HelloMobile/tree/master/src/Server.AspNet" target="_blank" rel="noopener noreferrer">Server.AspNet</a> <a class="header-anchor" href="#server-aspnet" aria-hidden="true">#</a></h3><p>The same source code is also used for hosting classic <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Web Applications:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppHost</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AppHostBase</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">AppHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>Server<span class="token punctuation">.</span>AspNet<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">WebServices</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Assembly<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Configure</span><span class="token punctuation">(</span><span class="token class-name">Container</span> container<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> SharedAppHost<span class="token punctuation">.</span><span class="token function">Configure</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="server-httplistener" tabindex="-1"><a href="https://github.com/ServiceStackApps/HelloMobile/tree/master/src/Server.HttpListener" target="_blank" rel="noopener noreferrer">Server.HttpListener</a> <a class="header-anchor" href="#server-httplistener" aria-hidden="true">#</a></h3><p>Alternatively to host in a .NET Framework Self-Hosting HttpListener, the AppHost needs to inherit from <code>AppSelfHostBase</code>:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppHost</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AppSelfHostBase</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">AppHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>Server<span class="token punctuation">.</span>HttpListener<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">WebServices</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Assembly<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Configure</span><span class="token punctuation">(</span><span class="token class-name">Container</span> container<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> SharedAppHost<span class="token punctuation">.</span><span class="token function">Configure</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="net-standard-2-0-logging-providers" tabindex="-1">.NET Standard 2.0 Logging Providers <a class="header-anchor" href="#net-standard-2-0-logging-providers" aria-hidden="true">#</a></h2><p>Whilst our recommendation is to use <a href="https://docs.servicestack.net/netcore#servicestacklogging-adapters" target="_blank" rel="noopener noreferrer">.NET Core&#39;s Logging Abstraction</a> some Customers prefer to avoid this abstraction and configure logging directly with ServiceStack. To support this we&#39;ve included <strong>.NET Standard 2.0</strong> builds to the following logging providers:</p><ul><li>ServiceStack.Logging.Serilog</li><li>ServiceStack.Logging.Slack</li></ul><h2 id="async-error-handling" tabindex="-1">Async Error Handling <a class="header-anchor" href="#async-error-handling" aria-hidden="true">#</a></h2><p>This is an enhancement to our <a href="#expanded-async-support">Expanded Async Support</a> where there&#39;s now the option to register async exception handlers, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">this</span><span class="token punctuation">.</span>ServiceExceptionHandlersAsync<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>httpReq<span class="token punctuation">,</span> request<span class="token punctuation">,</span> ex<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">LogServiceExceptionAsync</span><span class="token punctuation">(</span>httpReq<span class="token punctuation">,</span> request<span class="token punctuation">,</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">is</span> <span class="token class-name">UnhandledException</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> ex<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>request <span class="token keyword">is</span> <span class="token class-name">IQueryDb</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> DtoUtils<span class="token punctuation">.</span><span class="token function">CreateErrorResponse</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;AutoQuery request failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>UncaughtExceptionHandlersAsync<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> operationName<span class="token punctuation">,</span> ex<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">await</span> res<span class="token punctuation">.</span><span class="token function">WriteAsync</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;UncaughtException &#39;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">ex<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name</span><span class="token punctuation">}</span></span><span class="token string">&#39; at &#39;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">req<span class="token punctuation">.</span>PathInfo</span><span class="token punctuation">}</span></span><span class="token string">&#39;&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">EndRequest</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">skipHeaders</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>If you were instead inheriting <code>OnServiceException</code> or <code>OnUncaughtException</code> in your AppHost they now return a <code>Task</code> type.</p><h2 id="autoquery-distinct" tabindex="-1">AutoQuery DISTINCT <a class="header-anchor" href="#autoquery-distinct" aria-hidden="true">#</a></h2><p>AutoQuery added support querying DISTINCT fields by prefixing the custom fields list with <code>DISTINCT </code>, example using QueryString:</p><pre><code>?Fields=DISTINCT Field1,Field2
</code></pre><p>Examle using C# Client:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">QueryCustomers</span> <span class="token punctuation">{</span> 
    Fields <span class="token operator">=</span> <span class="token string">&quot;DISTINCT Country&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>We can use this feature with Northwinds existing <a href="https://github.com/NetCoreApps/Northwind/blob/master/src/Northwind.ServiceModel/AutoQuery.cs" target="_blank" rel="noopener noreferrer">AutoQuery Request DTOs</a>:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/query/customers&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueryCustomers</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">QueryDb<span class="token punctuation">&lt;</span>Customer<span class="token punctuation">&gt;</span></span></span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><p>To return all unique City and Countries of Northwind Customers with:</p><ul><li><a href="http://northwind.netcore.io/query/customers?Fields=DISTINCT%20City,Country" target="_blank" rel="noopener noreferrer">northwind.netcore.io/query/customers?Fields=DISTINCT City,Country</a></li></ul><p>Or to just return their unique Countries they&#39;re in:</p><ul><li><a href="http://northwind.netcore.io/query/customers?Fields=DISTINCT%20Country" target="_blank" rel="noopener noreferrer">northwind.netcore.io/query/customers?Fields=DISTINCT Country</a></li></ul><h3 id="ormlite-commandfilter" tabindex="-1">OrmLite commandFilter <a class="header-anchor" href="#ormlite-commandfilter" aria-hidden="true">#</a></h3><p>An optional <code>Func&lt;IDbCommand&gt; commandFilter</code> has been added to OrmLite&#39;s <code>INSERT</code> and <code>UPDATE</code> APIs to allow customization and inspection of the populated <code>IDbCommand</code> before it&#39;s run. This feature is utilized in the new <a href="https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/ServiceStack.OrmLite/OrmLiteConflictResolutions.cs" target="_blank" rel="noopener noreferrer">Conflict Resolution Extension methods</a> where you can specify the conflict resolution strategy when a Primary Key or Unique constraint violation occurs:</p><div class="language-csharp"><pre><code>db<span class="token punctuation">.</span><span class="token function">InsertAll</span><span class="token punctuation">(</span>rows<span class="token punctuation">,</span> dbCmd <span class="token operator">=&gt;</span> dbCmd<span class="token punctuation">.</span><span class="token function">OnConflictIgnore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Equivalent to: </span>
db<span class="token punctuation">.</span><span class="token function">InsertAll</span><span class="token punctuation">(</span>rows<span class="token punctuation">,</span> dbCmd <span class="token operator">=&gt;</span> dbCmd<span class="token punctuation">.</span><span class="token function">OnConflict</span><span class="token punctuation">(</span>ConflictResolution<span class="token punctuation">.</span>Ignore<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In this case it will ignore any conflicts that occurs and continue inserting the remaining rows in SQLite, MySql and PostgreSQL, whilst in SQL Server it&#39;s a NOOP.</p><p>SQLite offers <a href="https://sqlite.org/lang_conflict.html" target="_blank" rel="noopener noreferrer">additional fine-grained behavior</a> that can be specified for when a conflict occurs:</p><ul><li>ROLLBACK</li><li>ABORT</li><li>FAIL</li><li>IGNORE</li><li>REPLACE</li></ul><h3 id="servicestack-text" tabindex="-1">ServiceStack.Text <a class="header-anchor" href="#servicestack-text" aria-hidden="true">#</a></h3><p>The <code>XmlSerializer.XmlWriterSettings</code> and <code>XmlSerializer.XmlReaderSettings</code> for controlling the default XML behavior is now publicly accessible with <a href="https://msdn.microsoft.com/en-us/magazine/ee335713.aspx" target="_blank" rel="noopener noreferrer">DTD Processing now disabled by default</a>.</p><p>Support for leading zeros in integers was restored.</p><h1 id="v5-release-notes" tabindex="-1">v5 Release Notes <a class="header-anchor" href="#v5-release-notes" aria-hidden="true">#</a></h1><p>The theme of this major v5 release is integration and unification with the newly released .NET Standard 2.0 which offers the broadest compatibility and stabilized API surface for .NET Core and the version we&#39;ve chosen to standardize around.</p><p>We&#39;ll do our best to summarize new features here but if you have time we encourage you to read the <a href="https://docs.servicestack.net/releases/v5.0.0" target="_blank" rel="noopener noreferrer">full v5 Release Notes</a>, as this is a major version upgrade we recommend at least reviewing the <a href="https://docs.servicestack.net/releases/v5.0.0#v5-changes-and-migration-notes" target="_blank" rel="noopener noreferrer">v5 Changes and Migration Notes</a> before upgrading. Whilst the user-facing source code impact is minimal, we&#39;ve taken the opportunity of a major version window to perform some logical re-structuring and some potentially breaking changes from <strong>replacing PCL clients</strong> to use .NET Standard 2.0, moving .NET Framework implementations to different projects, making SOAP Support, Mini Profiler and Markdown Razor opt-in and to be able to utilize the latest NuGet package dependencies <strong>ServiceStack.RabbitMQ</strong> requires <strong>.NET v4.5.1</strong> and <strong>ServiceStack.Azure</strong> requires <strong>.NET v4.5.2</strong>.</p><p>All .NET Standard builds have been upgraded to <strong>.NET Standard 2.0</strong> where now both <code>.Core</code> and <code>.Signed</code> NuGet package variants have been unified into ServiceStack&#39;s main NuGet packages - unifying them into a single suite of NuGet packages and release cadence. All <strong>.NET 4.5 builds are Strong Named</strong> by default using the <code>servicestack.snk</code> signing key that&#39;s in the <a href="https://github.com/ServiceStack/ServiceStack/tree/master/src" target="_blank" rel="noopener noreferrer">/src</a> folder of each Project. The .NET Standard builds continue to remain unsigned so they can be built on each platform with .NET Core&#39;s <code>dotnet build</code> command.</p><h2 id="new-net-core-2-0-and-net-framework-project-templates" tabindex="-1">New .NET Core 2.0 and .NET Framework Project Templates! <a class="header-anchor" href="#new-net-core-2-0-and-net-framework-project-templates" aria-hidden="true">#</a></h2><p>ServiceStack&#39;s maintains exceptional source compatibility between .NET Core and .NET Framework projects which is visible in our new .NET Core 2.0 and .NET Framework project templates where all templates utilize the same recommended <a href="https://docs.servicestack.net/physical-project-structure" target="_blank" rel="noopener noreferrer">Physical Project Structure</a>, reference the same NuGet packages, share the same source code for its Server and Client App implementations as well as Client and Server Unit and Integration Tests.</p><p>The primary difference between the .NET Core and .NET Framework project templates is how ServiceStack&#39;s <code>AppHost</code> is initialized, in <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> it&#39;s done in <code>Global.asax</code> whilst for .NET Core it&#39;s registered in .NET Core&#39;s pipeline as standard. The <code>.csproj</code> are also different with .NET Core using MSBuild&#39;s new and minimal human-friendly format and the <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Framework templates continuing to use <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a>&#39;s classic project format for compatibility with older VS .NET versions.</p><p>v5 includes <strong>11 new .NET Core 2.0 project templates</strong> for each of ServiceStack&#39;s most popular starting templates. Each .NET Core 2.0 template has an equivalent .NET Framework template except for <a href="https://sharpscript.net/docs/sharp-apps" target="_blank" rel="noopener noreferrer">ServiceStack&#39;s Sharp Apps</a> which is itself a pre-built .NET Core 2.0 App that lets you develop Web Applications and HTTP APIs on-the-fly without any compilation.</p><p>All .NET Core 2.0 Templates can be developed using your preferred choice of either VS Code, <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> or JetBrains Project Rider on your preferred Desktop OS. Given the diverse ecosystem used to develop .NET Core Applications, the new Project Templates are being maintained on GitHub and made available via our new <a href="https://docs.servicestack.net/dotnet-new" target="_blank" rel="noopener noreferrer">dotnet-new</a> command-line utility, installable from npm with:</p><pre><code>$ npm install -g @servicestack/cli
</code></pre><p>This makes the <code>dotnet-new</code> command globally available which can be run without arguments to view all templates available:</p><p><img src="https://docs.servicestack.net/images/ssvs/dotnet-new-list.png" alt=""></p><p>That can be used to create new projects with:</p><pre><code>$ dotnet-new &lt;template-name&gt; &lt;project-name&gt;
</code></pre><p>Example of creating a new Vue SPA project called <strong>Acme</strong>:</p><pre><code>$ dotnet-new vue-spa Acme
</code></pre><p>The resulting <code>Acme.sln</code> can be opened in VS 2017 which will automatically restore and install both the .NET and npm packages upon first load and build. This can take a while to install all client and server dependencies, once finished the <code>wwwroot</code> folder will be populated with your generated Webpack App contained within a <code>/dist</code> folder alongside a generated <code>index.html</code> page. After these are generated you can run your App with <strong>F5</strong> to run your project as normal:</p><p><img src="https://docs.servicestack.net/images/ssvs/dotnet-new-spa-files.png" alt=""></p><p>If using JetBrains Rider the npm packages can be installed by opening <code>package.json</code> and clicking on the <strong>&quot;npm install&quot;</strong> tooltip on the <strong>bottom right</strong>. In VS Code you&#39;ll need to run <code>npm install</code> manually from the command-line.</p><h3 id="servicestackvs-vs-net-templates-updated" tabindex="-1">ServiceStackVS <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> Templates Updated <a class="header-anchor" href="#servicestackvs-vs-net-templates-updated" aria-hidden="true">#</a></h3><p>The <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> Templates inside <a href="https://github.com/ServiceStack/ServiceStackVS" target="_blank" rel="noopener noreferrer">ServiceStackVS</a> have also been updated to use the latest .NET Framework templates which you can continue to use to <a href="https://docs.servicestack.net/create-your-first-webservice" target="_blank" rel="noopener noreferrer">create new projects within VS.NET</a>. For all other IDEs and non-Windows Operating Systems you can use the cross-platform <code>dotnet-new</code> tooling to create new .NET Core 2.0 Projects.</p><h3 id="net-core-2-0-typescript-webpack-templates" tabindex="-1">.NET Core 2.0 TypeScript Webpack Templates <a class="header-anchor" href="#net-core-2-0-typescript-webpack-templates" aria-hidden="true">#</a></h3><p>There&#39;s a project template for each of the most popular Single Page Application JavaScript frameworks, including a new <a href="https://angular.io" target="_blank" rel="noopener noreferrer">Angular 5.1</a> template built and managed using Angular&#39;s new <a href="https://cli.angular.io" target="_blank" rel="noopener noreferrer">angular-spa</a> tooling. All other SPA Templates (inc. Angular 4) utilize a modernized Webpack build system, pre-configured with npm scripts to perform all necessary debug, production and live watched builds and testing. The included <a href="https://github.com/NetCoreTemplates/vue-spa/blob/master/MyApp/gulpfile.js" target="_blank" rel="noopener noreferrer">gulpfile.js</a> provides a Gulp script around each npm script so they can be run without the command-line, by running them using <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a>&#39;s built-in Task Runner Explorer GUI.</p><p>All SPA templates are configured to use Typed DTOs from <a href="https://docs.servicestack.net/typescript-add-servicestack-reference" target="_blank" rel="noopener noreferrer">TypeScript Add Reference</a> with the generic <a href="https://github.com/ServiceStack/servicestack-client" target="_blank" rel="noopener noreferrer">@servicestack/client</a> <code>JsonServiceClient</code> with concrete Type Definitions except for the Angular 5 template which uses Angular&#39;s built-in Rx-enabled HTTP Client with ServiceStack&#39;s ambient TypeScript declarations, as it&#39;s often preferable to utilize Angular&#39;s built-in dependencies when available.</p><p>All Single Page App Templates are available for both .NET Core 2.0 and <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Framework projects which can be live-previewed and used to create new projects using the template names below:</p><h4 id="angular-5-cli-bootstrap-template" tabindex="-1">Angular 5 CLI Bootstrap Template <a class="header-anchor" href="#angular-5-cli-bootstrap-template" aria-hidden="true">#</a></h4><ul><li>.NET Core: <a href="https://github.com/NetCoreTemplates/angular-spa" target="_blank" rel="noopener noreferrer">angular-spa</a></li><li>.NET Framework: <a href="https://github.com/NetFrameworkTemplates/angular-spa-netfx" target="_blank" rel="noopener noreferrer">angular-spa-netfx</a></li><li>Live Preview: <a href="http://angular-spa.web-templates.io" target="_blank" rel="noopener noreferrer">angular-spa.web-templates.io</a></li></ul><h4 id="angular-4-material-design-lite-template" tabindex="-1">Angular 4 Material Design Lite Template <a class="header-anchor" href="#angular-4-material-design-lite-template" aria-hidden="true">#</a></h4><ul><li>.NET Core: <a href="https://github.com/NetCoreTemplates/angular-lite-spa" target="_blank" rel="noopener noreferrer">angular-lite-spa</a></li><li>.NET Framework: <a href="https://github.com/NetFrameworkTemplates/angular-lite-spa-netfx" target="_blank" rel="noopener noreferrer">angular-lite-spa-netfx</a></li><li>Live Preview: <a href="http://angular-lite-spa.web-templates.io" target="_blank" rel="noopener noreferrer">angular-lite-spa.web-templates.io</a></li></ul><h4 id="react-16-webpack-bootstrap-template" tabindex="-1">React 16 Webpack Bootstrap Template <a class="header-anchor" href="#react-16-webpack-bootstrap-template" aria-hidden="true">#</a></h4><ul><li>.NET Core: <a href="https://github.com/NetCoreTemplates/react-spa" target="_blank" rel="noopener noreferrer">react-spa</a></li><li>.NET Framework: <a href="https://github.com/NetFrameworkTemplates/react-spa-netfx" target="_blank" rel="noopener noreferrer">react-spa-netfx</a></li><li>Live Preview: <a href="http://react-spa.web-templates.io" target="_blank" rel="noopener noreferrer">react-spa.web-templates.io</a></li></ul><h4 id="vue-2-5-webpack-bootstrap-template" tabindex="-1">Vue 2.5 Webpack Bootstrap Template <a class="header-anchor" href="#vue-2-5-webpack-bootstrap-template" aria-hidden="true">#</a></h4><ul><li>.NET Core: <a href="https://github.com/NetCoreTemplates/vue-spa" target="_blank" rel="noopener noreferrer">vue-spa</a></li><li>.NET Framework: <a href="https://github.com/NetFrameworkTemplates/vue-spa-netfx" target="_blank" rel="noopener noreferrer">vue-spa-netfx</a></li><li>Live Preview: <a href="http://vue-spa.web-templates.io" target="_blank" rel="noopener noreferrer">vue-spa.web-templates.io</a></li></ul><h4 id="aurelia-webpack-bootstrap-template" tabindex="-1">Aurelia Webpack Bootstrap Template <a class="header-anchor" href="#aurelia-webpack-bootstrap-template" aria-hidden="true">#</a></h4><ul><li>.NET Core: <a href="https://github.com/NetCoreTemplates/aurelia-spa" target="_blank" rel="noopener noreferrer">aurelia-spa</a></li><li>.NET Framework: <a href="https://github.com/NetFrameworkTemplates/aurelia-spa" target="_blank" rel="noopener noreferrer">aurelia-spa</a></li><li>Live Preview: <a href="http://aurelia-spa.web-templates.io" target="_blank" rel="noopener noreferrer">aurelia-spa.web-templates.io</a></li></ul><h3 id="optimal-dev-workflow-with-hot-reloading" tabindex="-1">Optimal Dev Workflow with Hot Reloading <a class="header-anchor" href="#optimal-dev-workflow-with-hot-reloading" aria-hidden="true">#</a></h3><p>The Webpack templates have been updated to utilize <a href="https://robertknight.github.io/posts/webpack-dll-plugins/" target="_blank" rel="noopener noreferrer">Webpack&#39;s DllPlugin</a> which splits your App&#39;s TypeScript source code from its vendor dependencies for faster incremental build times. With the improved iteration times our recommendation for development is to run a normal Webpack watched build using the <code>dev</code> npm (or Gulp) script:</p><pre><code>$ npm run dev
</code></pre><p>Which will watch and re-compile your App for any changes. These new templates also include a new hot-reload feature which works similar to <a href="https://sharpscript.net/docs/sharp-apps/docs/hot-reloading" target="_blank" rel="noopener noreferrer">#Script Pages hot-reloading</a> where in <strong>DebugMode</strong> it will long poll the server to watch for any modified files in <code>/wwwroot</code> and automatically refresh the page. This provides a hot-reload alternative to <code>npm run dev-server</code> to run a Webpack Dev Server proxy on port <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">http://localhost:3000</a></p><h3 id="deployments" tabindex="-1">Deployments <a class="header-anchor" href="#deployments" aria-hidden="true">#</a></h3><p>When your App is ready to deploy, run the <code>publish</code> npm (or Gulp) script to package your App for deployment:</p><pre><code>npm run publish
</code></pre><p>Which generates a production Webpack client build and <code>dotnet publish</code> release Server build to package your App ready for an XCOPY, rsync or MSDeploy deployment. We used <a href="https://sharpscript.net/docs/sharp-apps/docs/deploying-sharp-apps" target="_blank" rel="noopener noreferrer">rsync and supervisord to deploy</a> each packaged Web template to our Ubuntu Server at the following URL:</p><pre><code>http://&lt;template-name&gt;.web-templates.io
</code></pre><h3 id="wwwroot-webroot-path-for-net-framework-templates" tabindex="-1">/wwwroot WebRoot Path for .NET Framework Templates <a class="header-anchor" href="#wwwroot-webroot-path-for-net-framework-templates" aria-hidden="true">#</a></h3><p>To simplify migration efforts of ServiceStack projects between .NET Core and .NET Framework, all SPA and Website Templates are configured to use .NET Core&#39;s convention of <code>/wwwroot</code> for its public WebRoot Path. The 2 adjustments needed to support this was configuring ServiceStack to use the <code>/wwwroot</code> path in AppHost:</p><div class="language-csharp"><pre><code><span class="token function">SetConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">HostConfig</span> <span class="token punctuation">{</span>
    WebHostPhysicalPath <span class="token operator">=</span> <span class="token function">MapProjectPath</span><span class="token punctuation">(</span><span class="token string">&quot;~/wwwroot&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Then instructing MSBuild to include all <code>wwwroot\**\*</code> files when publishing the project using MS WebDeploy which is contained in the <a href="https://github.com/NetFrameworkTemplates/vue-spa-netfx/blob/master/MyApp/Properties/PublishProfiles/PublishToIIS.pubxml" target="_blank" rel="noopener noreferrer">Properties/PublishProfiles/PublishToIIS.pubxml</a> of each project.</p><h3 id="website-templates" tabindex="-1">Website Templates <a class="header-anchor" href="#website-templates" aria-hidden="true">#</a></h3><p>There are 3 templates for each of the different technologies that can be used with ServiceStack to develop Server HTML Generated Websites and HTTP APIs:</p><h4 id="asp-net-mvc" tabindex="-1"><a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> MVC <a class="header-anchor" href="#asp-net-mvc" aria-hidden="true">#</a></h4><ul><li>.NET Core: <a href="https://github.com/NetCoreTemplates/mvc" target="_blank" rel="noopener noreferrer">mvc</a></li><li>.NET Framework: <a href="https://github.com/NetFrameworkTemplates/mvc-netfx" target="_blank" rel="noopener noreferrer">mvc-netfx</a></li><li><a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core on .NET Framework: <a href="https://github.com/NetFrameworkCoreTemplates/mvc-corefx" target="_blank" rel="noopener noreferrer">mvc-corefx</a></li><li>Live Preview: <a href="http://mvc.web-templates.io" target="_blank" rel="noopener noreferrer">mvc.web-templates.io</a></li></ul><h4 id="servicestack-razor" tabindex="-1">ServiceStack.Razor <a class="header-anchor" href="#servicestack-razor" aria-hidden="true">#</a></h4><ul><li>.NET Core: <a href="https://github.com/NetCoreTemplates/razor" target="_blank" rel="noopener noreferrer">razor</a></li><li>.NET Framework: <a href="https://github.com/NetFrameworkTemplates/razor-netfx" target="_blank" rel="noopener noreferrer"></a></li><li><a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core on .NET Framework: <a href="https://github.com/NetFrameworkCoreTemplates/razor-corefx" target="_blank" rel="noopener noreferrer">razor-corefx</a></li><li>Live Preview: <a href="http://razor.web-templates.io" target="_blank" rel="noopener noreferrer">razor.web-templates.io</a></li></ul><h4 id="script-pages" tabindex="-1">#Script Pages <a class="header-anchor" href="#script-pages" aria-hidden="true">#</a></h4><ul><li>.NET Core: <a href="https://github.com/NetCoreTemplates/script" target="_blank" rel="noopener noreferrer">script</a></li><li>.NET Framework: <a href="https://github.com/NetFrameworkTemplates/script-netfx" target="_blank" rel="noopener noreferrer">script-netfx</a></li><li><a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Core on .NET Framework: <a href="https://github.com/NetFrameworkCoreTemplates/script-corefx" target="_blank" rel="noopener noreferrer">script-corefx</a></li><li>Live Preview: <a href="http://script.web-templates.io" target="_blank" rel="noopener noreferrer">script.web-templates.io</a></li></ul><h4 id="hot-reloading" tabindex="-1">Hot Reloading <a class="header-anchor" href="#hot-reloading" aria-hidden="true">#</a></h4><p>Both <code>razor</code> and <code>templates</code> project enjoy Hot Reloading where in development a long poll is used to detect and reload changes in the current Template Page or static files in <code>/wwwroot</code>.</p><h3 id="empty-web-and-selfhost-templates" tabindex="-1">Empty Web and SelfHost Templates <a class="header-anchor" href="#empty-web-and-selfhost-templates" aria-hidden="true">#</a></h3><p>Those who prefer starting from an Empty slate can use the <code>web</code> template to create the minimal configuration for a Web Application whilst the <code>selfhost</code> template can be used to develop Self-Hosting Console Apps. Both templates still follow our recommended physical project layout but are configured with the minimum number of dependencies, e.g. the <code>selfhost</code> Console App just has a dependency on <a href="https://github.com/NetCoreTemplates/selfhost/blob/f11b25e80752d1fee96ac904a8df07fb150ee746/MyApp/MyApp.csproj#L11-L12" target="_blank" rel="noopener noreferrer">Microsoft.AspNetCore.Server.Kestrel and ServiceStack</a>, in contrast most templates have a dependency on the all-encompasing <code>Microsoft.AspNetCore.All</code> meta package.</p><h4 id="empty-web-template" tabindex="-1">Empty Web Template <a class="header-anchor" href="#empty-web-template" aria-hidden="true">#</a></h4><ul><li>.NET Core: <a href="https://github.com/NetCoreTemplates/web" target="_blank" rel="noopener noreferrer">web</a></li><li>.NET Framework: <a href="https://github.com/NetFrameworkTemplates/web-netfx" target="_blank" rel="noopener noreferrer">web-netfx</a></li><li>Live Preview: <a href="http://web.web-templates.io" target="_blank" rel="noopener noreferrer">web.web-templates.io</a></li></ul><h4 id="empty-selfhost-console-app-template" tabindex="-1">Empty SelfHost Console App Template <a class="header-anchor" href="#empty-selfhost-console-app-template" aria-hidden="true">#</a></h4><ul><li>.NET Core: <a href="https://github.com/NetCoreTemplates/selfhost" target="_blank" rel="noopener noreferrer">selfhost</a></li><li>.NET Framework: <a href="https://github.com/NetFrameworkTemplates/selfhost-netfx" target="_blank" rel="noopener noreferrer">selfhost-netfx</a></li><li>Live Preview: <a href="http://selfhost.web-templates.io" target="_blank" rel="noopener noreferrer">selfhost.web-templates.io</a></li></ul><h3 id="net-core-2-0-servicestack-webapp-template" tabindex="-1">.NET Core 2.0 ServiceStack WebApp Template <a class="header-anchor" href="#net-core-2-0-servicestack-webapp-template" aria-hidden="true">#</a></h3><p>The only .NET Core 2.0 project template not to have a .NET Framework equivalent is <a href="https://github.com/NetCoreTemplates/bare-app" target="_blank" rel="noopener noreferrer">bare-app</a> as it&#39;s a pre-built .NET Core 2.0 App that dramatically simplifies .NET Wep App development by enabling Websites and APIs to be developed instantly without compilation.</p><ul><li>.NET Core: <a href="https://github.com/NetCoreTemplates/bare-app" target="_blank" rel="noopener noreferrer">bare-app</a></li><li>Live Preview: <a href="http://rockwind-app.web-templates.io" target="_blank" rel="noopener noreferrer">rockwind-app.web-templates.io</a></li></ul><p>See <a href="https://sharpscript.net/docs/sharp-apps" target="_blank" rel="noopener noreferrer">sharpscript.net/docs/sharp-apps</a> to learn the different use-cases made possible with Web Apps.</p><h3 id="net-framework-templates" tabindex="-1">.NET Framework Templates <a class="header-anchor" href="#net-framework-templates" aria-hidden="true">#</a></h3><p>Likewise there are 2 .NET Framework Templates without .NET Core 2.0 equivalents as they contain Windows-only .NET Framework dependencies. This includes our React Desktop Template which supports packaging your Web App into 4 different <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a>, Winforms, OSX Cocoa and cross-platform Console App Hosts:</p><h4 id="react-desktop-apps-template" tabindex="-1">React Desktop Apps Template <a class="header-anchor" href="#react-desktop-apps-template" aria-hidden="true">#</a></h4><ul><li>.NET Framework: <a href="https://github.com/NetFrameworkTemplates/react-desktop-apps-netfx" target="_blank" rel="noopener noreferrer">react-desktop-apps-netfx</a></li><li>Live Preview: <a href="http://react-desktop-apps-netfx.web-templates.io" target="_blank" rel="noopener noreferrer">react-desktop-apps-netfx.web-templates.io</a></li></ul><h3 id="windows-service-template" tabindex="-1">Windows Service Template <a class="header-anchor" href="#windows-service-template" aria-hidden="true">#</a></h3><p>You can use <a href="https://github.com/NetFrameworkTemplates/winservice-netfx" target="_blank" rel="noopener noreferrer">winservice-netfx</a> to create a Windows Service but as this requires Visual Studio it&#39;s faster to continue creating new Windows Service projects within <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> using the <strong>ServiceStack Windows Service Empty</strong> Project Template.</p><h2 id="all-apps-and-live-demos-upgraded" tabindex="-1">All Apps and Live Demos Upgraded <a class="header-anchor" href="#all-apps-and-live-demos-upgraded" aria-hidden="true">#</a></h2><p>All existing .NET Core 1.x projects have been upgraded to .NET Core 2.0 and ServiceStack v5, including all <a href="https://github.com/NetCoreApps/LiveDemos" target="_blank" rel="noopener noreferrer">.NET Core Live Demos</a>, all <a href="https://gist.github.com/gistlyn/f555677c98fb235dccadcf6d87b9d098#live-demos" target="_blank" rel="noopener noreferrer">.NET Core 2.0 Sharp Apps</a> and all <a href="https://github.com/ServiceStackApps/LiveDemos" target="_blank" rel="noopener noreferrer">.NET Framework Live Demos</a>.</p><h3 id="servicestack-webapps" tabindex="-1">ServiceStack WebApps <a class="header-anchor" href="#servicestack-webapps" aria-hidden="true">#</a></h3><p>The <a href="https://gist.github.com/gistlyn/f555677c98fb235dccadcf6d87b9d098#live-demos" target="_blank" rel="noopener noreferrer">.NET Core 2.0 Web Apps</a> now use the default <code>WebHost.CreateDefaultBuilder()</code> builder to bootstrap WebApp&#39;s letting you use <code>ASPNETCORE_URLS</code> to specify which URL and port to bind on, simplifying deployment configurations.</p><p>The <code>ASPNETCORE_ENVIRONMENT</code> Environment variable can also be used to configure WebApp&#39;s to run in <code>Production</code> mode. If preferred you can continue using the existing <code>bind</code>, <code>port</code> and <code>debug</code> options in your <code>app.settings</code> to override the default configuration.</p><h3 id="multi-stage-docker-builds" tabindex="-1">Multi-stage Docker Builds <a class="header-anchor" href="#multi-stage-docker-builds" aria-hidden="true">#</a></h3><p>The <a href="https://docs.servicestack.net/deploy-netcore-docker-aws-ecs" target="_blank" rel="noopener noreferrer">.NET Core Apps deployed using Docker</a>now use the <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Team&#39;s <a href="https://docs.microsoft.com/en-us/dotnet/core/docker/building-net-docker-images#your-first-aspnet-core-docker-app" target="_blank" rel="noopener noreferrer">recommended multi-stage Docker Builds</a> where the App is built inside an <code>aspnetcore-build</code> Docker container with its published output copied inside a new <code>aspnetcore</code> runtime Docker container:</p><div class="language-docker"><pre><code><span class="token instruction"><span class="token keyword">FROM</span> microsoft/dotnet:2.1-sdk <span class="token keyword">AS</span> build-env</span>
<span class="token instruction"><span class="token keyword">COPY</span> src /app</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>

<span class="token instruction"><span class="token keyword">RUN</span> dotnet restore --configfile NuGet.Config</span>
<span class="token instruction"><span class="token keyword">RUN</span> dotnet publish -c Release -o out</span>

<span class="token comment"># Build runtime image</span>
<span class="token instruction"><span class="token keyword">FROM</span> microsoft/dotnet:2.1-aspnetcore-runtime</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>
<span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">build-env</span></span> /app/Chat/out .</span>
<span class="token instruction"><span class="token keyword">ENV</span> ASPNETCORE_URLS http://*:5000</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;dotnet&quot;</span>, <span class="token string">&quot;Chat.dll&quot;</span>]</span>
</code></pre></div><p>The smaller footprint required by the <code>aspnetcore</code> runtime reduced the footprint of <a href="https://github.com/NetCoreApps/Chat" target="_blank" rel="noopener noreferrer">.NET Core Chat</a> from <strong>567MB</strong> to <strong>126MB</strong> whilst continuing to run flawlessly in AWS ECS at <a href="http://chat.netcore.io" target="_blank" rel="noopener noreferrer">chat.netcore.io</a>.</p><h3 id="net-core-iappsettings-adapter" tabindex="-1">.NET Core IAppSettings Adapter <a class="header-anchor" href="#net-core-iappsettings-adapter" aria-hidden="true">#</a></h3><p>Most .NET Core Templates are also configured to use the new <code>NetCoreAppSettings</code> adapter to utilize .NET Core&#39;s new <code>IConfiguration</code> config model in ServiceStack by initializing the <code>AppHost</code> with .NET Core&#39;s pre-configured <code>IConfiguration</code> that&#39;s injected into the <a href="https://github.com/NetCoreTemplates/vue-spa/blob/master/MyApp/Startup.cs" target="_blank" rel="noopener noreferrer">Startup.cs</a> constructor, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Startup</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">IConfiguration</span> Configuration <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">Startup</span><span class="token punctuation">(</span><span class="token class-name">IConfiguration</span> configuration<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Configuration <span class="token operator">=</span> configuration<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Configure</span><span class="token punctuation">(</span><span class="token class-name">IApplicationBuilder</span> app<span class="token punctuation">,</span> <span class="token class-name">IHostingEnvironment</span> env<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        app<span class="token punctuation">.</span><span class="token function">UseServiceStack</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">AppHost</span> <span class="token punctuation">{</span>
            AppSettings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NetCoreAppSettings</span><span class="token punctuation">(</span>Configuration<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This lets you use <strong>appsettings.json</strong> and .NET Core&#39;s other Configuration Sources from ServiceStack&#39;s <code>IAppSettings</code> API where it continues to resolve both primitive values and complex Types, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">bool</span></span> debug <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Get</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;DebugMode&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MyConfig</span> myConfig <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Get</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>MyConfig<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span>  ghScopes <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Get</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;oauth.github.Scopes&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">IList<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> fbScopes <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span><span class="token function">GetList</span><span class="token punctuation">(</span><span class="token string">&quot;oauth.facebook.Permissions&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>But instead of a single JSV string value, you&#39;ll need to use the appropriate JSON data type, e.g:</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
    <span class="token property">&quot;DebugMode&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;MyConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Kurt&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Age&quot;</span><span class="token operator">:</span> <span class="token number">27</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;oauth.facebook.Permissions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;oauth.github.Scopes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="pbkdf2-password-hashing-implementation" tabindex="-1">PBKDF2 Password Hashing implementation <a class="header-anchor" href="#pbkdf2-password-hashing-implementation" aria-hidden="true">#</a></h3><p>ServiceStack now uses the same <a href="https://en.wikipedia.org/wiki/PBKDF2" target="_blank" rel="noopener noreferrer">PBKDF2</a> password hashing algorithm <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Identity v3 uses to hash passwords by default for both new users and successful authentication logins where their password will automatically be re-hashed with the new implementation.</p><p>This also means if you wanted to switch, you&#39;ll be able to import <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Identity v3 User Accounts and their Password Hashes into ServiceStack.Auth&#39;s <code>UserAuth</code> tables and vice-versa.</p><h4 id="retain-previous-password-hashing-implementation" tabindex="-1">Retain previous Password Hashing implementation <a class="header-anchor" href="#retain-previous-password-hashing-implementation" aria-hidden="true">#</a></h4><p>If preferred you can revert to using the existing <code>SaltedHash</code> implementation with:</p><div class="language-csharp"><pre><code><span class="token function">SetConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">HostConfig</span> <span class="token punctuation">{</span> 
    UseSaltedHash <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This also supports &quot;downgrading&quot; passwords that were hashed with the new <code>IPasswordHasher</code> provider where it will revert to using the older/weaker <code>SaltedHash</code> implementation on successful authentication.</p><h4 id="override-password-hashing-strength" tabindex="-1">Override Password Hashing Strength <a class="header-anchor" href="#override-password-hashing-strength" aria-hidden="true">#</a></h4><p>The new <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/PasswordHasher.cs" target="_blank" rel="noopener noreferrer">PasswordHasher</a> implementation can also be made to be computationally stronger or weaker by adjusting the iteration count (default 10000), e.g:</p><div class="language-csharp"><pre><code>container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Register</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IPasswordHasher<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">PasswordHasher</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="digest-auth-hashes-only-created-when-needed" tabindex="-1">Digest Auth Hashes only created when needed <a class="header-anchor" href="#digest-auth-hashes-only-created-when-needed" aria-hidden="true">#</a></h4><p>Digest Auth Hashes are now only populated if the <code>DigestAuthProvider</code> is registered. If you ever intend to support Digest access authentication in future but don&#39;t want to register the DigestAuthProvider just yet, you can force ServiceStack to continue to maintain Digest Auth Hashes with:</p><div class="language-csharp"><pre><code><span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthFeature</span> <span class="token punctuation">{</span>
    CreateDigestAuthHashes <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Users that don&#39;t have Digest Auth Hashes will require logging in again in order to have it populated. If you don&#39;t intend to use Digest Auth you can clear the hashes in the <code>DigestHa1Hash</code> column in your <code>UserAuth</code> table which is otherwise unused.</p><h3 id="jwt-authprovider" tabindex="-1">JWT AuthProvider <a class="header-anchor" href="#jwt-authprovider" aria-hidden="true">#</a></h3><p>Previously in order to be able to utilize RefreshToken&#39;s you would need to be also be using an <a href="https://docs.servicestack.net/authentication-and-authorization#user-auth-repository" target="_blank" rel="noopener noreferrer">Auth Repository</a> as it&#39;s the data source used to populate the JWT Token.</p><p>Now Users who are not using an <code>IAuthRepository</code> can instead implement the <code>IUserSessionSource</code> interface:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IUserSessionSource</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name">IAuthSession</span> <span class="token function">GetUserSession</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> userAuthId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>On either their Custom AuthProvider, or if preferred register it as a dependency in the IOC as an alternative source for populating Sessions in new JWT Tokens created using RefreshToken&#39;s. The implementation should only return a populated <code>IAuthSession</code> if the User is allowed to sign-in, i,e. if their account is locked or suspended it should throw an Exception, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">throw</span> HttpError<span class="token punctuation">.</span><span class="token function">Forbidden</span><span class="token punctuation">(</span><span class="token string">&quot;User is suspended&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="send-jwts-in-http-params" tabindex="-1">Send JWTs in HTTP Params <a class="header-anchor" href="#send-jwts-in-http-params" aria-hidden="true">#</a></h4><p>The JWT Auth Provider can <strong>opt-in</strong> to accept JWT&#39;s via the Query String or HTML POST FormData with:</p><div class="language-csharp"><pre><code><span class="token keyword">new</span> <span class="token constructor-invocation class-name">JwtAuthProvider</span> <span class="token punctuation">{</span>
    AllowInQueryString <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    AllowInFormData <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This is useful for situations where it&#39;s not possible to attach the JWT in the HTTP Request Headers or <code>ss-tok</code> Cookie.</p><h4 id="runtime-jwt-configuration" tabindex="-1">Runtime JWT Configuration <a class="header-anchor" href="#runtime-jwt-configuration" aria-hidden="true">#</a></h4><p>To allow for dynamic per request configuration as needed in Multi Tenant applications we&#39;ve added a new <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/Configuration/IAppSettings.cs" target="_blank" rel="noopener noreferrer">IRuntimeAppSettings</a> API which can be registered in your <code>AppHost</code> to return custom per request configuration.</p><p>E.g. this can be used to return a custom <code>AuthKey</code> that should be used to sign JWT Tokens for that request:</p><div class="language-csharp"><pre><code>container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Register</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IRuntimeAppSettings<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">RuntimeAppSettings</span> <span class="token punctuation">{</span> 
    Settings <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span> <span class="token keyword">nameof</span><span class="token punctuation">(</span>JwtAuthProvider<span class="token punctuation">.</span>AuthKey<span class="token punctuation">)</span><span class="token punctuation">,</span> req <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">GetAuthKey</span><span class="token punctuation">(</span><span class="token function">GetTenantId</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The following <code>JwtAuthProvider</code> properties can be overridden by <code>IRuntimeAppSettings</code>:</p><ul><li><code>byte[]</code> AuthKey</li><li><code>RSAParameters</code> PrivateKey</li><li><code>RSAParameters</code> PublicKey</li><li><code>List&lt;byte[]&gt;</code> FallbackAuthKeys</li><li><code>List&lt;RSAParameters&gt;</code> FallbackPublicKeys</li></ul><h3 id="registration" tabindex="-1">Registration <a class="header-anchor" href="#registration" aria-hidden="true">#</a></h3><p>The JWT <code>BearerToken</code> and <code>RefreshToken</code> properties added to <code>RegisterResponse</code> are now populated on Registrations configured to <code>AutoLogin=true</code>.</p><p>Previously users could update their info after they&#39;ve registered using the same built-in <code>/register</code> Service used at registration. This feature is now disabled by default as it&#39;s not an expected capability for a Registration Service, if needed it can be re-enabled with:</p><div class="language-csharp"><pre><code>ServiceStack<span class="token punctuation">.</span>Auth<span class="token punctuation">.</span>RegisterService<span class="token punctuation">.</span>AllowUpdates <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="routes-with-custom-rules" tabindex="-1">Routes with Custom Rules <a class="header-anchor" href="#routes-with-custom-rules" aria-hidden="true">#</a></h3><p>The new <code>Matches</code> property on <code>[Route]</code> and <code>[FallbackRoute]</code> attributes lets you specify an additional custom Rule that requests need to match. This feature is used in all SPA projects to specify that the <code>[FallbackRoute]</code> should only return the SPA <code>index.html</code> for unmatched requests which explicitly requests HTML, i.e:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FallbackRoute</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/{PathInfo*}&quot;</span><span class="token punctuation">,</span> Matches<span class="token operator">=</span><span class="token string">&quot;AcceptsHtml&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FallbackForClientRoutes</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> PathInfo <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This works by matching the <code>AcceptsHtml</code> built-in <code>RequestRules</code> below where the Route will only match the Request if it includes the explicit <code>text/html</code> MimeType in the HTTP Request <code>Accept</code> Header. The <code>AcceptsHtml</code> rule prevents the home page from being returned for missing resource requests like <strong>favicon</strong> which returns a <code>404</code> instead.</p><p>The implementation of all built-in Request Rules:</p><div class="language-csharp"><pre><code><span class="token function">SetConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">HostConfig</span> <span class="token punctuation">{</span>
  RequestRules <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">{</span><span class="token string">&quot;AcceptsHtml&quot;</span><span class="token punctuation">,</span> req <span class="token operator">=&gt;</span> req<span class="token punctuation">.</span>Accept<span class="token punctuation">?.</span><span class="token function">IndexOf</span><span class="token punctuation">(</span>MimeTypes<span class="token punctuation">.</span>Html<span class="token punctuation">,</span> StringComparison<span class="token punctuation">.</span>Ordinal<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;AcceptsJson&quot;</span><span class="token punctuation">,</span> req <span class="token operator">=&gt;</span> req<span class="token punctuation">.</span>Accept<span class="token punctuation">?.</span><span class="token function">IndexOf</span><span class="token punctuation">(</span>MimeTypes<span class="token punctuation">.</span>Json<span class="token punctuation">,</span> StringComparison<span class="token punctuation">.</span>Ordinal<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;AcceptsXml&quot;</span><span class="token punctuation">,</span> req <span class="token operator">=&gt;</span> req<span class="token punctuation">.</span>Accept<span class="token punctuation">?.</span><span class="token function">IndexOf</span><span class="token punctuation">(</span>MimeTypes<span class="token punctuation">.</span>Xml<span class="token punctuation">,</span> StringComparison<span class="token punctuation">.</span>Ordinal<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;AcceptsJsv&quot;</span><span class="token punctuation">,</span> req <span class="token operator">=&gt;</span> req<span class="token punctuation">.</span>Accept<span class="token punctuation">?.</span><span class="token function">IndexOf</span><span class="token punctuation">(</span>MimeTypes<span class="token punctuation">.</span>Jsv<span class="token punctuation">,</span> StringComparison<span class="token punctuation">.</span>Ordinal<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;AcceptsCsv&quot;</span><span class="token punctuation">,</span> req <span class="token operator">=&gt;</span> req<span class="token punctuation">.</span>Accept<span class="token punctuation">?.</span><span class="token function">IndexOf</span><span class="token punctuation">(</span>MimeTypes<span class="token punctuation">.</span>Csv<span class="token punctuation">,</span> StringComparison<span class="token punctuation">.</span>Ordinal<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;IsAuthenticated&quot;</span><span class="token punctuation">,</span> req <span class="token operator">=&gt;</span> req<span class="token punctuation">.</span><span class="token function">IsAuthenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;IsMobile&quot;</span><span class="token punctuation">,</span> req <span class="token operator">=&gt;</span> Instance<span class="token punctuation">.</span>IsMobileRegex<span class="token punctuation">.</span><span class="token function">IsMatch</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>UserAgent<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;{int}/**&quot;</span><span class="token punctuation">,</span> req <span class="token operator">=&gt;</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">TryParse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>PathInfo<span class="token punctuation">.</span><span class="token function">Substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">LeftPart</span><span class="token punctuation">(</span><span class="token string character">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">out</span> _<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;path/{int}/**&quot;</span><span class="token punctuation">,</span> req <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> afterFirst <span class="token operator">=</span> req<span class="token punctuation">.</span>PathInfo<span class="token punctuation">.</span><span class="token function">Substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">RightPart</span><span class="token punctuation">(</span><span class="token string character">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>afterFirst<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">TryParse</span><span class="token punctuation">(</span>afterFirst<span class="token punctuation">.</span><span class="token function">LeftPart</span><span class="token punctuation">(</span><span class="token string character">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">out</span> _<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;**/{int}&quot;</span><span class="token punctuation">,</span> req <span class="token operator">=&gt;</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">TryParse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>PathInfo<span class="token punctuation">.</span><span class="token function">LastRightPart</span><span class="token punctuation">(</span><span class="token string character">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">out</span> _<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;**/{int}/path&quot;</span><span class="token punctuation">,</span> req <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> beforeLast <span class="token operator">=</span> req<span class="token punctuation">.</span>PathInfo<span class="token punctuation">.</span><span class="token function">LastLeftPart</span><span class="token punctuation">(</span><span class="token string character">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> beforeLast <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">TryParse</span><span class="token punctuation">(</span>beforeLast<span class="token punctuation">.</span><span class="token function">LastRightPart</span><span class="token punctuation">(</span><span class="token string character">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">out</span> _<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Routes that contain a <code>Matches</code> rule have a higher precedence then Routes without. We can use this to define multiple idential matching routes to call different Service depending on whether the Path Segment is an integer or not, e.g:</p><div class="language-csharp"><pre><code><span class="token comment">// matches /users/1</span>
<span class="token punctuation">[</span><span class="token function">Route</span><span class="token punctuation">(</span><span class="token string">&quot;/users/{Id}&quot;</span><span class="token punctuation">,</span> Matches <span class="token operator">=</span> <span class="token string">&quot;**/{int}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetUser</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// matches /users/username</span>
<span class="token punctuation">[</span><span class="token function">Route</span><span class="token punctuation">(</span><span class="token string">&quot;/users/{Slug}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetUserBySlug</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Slug <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Other examples utilizing <code>{int}</code> Request Rules:</p><div class="language-csharp"><pre><code><span class="token comment">// matches /1/profile</span>
<span class="token punctuation">[</span><span class="token function">Route</span><span class="token punctuation">(</span><span class="token string">&quot;/{UserId}/profile&quot;</span><span class="token punctuation">,</span> Matches <span class="token operator">=</span> <span class="token string">@&quot;{int}/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetProfile</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token comment">// matches /username/profile</span>
<span class="token punctuation">[</span><span class="token function">Route</span><span class="token punctuation">(</span><span class="token string">&quot;/{Slug}/profile&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetProfileBySlug</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token comment">// matches /users/1/profile/avatar</span>
<span class="token punctuation">[</span><span class="token function">Route</span><span class="token punctuation">(</span><span class="token string">&quot;/users/{UserId}/profile/avatar&quot;</span><span class="token punctuation">,</span> Matches <span class="token operator">=</span> <span class="token string">@&quot;path/{int}/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetProfileAvatar</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token comment">// matches /users/username/profile/avatar</span>
<span class="token punctuation">[</span><span class="token function">Route</span><span class="token punctuation">(</span><span class="token string">&quot;/users/{Slug}/profile/avatar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetProfileAvatarBySlug</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div><p>Another popular use-case is to call different services depending on whether a Request is from an Authenticated User or not:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/feed&quot;</span><span class="token punctuation">,</span> Matches <span class="token operator">=</span> <span class="token string">&quot;IsAuthenticated&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ViewCustomizedUserFeed</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/feed&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ViewPublicFeed</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div><p>This can also be used to call different Services depending if the Request is from a Mobile browser or not:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/search&quot;</span><span class="token punctuation">,</span> Matches <span class="token operator">=</span> <span class="token string">&quot;IsMobile&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MobileSearch</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/search&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DesktopSearch</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div><p>Instead of matching on a pre-configured RequestRule you can instead specify a Regular Expression using the format:</p><pre><code>{Property} =~ {RegEx}
</code></pre><p>Where <code>{Property}</code> is an <code>IHttpRequest</code> property, e.g:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/users/{Id}&quot;</span><span class="token punctuation">,</span> Matches <span class="token operator">=</span> <span class="token string">@&quot;PathInfo =~ \/[0-9]+$&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetUser</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div><p>An exact match takes the format:</p><pre><code>{Property} = {Value}
</code></pre><p>Which you could use to provide a tailored feed for specific clients:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/feed&quot;</span><span class="token punctuation">,</span> Matches <span class="token operator">=</span> <span class="token string">@&quot;UserAgent = specific-client&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomFeedView</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="script-pages-1" tabindex="-1">#Script Pages <a class="header-anchor" href="#script-pages-1" aria-hidden="true">#</a></h3><p><a href="https://sharpscript.net/docs/sharp-pages" target="_blank" rel="noopener noreferrer">#Script Pages</a> gains support for the last missing feature from ServiceStack.Razor with its new <strong>View Pages</strong> support which lets you use <code>.html</code> Template Pages to render the HTML for Services Responses.</p><p>It works similarly to Razor ViewPages where it uses first matching View Page with the Response DTO is injected as the <code>Model</code> property. The View Pages can be in any folder within the <code>/Views</code> folder using the format <code>{PageName}.html</code> where <code>PageName</code> can be either the <strong>Request DTO</strong> or <strong>Response DTO</strong> Name, but all page names within the <code>/Views</code> folder need to be unique.</p><p>Just like ServiceStack.Razor you can also specify to use different Views or Layouts by returning a custom <code>HttpResult</code>, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Any</span><span class="token punctuation">(</span><span class="token class-name">MyRequest</span> request<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HttpResult</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        View <span class="token operator">=</span> <span class="token string">&quot;CustomPage&quot;</span><span class="token punctuation">,</span>
        Template <span class="token operator">=</span> <span class="token string">&quot;_custom-layout&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Or add the <code>[ClientCanSwapTemplates]</code> Request Filter attribute to allow clients to specify which View and Template to use via the query string, e.g: <code>?View=CustomPage&amp;Template=_custom-layout</code>.</p><p>Additional examples of dynamically specifying the View and Template are available in <a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/TemplateTests/TemplateViewPagesTests.cs" target="_blank" rel="noopener noreferrer">TemplateViewPagesTests</a>.</p><h4 id="cascading-layouts" tabindex="-1">Cascading Layouts <a class="header-anchor" href="#cascading-layouts" aria-hidden="true">#</a></h4><p>One difference from Razor is that it uses a cascading <code>_layout.html</code> instead of <code>/Views/Shared/_Layout.cshtml</code>.</p><p>So if your view page was in:</p><pre><code>/Views/dir/MyRequest.html
</code></pre><p>It will use the closest <code>_layout.html</code> it can find starting from:</p><pre><code>/Views/dir/_layout.html
/Views/_layout.html
/_layout.html
</code></pre><h3 id="logging-with-context" tabindex="-1">Logging with Context <a class="header-anchor" href="#logging-with-context" aria-hidden="true">#</a></h3><p><a href="https://github.com/snakefoot" target="_blank" rel="noopener noreferrer">Rolf Kristensen</a> added support for contextual logging with the new <code>ILogWithContext</code> interface and <code>PushProperty</code> extension method which lets you attach additional data to log messages, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">using</span> <span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">PushProperty</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">InfoFormat</span><span class="token punctuation">(</span><span class="token string">&quot;Message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Support for the additional context was added to <code>Log4net</code>, <code>NLog</code> and <code>Serilog</code> logging providers.</p><p>The new <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/Logging/ILogWithException.cs" target="_blank" rel="noopener noreferrer">ILogWithException</a> interface and extension methods provides additional overloads for logging Exceptions with separate message format and args.</p><h3 id="validation" tabindex="-1">Validation <a class="header-anchor" href="#validation" aria-hidden="true">#</a></h3><p>Our internal implementation of <a href="https://github.com/JeremySkinner/FluentValidation" target="_blank" rel="noopener noreferrer">FluentValidation</a> has been upgraded to the latest 7.2 version which will let you take advantage of new features like implementing <a href="https://github.com/JeremySkinner/FluentValidation/wiki/e.-Custom-Validators#using-a-custom-validator" target="_blank" rel="noopener noreferrer">Custom Validators</a>, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomValidationValidator</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AbstractValidator<span class="token punctuation">&lt;</span>CustomValidation<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">CustomValidationValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">RuleFor</span><span class="token punctuation">(</span>request <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span>Code<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">NotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">RuleFor</span><span class="token punctuation">(</span>request <span class="token operator">=&gt;</span> request<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">Custom</span><span class="token punctuation">(</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>Code<span class="token punctuation">?.</span><span class="token function">StartsWith</span><span class="token punctuation">(</span><span class="token string">&quot;X-&quot;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token class-name"><span class="token keyword">var</span></span> propName <span class="token operator">=</span> context<span class="token punctuation">.</span>ParentContext<span class="token punctuation">.</span>PropertyChain<span class="token punctuation">.</span><span class="token function">BuildPropertyName</span><span class="token punctuation">(</span><span class="token string">&quot;Code&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    context<span class="token punctuation">.</span><span class="token function">AddFailure</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ValidationFailure</span><span class="token punctuation">(</span>propName<span class="token punctuation">,</span> <span class="token named-parameter punctuation">error</span><span class="token punctuation">:</span><span class="token string">&quot;Incorrect prefix&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        ErrorCode <span class="token operator">=</span> <span class="token string">&quot;NotFound&quot;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="validators-in-serviceassemblies-auto-wired-by-default" tabindex="-1">Validators in ServiceAssemblies auto-wired by default <a class="header-anchor" href="#validators-in-serviceassemblies-auto-wired-by-default" aria-hidden="true">#</a></h4><p>The <code>ValidationFeature</code> plugin now scans and auto-wires all validators in the <code>AppHost.ServiceAssemblies</code> that&#39;s injected in the AppHost constructor so you&#39;ll no longer need to manually register validators maintained in your <code>ServiceInterface.dll</code> project:</p><div class="language-csharp"><pre><code><span class="token comment">//container.RegisterValidators(typeof(UserValidator).Assembly);</span>
</code></pre></div><p>This default behavior can be <strong>disabled</strong> with:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ValidationFeature</span> <span class="token punctuation">{</span>
    ScanAppHostAssemblies <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="expanded-async-support" tabindex="-1">Expanded Async Support <a class="header-anchor" href="#expanded-async-support" aria-hidden="true">#</a></h3><p>To pre-emptively support .NET Core when they <a href="https://github.com/aspnet/Announcements/issues/252" target="_blank" rel="noopener noreferrer">disable Sync Response writes by default</a> in a future version, we&#39;ve rewritten our internal implementations to write to Responses asynchronously.</p><p>New Async filters are now available to match existing sync filters. It&#39;s very unlikely the classic <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Framework will ever disable sync writes, but if you&#39;re on .NET Core you may want to consider switching to use the newer async API equivalents on <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/IAppHost.cs" target="_blank" rel="noopener noreferrer">IAppHost</a> below:</p><pre><code>GlobalRequestFiltersAsync
GlobalResponseFiltersAsync
GatewayRequestFiltersAsync
GatewayResponseFiltersAsync
GlobalMessageRequestFiltersAsync
GlobalMessageResponseFiltersAsync
</code></pre><h4 id="async-attribute-filters" tabindex="-1">Async Attribute Filters <a class="header-anchor" href="#async-attribute-filters" aria-hidden="true">#</a></h4><p>Async Filter Attributes are available by inheriting the new <code>RequestFilterAsyncAttribute</code> or <code>ResponseFilterAsyncAttribute</code> base classes if you need to call async APIs within Filter Attributes.</p><p>All async equivalents follow the same <a href="https://docs.servicestack.net/order-of-operations" target="_blank" rel="noopener noreferrer">Order of Operations</a> and are executed immediately after any registered sync filters with the same priority.</p><h4 id="async-request-and-response-converters" tabindex="-1">Async Request and Response Converters <a class="header-anchor" href="#async-request-and-response-converters" aria-hidden="true">#</a></h4><p>As they&#39;re not commonly used, the <code>RequestConverters</code> and <code>ResponseConverters</code> were just converted to utilize an Async API.</p><h4 id="async-contenttypes-formats" tabindex="-1">Async ContentTypes Formats <a class="header-anchor" href="#async-contenttypes-formats" aria-hidden="true">#</a></h4><p>There&#39;s also new async registration APIs for Content-Type Formats which perform Async I/O, most serialization formats don&#39;t except for HTML View Engines which can perform Async I/O when rendering views, so they were changed to use the new <code>RegisterAsync</code> APIs:</p><div class="language-csharp"><pre><code>appHost<span class="token punctuation">.</span>ContentTypes<span class="token punctuation">.</span><span class="token function">RegisterAsync</span><span class="token punctuation">(</span>MimeTypes<span class="token punctuation">.</span>Html<span class="token punctuation">,</span> SerializeToStreamAsync<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
appHost<span class="token punctuation">.</span>ContentTypes<span class="token punctuation">.</span><span class="token function">RegisterAsync</span><span class="token punctuation">(</span>MimeTypes<span class="token punctuation">.</span>JsonReport<span class="token punctuation">,</span> SerializeToStreamAsync<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
appHost<span class="token punctuation">.</span>ContentTypes<span class="token punctuation">.</span><span class="token function">RegisterAsync</span><span class="token punctuation">(</span>MimeTypes<span class="token punctuation">.</span>MarkdownText<span class="token punctuation">,</span> SerializeToStreamAsync<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="async-httpwebrequest-service-clients" tabindex="-1">Async HttpWebRequest Service Clients <a class="header-anchor" href="#async-httpwebrequest-service-clients" aria-hidden="true">#</a></h4><p>The Async implementation of the <code>HttpWebRequest</code> based Service Clients was rewritten to use the newer .NET 4.5 Async APIs as the older APM APIs were found to have some async request hanging issues in the .NET Standard 2.0 version of Xamarin.iOS.</p><h3 id="minor-features" tabindex="-1">Minor Features <a class="header-anchor" href="#minor-features" aria-hidden="true">#</a></h3><ul><li><code>ToOptimizedResult()</code> now supports <code>HttpResult</code> responses</li><li><code>Config.DebugMode</code> is being initialized with <code>env.IsDevelopment()</code> in .NET Core</li><li><code>MapProjectPath()</code> uses <code>env.ContentRoot</code> in .NET Core</li><li><code>MetadataDebugTemplate</code> no longer has dependencies on <code>jquip</code> and <code>ss-utils.js</code></li><li><code>IMeta</code>, <code>IHasSessionId</code> and <code>IHasVersion</code> interfaces are now exported in Add ServiceStack Reference</li><li><code>Html.IncludeFile()</code> API for embedding file contents in Razor views</li><li><code>VirtualFiles</code> and <code>VirtualFileSources</code> properties added to base Razor View</li></ul><h2 id="servicestack-npm-packages" tabindex="-1">@servicestack npm packages <a class="header-anchor" href="#servicestack-npm-packages" aria-hidden="true">#</a></h2><p>ServiceStack&#39;s npm packages are now being maintained in npm organization scoped <code>@servicestack</code> packages, if you were using the previous packages you should uninstall them and use the new scoped packages instead:</p><pre><code>$ npm uninstall servicestack-client
$ npm install @servicestack/client

$ npm uninstall -g servicestack-cli
$ npm install -g @servicestack/cli
</code></pre><p>You&#39;ll also need to update your source code references to use the new packages:</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> JsonServiceClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@servicestack/client&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="servicestack-ormlite" tabindex="-1">ServiceStack.OrmLite <a class="header-anchor" href="#servicestack-ormlite" aria-hidden="true">#</a></h2><h3 id="support-for-mysqlconnector-ado-net-provider" tabindex="-1">Support for MySqlConnector <a href="http://ADO.NET" target="_blank" rel="noopener noreferrer">ADO.NET</a> Provider <a class="header-anchor" href="#support-for-mysqlconnector-ado-net-provider" aria-hidden="true">#</a></h3><p><a href="https://github.com/Naragato" target="_blank" rel="noopener noreferrer">@Naragato</a> from the ServiceStack Community contributed a <a href="https://github.com/mysql-net/MySqlConnector" target="_blank" rel="noopener noreferrer">MySqlConnector</a> for OrmLite providing a true async <a href="http://ADO.NET" target="_blank" rel="noopener noreferrer">ADO.NET</a> Provider option for MySql, from their website:</p><blockquote><p>This is a clean-room reimplementation of the MySQL Protocol and is not based on the official connector. It&#39;s fully async, supporting the async <a href="http://ADO.NET" target="_blank" rel="noopener noreferrer">ADO.NET</a> methods added in .NET 4.5 without blocking (or using Task.Run to run synchronous methods on a background thread). It&#39;s also 100% compatible with .NET Core.</p></blockquote><p>To use it, install:</p><pre><code>PM&gt; Install-Package ServiceStack.Ormlite.MySqlConnector
</code></pre><p>Then initialize your DB Factory with:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> dbFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">OrmLiteConnectionFactory</span><span class="token punctuation">(</span>connectionString<span class="token punctuation">,</span> MySqlConnectorDialect<span class="token punctuation">.</span>Provider<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> db <span class="token operator">=</span> dbFactory<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="parametrized-in-values" tabindex="-1">Parametrized IN Values <a class="header-anchor" href="#parametrized-in-values" aria-hidden="true">#</a></h3><p>You can now provide a collection of values and OrmLite will automatically modify the SQL statement and split the values into multiple DB parameters to simplify executing parameterized SQL with multiple IN Values, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> ids <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> results <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Table<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;Id in (@ids)&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> ids <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> names <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;qux&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> results <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">SqlList</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Table<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM Table WHERE Name IN (@names)&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> names <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="rowversion-byte-array" tabindex="-1">RowVersion Byte Array <a class="header-anchor" href="#rowversion-byte-array" aria-hidden="true">#</a></h3><p>To improve reuse of OrmLite&#39;s Data Models in Dapper, <a href="https://github.com/daleholborow" target="_blank" rel="noopener noreferrer">@daleholborow</a> added support for allowing <code>byte[] RowVersion</code> as an alternative to OrmLite&#39;s <code>ulong RowVersion</code> which lets you use OrmLite Data Models with <code>byte[] RowVersion</code> properties in Dapper queries.</p><h3 id="onopenconnection-filter" tabindex="-1">OnOpenConnection Filter <a class="header-anchor" href="#onopenconnection-filter" aria-hidden="true">#</a></h3><p>The <code>OnOpenConnection</code> filter lets you run custom commands after opening a new DB Connection. This feature can be used to easily enable <a href="https://www.sqlite.org/wal.html" target="_blank" rel="noopener noreferrer">Write-Ahead Logging in SQLite</a>:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> dbFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">OrmLiteConnectionFactory</span><span class="token punctuation">(</span><span class="token string">&quot;sqlite.db&quot;</span><span class="token punctuation">,</span> SqliteDialect<span class="token punctuation">.</span>Provider<span class="token punctuation">)</span><span class="token punctuation">;</span>
SqliteDialect<span class="token punctuation">.</span>Provider<span class="token punctuation">.</span>OnOpenConnection <span class="token operator">=</span> db <span class="token operator">=&gt;</span> db<span class="token punctuation">.</span><span class="token function">ExecuteSql</span><span class="token punctuation">(</span><span class="token string">&quot;PRAGMA journal_mode=WAL;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> db <span class="token operator">=</span> dbFactory<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="openasync-apis" tabindex="-1">OpenAsync APIs <a class="header-anchor" href="#openasync-apis" aria-hidden="true">#</a></h3><p>The new <code>OpenDbConnectionAsync()</code> and <code>OpenAsync()</code> alias APIs can be used to Open DB connections asynchronously.</p><h2 id="servicestack-aws" tabindex="-1">ServiceStack.Aws <a class="header-anchor" href="#servicestack-aws" aria-hidden="true">#</a></h2><p>PocoDynamo was updated to utilize <a href="https://aws.amazon.com/blogs/architecture/exponential-backoff-and-jitter/" target="_blank" rel="noopener noreferrer">AWS&#39;s recommended Exponential Backoff And Jitter algorithm</a>.</p><p>This is also available to be used independently with:</p><div class="language-csharp"><pre><code>Thread<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>ExecUtils<span class="token punctuation">.</span><span class="token function">CalculateFullJitterBackOffDelay</span><span class="token punctuation">(</span>retriesAttempted<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">Delay</span><span class="token punctuation">(</span>ExecUtils<span class="token punctuation">.</span><span class="token function">CalculateFullJitterBackOffDelay</span><span class="token punctuation">(</span>retriesAttempted<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h1 id="v4-5-14-release-notes" tabindex="-1"><a href="/releases/v4.5.14.html">v4.5.14 Release Notes</a> <a class="header-anchor" href="#v4-5-14-release-notes" aria-hidden="true">#</a></h1><p>In this release we&#39;ve added a new simple, fast and highly-versatile alternative to Razor for developing Server generated Websites, official support for .NET Core 2.0, new ServiceStack.Azure NuGet package for deeper integration with ServiceStack Apps hosted on Azure and a number of new features and enhancements across ServiceStack.</p><p>Please see the full release notes for what&#39;s in this Release: <a href="https://docs.servicestack.net/releases/v4.5.14" target="_blank" rel="noopener noreferrer">https://docs.servicestack.net/releases/v4.5.14</a></p><h3 id="net-core-2-0-ready" tabindex="-1">.NET Core 2.0 Ready <a class="header-anchor" href="#net-core-2-0-ready" aria-hidden="true">#</a></h3><p>Firstly we’d like to announce this Release adds support for the newly released .NET Core 2.0. Our test suites have been upgraded to run .NET Core 2.0 as well as some of our existing .NET Core Apps. All new Web Apps created in this release were developed on .NET Core 2.0 which we believe is the first .NET Core release that should be given first consideration for development of new greenfield .NET Web Apps to see if it’s able to meet your requirements.</p><h2 id="script" tabindex="-1">#Script! <a class="header-anchor" href="#script" aria-hidden="true">#</a></h2><p>We&#39;re super excited to announce <a href="https://sharpscript.net" target="_blank" rel="noopener noreferrer">#Script</a>. At its core <code>#Script</code> is a simple, fast and versatile general-purpose dynamic templating language for .NET and .NET Core. It requires no pre-compilation, is lazily loaded and Starts up instantly with fast runtime performance, is late-bound with no binary coupling, is highly extensible and is evaluated in a Sandbox with complete fine-grain control over what functionality is available to templates running in different contexts.</p><p>These characteristics opens up Templates into a number of exciting new use-cases, some of which we cover in our comprehensive and interactive documentation at <a href="https://sharpscript.net" target="_blank" rel="noopener noreferrer">sharpscript.net/</a>.</p><h3 id="starter-projects" tabindex="-1">Starter Projects <a class="header-anchor" href="#starter-projects" aria-hidden="true">#</a></h3><p>The Starter Projects below provide a quick way to get started with a pre-configured ServiceStack Template App:</p><h4 id="net-core-2-0-bootstrap-starter" tabindex="-1"><a href="https://github.com/NetCoreApps/TemplatesBootstrapStarter" target="_blank" rel="noopener noreferrer">.NET Core 2.0 Bootstrap Starter</a> <a class="header-anchor" href="#net-core-2-0-bootstrap-starter" aria-hidden="true">#</a></h4><p>Clone the <a href="https://github.com/NetCoreApps/TemplatesBootstrapStarter" target="_blank" rel="noopener noreferrer">TemplatesBootstrapStarter</a> GitHub project to start from a Bootstrap v4 and jQuery .NET Core 2.0 App:</p><p><a href="https://github.com/NetCoreApps/TemplatesBootstrapStarter" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/NetCoreApps/TemplatePages/master/src/wwwroot/assets/img/screenshots/templates-bootstrap.png" alt=""></a></p><h4 id="asp-net-v4-5-bootstrap-starter" tabindex="-1"><a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> v4.5 Bootstrap Starter <a class="header-anchor" href="#asp-net-v4-5-bootstrap-starter" aria-hidden="true">#</a></h4><p>For <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> v4.5 projects create a new <strong>ServiceStack <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> Templates with Bootstrap</strong> from the <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> Templates in <a href="https://docs.servicestack.net/templates-overview#servicestackvs-vsnet-extension" target="_blank" rel="noopener noreferrer">ServiceStackVS VS.NET Extension</a> to create an <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> v4.5 Project using <a href="https://docs.servicestack.net/create-your-first-webservice#step-4-exploring-the-servicestack-solution" target="_blank" rel="noopener noreferrer">ServiceStack&#39;s recommended project structure</a>:</p><p><a href="https://github.com/ServiceStack/ServiceStackVS" target="_blank" rel="noopener noreferrer"><img src="https://sharpscript.net/assets/img/screenshots/ssvs-bootstrap.png" alt=""></a></p><h2 id="why-templates" tabindex="-1">Why Templates? <a class="header-anchor" href="#why-templates" aria-hidden="true">#</a></h2><p>We developed Templates because we want to be able to offer a simple, clean, highly-productive and innovative end-to-end solution for building ServiceStack Web Apps without the external baggage and issues Razor brings to a project. If interested in the finer details, we&#39;ve published some of the limitations and issues we&#39;ve hit in <a href="https://docs.servicestack.net/why-not-razor" target="_blank" rel="noopener noreferrer">Why not Razor</a>.</p><h3 id="a-new-net-templating-language-was-born" tabindex="-1">A new .NET templating language was born <a class="header-anchor" href="#a-new-net-templating-language-was-born" aria-hidden="true">#</a></h3><p>So we set out to build the server templating language we wanted, one without the complexity, issues, design problems and static coupling of Razor, with great Startup and runtime performance, is highly-extensible and promotes reuse, integrates cleanly with .NET but still adopts the strengths that make the premier JavaScript frameworks enjoyable and productive to build HTML UIs with.</p><p>We didn&#39;t want to invent a new syntax so we evaluated various syntax from multiple JavaScript frameworks and ultimately settled on <a href="https://vuejs.org/v2/guide/filters.html" target="_blank" rel="noopener noreferrer">Vue.js Filters syntax</a> which has optimal syntax for a templating language, we also share Vue&#39;s primary focus on simplicity and its incremental approach to layering advanced functionality, a goal that drove the design and development of <code>#Script</code>. The <a href="https://sharpscript.net/docs/syntax" target="_blank" rel="noopener noreferrer">Syntax</a> is essentially compatible with Vue.js filters including supporting JavaScript&#39;s syntax for its native data types and function calls.</p><p>Within this minimal syntax we&#39;ve been able to achieve a highly versatile dynamic template language whose expressive power comes from its <a href="https://sharpscript.net/docs/methods" target="_blank" rel="noopener noreferrer">filters</a> of which we&#39;ve included a <a href="https://sharpscript.net/docs/filters-reference" target="_blank" rel="noopener noreferrer">comprehensive suite</a> to handle many of the tasks commonly required in Templates and Web Apps.</p><h3 id="meet-script" tabindex="-1">Meet <code>#Script</code> <a class="header-anchor" href="#meet-script" aria-hidden="true">#</a></h3><p>Even in this initial release we&#39;re extremely pleased with its current form. It&#39;s not coupled to any external tooling or susceptible to any of the external factors that has plagued us with Razor. It&#39;s highly testable by design with unit tests being trivial to write that it&#39;s our most tested feature with over 350 new tests added to support its current feature-set, it&#39;s also our <a href="https://sharpscript.net" target="_blank" rel="noopener noreferrer">most documented feature</a>.</p><p>It&#39;s small, lightweight footprint and built-in Hot Reloading provides a fun, clean and productive alternative to MVC Razor that&#39;s easily integrated into any web framework and runs identically in every platform ServiceStack runs on, it can also be returned in <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> MVC and <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> MVC Core Controllers - in all cases, using the same <a href="https://sharpscript.net/docs/introduction#instant-startup" target="_blank" rel="noopener noreferrer">high-performance implementation</a> to asynchronously write to a forward-only OutputStream for max performance and maximum potential reuse of your code.</p><p>Templates are lazily loaded and late-bound for Instant Startup, doesn&#39;t require any pre-compilation, have coupling to any external configuration files, build tools, designer tooling or have any special deployment requirements. It can be used as a general purpose templating language to enhance any text format and includes built-in support for <code>.html</code>.</p><p>Templates are evaluated in an Isolated Sandboxed that enables fine-grained control over exactly what functionality and instances are available to different Templates. They&#39;re pre-configured with a comprehensive suite of safe Default Filters which when running in trusted contexts can easily be granted access to enhanced functionality.</p><p>Templates are designed to be incrementally adoptable where its initial form is ideal for non-programmers, that can gradually adopt more power and functionality when needed where they can leverage existing Services or MVC Controllers to enable an MVC programming model or have <code>.html</code> pages upgraded to use Code Pages where they can utilize the full unlimited power of the C# programming language to enable precise control over the rendering of pages and partials. Code pages take precedence and are interchangeable wherever normal <code>.html</code> pages are requested making them a non-invasive layered solution whenever advanced functionality is required.</p><h3 id="surrounding-ecosystem" tabindex="-1">Surrounding Ecosystem <a class="header-anchor" href="#surrounding-ecosystem" aria-hidden="true">#</a></h3><p>These qualities opens Templates up to a number of <a href="https://sharpscript.net/usecases/" target="_blank" rel="noopener noreferrer">new use-cases</a> that&#39;s better suited than Razor for maintaining content-heavy websites, live documents, Email Templates and can easily introspect the state of running .NET Apps where they provide valuable insight at a glance with support for Adhoc querying.</p><h2 id="web-apps" tabindex="-1">Web Apps <a class="header-anchor" href="#web-apps" aria-hidden="true">#</a></h2><p>One use-case made possible by Templates we&#39;re extremely excited about is <a href="https://sharpscript.net/docs/sharp-apps" target="_blank" rel="noopener noreferrer">Web Apps</a> - a new approach to dramatically simplify .NET Web App development and provide the most productive development experience possible whilst maximizing reuse and component sharing.</p><p>Web Apps leverages Templates to develop entire content-rich, data-driven websites without needing to write any C#, compile projects or manually refresh pages - resulting in the easiest and fastest way to develop Web Apps in .NET!</p><h3 id="ultimate-simplicity" tabindex="-1">Ultimate Simplicity <a class="header-anchor" href="#ultimate-simplicity" aria-hidden="true">#</a></h3><p>Not having to write any C# code or perform any app builds dramatically reduces the cognitive overhead and conceptual knowledge required for development where the only thing front-end Web developers need to know is <a href="https://sharpscript.net/docs/syntax" target="_blank" rel="noopener noreferrer">Template&#39;s syntax</a> and what <a href="https://sharpscript.net/docs/filters-reference" target="_blank" rel="noopener noreferrer">filters are available</a> to call. Because of Template&#39;s high-fidelity with JavaScript, developing a Website with Templates will be instantly familiar to JavaScript developers despite calling and binding directly to .NET APIs behind the scenes.</p><p>All complexity with C#, .NET, namespaces, references, .dlls, strong naming, packages, MVC, Razor, build tools, IDE environments, etc has been eliminated leaving all Web Developers needing to do is run a cross-platform <a href="https://github.com/ServiceStack/Web" target="_blank" rel="noopener noreferrer">web/app.dll</a> .NET Core 2.0 executable and configure a simple <a href="https://github.com/NetCoreTemplates/bare-app/blob/master/app.settings" target="_blank" rel="noopener noreferrer">app.settings</a> text file to specify which website folder to use, which ServiceStack features to enable, which db or redis providers to connect to, etc.</p><h3 id="rapid-development-workflow" tabindex="-1">Rapid Development Workflow <a class="header-anchor" href="#rapid-development-workflow" aria-hidden="true">#</a></h3><p>The iterative development experience is also unparalleled for a .NET App, no compilation is required so you can just leave the <code>web/app.dll</code> running whilst you add the template <code>.html</code> files needed to build your App and thanks to the built-in <a href="https://sharpscript.net/docs/hot-reloading" target="_blank" rel="noopener noreferrer">Hot Reloading</a> support, pages will refresh automatically as you save. You&#39;ll just need to do a full page refresh when modifying external .css/.js files to bypass the browser&#39;s cache and you&#39;ll need to restart <code>web/app.dll</code> to pick up any changes to your <code>app.settings</code> or .dlls to your <code>/plugins</code> folder.</p><h3 id="pure-cloud-apps" tabindex="-1">Pure Cloud Apps <a class="header-anchor" href="#pure-cloud-apps" aria-hidden="true">#</a></h3><p>Web Apps also enable the development of <a href="https://sharpscript.net/docs/sharp-apps#pure-cloud-apps" target="_blank" rel="noopener noreferrer">Pure Cloud Apps</a> where the same Web App can be developed and run entirely on <strong>AWS S3 and RDS</strong> or <strong>Azure Blob Storage and SQL Server</strong> by just changing the <code>app.settings</code> that&#39;s deployed with the pre-compiled <a href="https://github.com/ServiceStack/Web" target="_blank" rel="noopener noreferrer">Web App Binary</a>.</p><h2 id="example-web-apps" tabindex="-1">Example Web Apps <a class="header-anchor" href="#example-web-apps" aria-hidden="true">#</a></h2><p>We&#39;ve developed a number of <a href="https://sharpscript.net/docs/sharp-apps" target="_blank" rel="noopener noreferrer">Web Apps</a> to illustrate the various features available and to showcase its strengths and the different kind of Web Apps that can easily be developed with it. The source code for each app is maintained in <a href="https://github.com/sharp-apps" target="_blank" rel="noopener noreferrer">NetCoreWebApps</a> and each Web App runs the same <a href="https://github.com/ServiceStack/Web" target="_blank" rel="noopener noreferrer">pre-compiled web/app.dll binary</a>.</p><h2 id="metadata-debug-inspector" tabindex="-1">Metadata Debug Inspector <a class="header-anchor" href="#metadata-debug-inspector" aria-hidden="true">#</a></h2><p><a href="https://sharpscript.net/metadata/debug" target="_blank" rel="noopener noreferrer"><img src="https://sharpscript.net/assets/img/screenshots/metadata-debug.png" alt=""></a></p><p>All ServiceStack Apps now have access to rich introspection and queryability for inspecting remote ServiceStack instances with the new <a href="https://sharpscript.net/docs/servicestack-scripts#debug-template" target="_blank" rel="noopener noreferrer">Metadata Debug Inspector</a>.</p><p>The Debug Template is a Service in <code>SharpPagesFeature</code> that&#39;s pre-registered in <a href="https://docs.servicestack.net/debugging#debugmode" target="_blank" rel="noopener noreferrer">DebugMode</a>. The Service can also be available when not in <strong>DebugMode</strong> by enabling it with:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">SharpPagesFeature</span> <span class="token punctuation">{</span> 
    MetadataDebugAdminRole <span class="token operator">=</span> RoleNames<span class="token punctuation">.</span>Admin<span class="token punctuation">,</span>        <span class="token comment">// Only allow Admin users</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>This registers the Service but limits it to Users with the <code>Admin</code> role, alternatively you configure an <a href="https://docs.servicestack.net/debugging#authsecret" target="_blank" rel="noopener noreferrer">Admin Secret</a>:</p><div class="language-csharp"><pre><code><span class="token function">SetConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">HostConfig</span> <span class="token punctuation">{</span> AdminAuthSecret <span class="token operator">=</span> <span class="token string">&quot;secret&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Which will let you access it by appending the authsecret to the querystring: <code>/metadata/debug?authsecret=secret</code></p><p>Alternatively if preferred you can make the Debug Template Service available to all users with:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">SharpPagesFeature</span> <span class="token punctuation">{</span> 
    MetadataDebugAdminRole <span class="token operator">=</span> RoleNames<span class="token punctuation">.</span>AllowAnyUser<span class="token punctuation">,</span>  <span class="token comment">// Allow Authenticated Users</span>
    MetadataDebugAdminRole <span class="token operator">=</span> RoleNames<span class="token punctuation">.</span>AllowAnon<span class="token punctuation">,</span>     <span class="token comment">// Allow anyone</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Which is the configuration that allows <a href="https://sharpscript.net/metadata/debug" target="_blank" rel="noopener noreferrer">sharpscript.net/metadata/debug</a> to be accessible to anyone.</p><h2 id="javascript-utils" tabindex="-1">JavaScript Utils <a class="header-anchor" href="#javascript-utils" aria-hidden="true">#</a></h2><p>The development of Templates also brought with it the development of a number of high-performance utilities that are useful for use on their own. The ServiceStack.Text JSON Serializer was only designed for serializing Typed POCOs, you can still use it to <a href="https://github.com/ServiceStack/ServiceStack.Text#supports-dynamic-json" target="_blank" rel="noopener noreferrer">deserialize dynamic JSON</a> but you would need to specify the Type to deserialize into on the call-site otherwise the value would be returned as a string.</p><p>Templates implementation of JavaScript preserves the Type which can be used to parse JavaScript or JSON literals:</p><div class="language-csharp"><pre><code>JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span>      <span class="token comment">//= int 1 </span>
JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;1.1&quot;</span><span class="token punctuation">)</span>    <span class="token comment">//= double 1.1</span>
JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;&#39;a&#39;&quot;</span><span class="token punctuation">)</span>    <span class="token comment">//= string &quot;a&quot;</span>
JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;{a:1}&quot;</span><span class="token punctuation">)</span>  <span class="token comment">//= new Dictionary&lt;string, object&gt; { {&quot;a&quot;, 1 } }</span>
</code></pre></div><p>It can be used to parse dynamic JSON and any primitive JavaScript data type. The inverse API of <code>JSON.stringify()</code> is also available.</p><h3 id="eval" tabindex="-1">Eval <a class="header-anchor" href="#eval" aria-hidden="true">#</a></h3><p>Eval is useful if you want to execute custom JavaScript functions, or if you want to have a text DSL or scripting language for executing custom logic or business rules you want to be able to change without having to compile or redeploy your App. It uses <a href="https://sharpscript.net/docs/sandbox" target="_blank" rel="noopener noreferrer">Templates Sandbox</a> which lets you evaluate the script within a custom scope that defines what functions and arguments it has access to, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomFilter</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">TemplateFilter</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">reverse</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> text<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name"><span class="token keyword">string</span></span><span class="token punctuation">(</span>text<span class="token punctuation">.</span><span class="token function">Reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name"><span class="token keyword">var</span></span> scope <span class="token operator">=</span> JS<span class="token punctuation">.</span><span class="token function">CreateScope</span><span class="token punctuation">(</span>
         <span class="token named-parameter punctuation">args</span><span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> <span class="token punctuation">{</span> <span class="token string">&quot;arg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token named-parameter punctuation">functions</span><span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">CustomFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

JS<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;arg&quot;</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span>                                        <span class="token comment">//= &quot;value&quot;</span>
JS<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;reverse(arg)&quot;</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span>                               <span class="token comment">//= &quot;eulav&quot;</span>
JS<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;itemsOf(3, padRight(reverse(arg), 8, &#39;_&#39;))&quot;</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span> <span class="token comment">//= [&quot;eulav___&quot;, &quot;eulav___&quot;, &quot;eulav___&quot;]</span>

<span class="token comment">//= { a: [&quot;eulav___&quot;, &quot;eulav___&quot;, &quot;eulav___&quot;] }</span>
JS<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;{a: itemsOf(3, padRight(reverse(arg), 8, &#39;_&#39;)) }&quot;</span><span class="token punctuation">,</span> scope<span class="token punctuation">)</span>
</code></pre></div><h2 id="simple-container" tabindex="-1">Simple Container <a class="header-anchor" href="#simple-container" aria-hidden="true">#</a></h2><p>In order for Templates to be free of external dependencies and be decoupled from any one Web Framework but still retain AutoWired functionality it uses a new <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Common/SimpleContainer.cs" target="_blank" rel="noopener noreferrer">SimpleContainer</a> which implements <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/IContainer.cs" target="_blank" rel="noopener noreferrer">IContainer</a> - the smallest interface we could define for a minimal but useful IOC:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IContainer</span>
<span class="token punctuation">{</span>
    <span class="token return-type class-name">Func<span class="token punctuation">&lt;</span><span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> <span class="token function">CreateFactory</span><span class="token punctuation">(</span><span class="token class-name">Type</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name">IContainer</span> <span class="token function">AddSingleton</span><span class="token punctuation">(</span><span class="token class-name">Type</span> type<span class="token punctuation">,</span> <span class="token class-name">Func<span class="token punctuation">&lt;</span><span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token return-type class-name">IContainer</span> <span class="token function">AddTransient</span><span class="token punctuation">(</span><span class="token class-name">Type</span> type<span class="token punctuation">,</span> <span class="token class-name">Func<span class="token punctuation">&lt;</span><span class="token keyword">object</span><span class="token punctuation">&gt;</span></span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Resolve</span><span class="token punctuation">(</span><span class="token class-name">Type</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">Exists</span><span class="token punctuation">(</span><span class="token class-name">Type</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>It&#39;s late-bound API supports registering dependencies in the 2 most useful Scopes: Singleton and Transient. Leveraging the utility of extension methods, every IOC implementing <code>IContainer</code> also gains the same <a href="https://github.com/ServiceStack/ServiceStack/blob/710da129005f3df5dc93ea0e51e6d8a8681ec04e/src/ServiceStack.Common/SimpleContainer.cs#L114" target="_blank" rel="noopener noreferrer">Typed Generic API</a>, e.g:</p><div class="language-csharp"><pre><code>container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddTransient</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IFoo<span class="token punctuation">,</span>Foo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddTransient</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IFoo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddTransient</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IBar<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
container<span class="token punctuation">.</span><span class="token function">AddTransient</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FooImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddTransient</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>FooImpl<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

container<span class="token punctuation">.</span><span class="token function">AddSingleton</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Foo</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
container<span class="token punctuation">.</span><span class="token function">AddSingleton</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> foo<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> foo <span class="token operator">=</span> container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Resolve</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IFoo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> bar <span class="token operator">=</span> container<span class="token punctuation">.</span><span class="token function">Resolve</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">IBar</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> hasFoo <span class="token operator">=</span> container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Exists</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IFoo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Both <code>Funq.Container</code> and <code>SimpleContainer</code> implement the <code>IContainer</code> interface which <a href="https://sharpscript.net/docs/sharp-pages" target="_blank" rel="noopener noreferrer">ServiceStack&#39;s SharpPagesFeature</a> utilizes to replace the TemplateContext&#39;s built-in IOC to use Funq where it shares the same IOC instance and is able to resolve ServiceStack&#39;s AppHost dependencies.</p><h3 id="fast-small-dependency-free-ioc" tabindex="-1">Fast, small, dependency-free IOC <a class="header-anchor" href="#fast-small-dependency-free-ioc" aria-hidden="true">#</a></h3><p>We&#39;re happy to report <code>SimpleContainer</code> is even smaller and faster than Funq and only requires a dependency to <code>ServiceStack.Common.dll</code>. It supports AutoWiring, constructor and public property injection but not Funq&#39;s other less used features like Child Containers, named dependencies and Request Scoped dependencies.</p><h2 id="simple-appsettings" tabindex="-1">Simple AppSettings <a class="header-anchor" href="#simple-appsettings" aria-hidden="true">#</a></h2><p><a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Common/SimpleAppSettings.cs" target="_blank" rel="noopener noreferrer">SimpleAppSettings</a> is an <a href="https://docs.servicestack.net/appsettings" target="_blank" rel="noopener noreferrer">IAppSettings provider</a> that you can use to maintain substitutable App Configuration without a dependency to <code>ServiceStack.dll</code> which can be populated with a string Dictionary:</p><div class="language-csharp"><pre><code>AppSettings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SimpleAppSettings</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&quot;EnableFeature.1&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&quot;AllowedUsers&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Tom,Mick,Harry&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">string</span></span> <span class="token keyword">value</span> <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">bool</span></span> enableFeature1 <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;EnableFeature.1&quot;</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">defaultValue</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">bool</span></span> enableFeature2 <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;EnableFeature.2&quot;</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">defaultValue</span><span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">IList<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> allowedUsers <span class="token operator">=</span> AppSettings<span class="token punctuation">.</span><span class="token function">GetList</span><span class="token punctuation">(</span><span class="token string">&quot;AllowedUsers&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="virtual-file-system" tabindex="-1">Virtual File System <a class="header-anchor" href="#virtual-file-system" aria-hidden="true">#</a></h2><p>The major change added in order for Templates to be isolated from the ServiceStack Web Framework was to decouple the <a href="https://docs.servicestack.net/virtual-file-system" target="_blank" rel="noopener noreferrer">Virtual File System providers</a> from ServiceStack&#39;s AppHost and move them to <code>ServiceStack.Common</code>.</p><p>This separation makes it easier to use VFS providers outside of ServiceStack AppHost which is a useful abstraction for copying files from different file sources as done in the <a href="https://github.com/ServiceStack/dotnet-app/tree/master/src/support/copy-files" target="_blank" rel="noopener noreferrer">copy-files</a> project to upload files to AWS S3 or Azure Blob Storage.</p><h3 id="addvirtualfilesources" tabindex="-1">AddVirtualFileSources <a class="header-anchor" href="#addvirtualfilesources" aria-hidden="true">#</a></h3><p>Registering an additional VFS provider in AppHost&#39;s previously required overriding <code>GetVirtualFileSources()</code>, they can now also be registered by adding them to <code>AddVirtualFileSources</code>, e.g:</p><div class="language-csharp"><pre><code>AddVirtualFileSources<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>vfsProvider<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="vfs-breaking-change" tabindex="-1">VFS Breaking Change <a class="header-anchor" href="#vfs-breaking-change" aria-hidden="true">#</a></h3><p>ServiceStack App&#39;s typically don&#39;t create instances of VFS providers directly but all VFS provider constructors needed to be changed to remove its <code>IAppHost</code> dependency. We used the same breaking change window to also give the user-facing VFS providers better names, changing from <code>*VirtualPathProvider</code> to <code>*VirtualFiles</code>, e.g:</p><ul><li><code>FileSystemVirtualFiles</code></li><li><code>MemoryVirtualFiles</code></li><li><code>ResourceVirtualFiles</code></li><li><code>S3VirtualFiles</code></li><li><code>AzureBlobVirtualFiles</code></li><li><code>MultiVirtualFiles</code></li></ul><p>The VFS providers and extension methods in <code>ServiceStack.Common</code> use the same <code>ServiceStack.IO</code> namespace that the <a href="https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Interfaces/IO" target="_blank" rel="noopener noreferrer">VFS Interfaces are defined in</a> where typically this would be the only change required, including <code>using ServiceStack.IO;</code> if you&#39;re using any VFS extension methods.</p><h2 id="servicestack-azure" tabindex="-1">ServiceStack.Azure <a class="header-anchor" href="#servicestack-azure" aria-hidden="true">#</a></h2><p>We&#39;ve added deeper integration with Azure with <a href="https://github.com/ServiceStack/ServiceStack.Azure" target="_blank" rel="noopener noreferrer">ServiceStack.Azure</a> - a new project containing Azure backed managed implementations for popular ServiceStack providers (as we&#39;ve done with <a href="https://github.com/ServiceStack/ServiceStack.Aws" target="_blank" rel="noopener noreferrer">ServiceStack.Aws</a>):</p><ul><li><code>ServiceBusMqServer</code> - <a href="https://docs.servicestack.net/messaging" target="_blank" rel="noopener noreferrer">MQ Server</a> for invoking ServiceStack Services via Azure ServiceBus</li><li><code>AzureBlobVirtualFiles</code> - <a href="https://docs.servicestack.net/virtual-file-system" target="_blank" rel="noopener noreferrer">Virtual File System</a> provider using Azure Blob Storage</li><li><code>AzureTableCacheClient</code> - <a href="https://docs.servicestack.net/caching" target="_blank" rel="noopener noreferrer">Cache Client</a> provider using Azure Table Storage</li></ul><p>We intend to add support for additional providers in future and make it even easier for ServiceStack Apps to be able to move freely between hosting on an Azure or an AWS managed infrastructure.</p><h3 id="servicebus-mq-server" tabindex="-1">ServiceBus MQ Server <a class="header-anchor" href="#servicebus-mq-server" aria-hidden="true">#</a></h3><p>Configuring to use ServiceBus is the same as other MQ Servers, by first registering the ServiceBus <code>IMessageService</code> provider followed by registering all ServiceStack Services you want to be able to invoke via MQ&#39;s:</p><div class="language-csharp"><pre><code>container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Register</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IMessageService<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ServiceBusMqServer</span><span class="token punctuation">(</span>ConnectionString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> mqServer <span class="token operator">=</span> container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Resolve</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IMessageService<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mqServer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterHandler</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>MyRequest<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>ExecuteMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>

AfterInitCallbacks<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>appHost <span class="token operator">=&gt;</span> mqServer<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="azure-blob-storage-vfs" tabindex="-1">Azure Blob Storage VFS <a class="header-anchor" href="#azure-blob-storage-vfs" aria-hidden="true">#</a></h3><p>The <code>AzureBlobVirtualFiles</code> VFS provider can be used to serve website content directly from an Azure Blob Storage container:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppHost</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AppHostBase</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Configure</span><span class="token punctuation">(</span><span class="token class-name">Container</span> container<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//Specify to use Azure Blob Container for uploading / writing files</span>
        VirtualFiles <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AzureBlobVirtualFiles</span><span class="token punctuation">(</span>connectionString<span class="token punctuation">,</span> containerName<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//Register an additional File Source for static files</span>
        AddVirtualFileSources<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>VirtualFiles<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="azure-table-storage-cache-client" tabindex="-1">Azure Table Storage Cache Client <a class="header-anchor" href="#azure-table-storage-cache-client" aria-hidden="true">#</a></h3><p>The <code>AzureTableCacheClient</code> <a href="https://docs.servicestack.net/caching" target="_blank" rel="noopener noreferrer">Caching provider</a> lets you use an Azure Table for your App&#39;s distributed caching:</p><div class="language-csharp"><pre><code>container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Register</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ICacheClient<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AzureTableCacheClient</span><span class="token punctuation">(</span>CacheConnectionString<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="servicestack" tabindex="-1">ServiceStack <a class="header-anchor" href="#servicestack" aria-hidden="true">#</a></h2><p>A number of internal improvements were made for making ServiceStack run better than ever on .NET Core:</p><h3 id="internal-improvements" tabindex="-1">Internal improvements <a class="header-anchor" href="#internal-improvements" aria-hidden="true">#</a></h3><p>In preparation for .NET Core&#39;s plans <a href="https://github.com/aspnet/Announcements/issues/252" target="_blank" rel="noopener noreferrer">to disallow sync read / writes to Request and Responses</a> a number of internal handlers were refactored to use async APIs when writing to the Response Stream including static files and all raw <code>byte[]</code>, <code>Stream</code> responses, including HTTP Partial Content responses. Custom Results can implement the new <code>IStreamWriterAsync</code> and <code>IPartialWriterAsync</code> interfaces to return results that asynchronously writes to the Response Stream.</p><p><a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a>, HttpListener and .NET Core hosts were refactored to use as much of the same code-paths as possible to ensure better consistency and code maintenance.</p><p>The HTTP Request Pipeline was refactored to only use VFS APIs when determining static file requests resulting in more consistent behavior for all VFS sources.</p><p>Requests to directories are automatically redirected to enforce a trailing slash, it can be disabled with <code>Config.RedirectDirectoriesToTrailingSlashes=false</code>.</p><h2 id="strict-mode" tabindex="-1">Strict Mode <a class="header-anchor" href="#strict-mode" aria-hidden="true">#</a></h2><p>We&#39;re adding a new Strict Mode to ServiceStack which you can use to make ServiceStack behave stricter and throw Exceptions when it sees certain failure conditions. To enable Strict Mode across all libraries use:</p><div class="language-csharp"><pre><code>Env<span class="token punctuation">.</span>StrictMode <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><p>Otherwise to just enable StrictMode for ServiceStack:</p><div class="language-csharp"><pre><code><span class="token function">SetConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">HostConfig</span> <span class="token punctuation">{</span>
    StrictMode <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>When enabled ServiceStack will perform runtime checks to catch invalid state, currently:</p><ul><li>Checks if Services return Value Types</li><li>Checks if UserSession has circular dependencies</li><li>Fails fast for exceptions on Startup</li></ul><p>In future we&#39;ll use it to change the default mode of deserializing as much as possible without error, to fail fast when it detects an error condition. Initially it will be used in Text Serializers and OrmLite to detect mapping errors.</p><h3 id="content-type-specific-service-implementations" tabindex="-1">Content-Type Specific Service Implementations <a class="header-anchor" href="#content-type-specific-service-implementations" aria-hidden="true">#</a></h3><p>Service implementations can now use <code>Verb{Format}</code> method names to provide a different implementation for handling a specific Content-Type. The Service below defines several different implementation for handling the same Request:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/my-request&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRequest</span> 
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContentTypeServices</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Service</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Any</span><span class="token punctuation">(</span><span class="token class-name">MyRequest</span> request<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">;</span>    <span class="token comment">// Handles all other unspecified Verbs/Formats to /my-request</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">GetJson</span><span class="token punctuation">(</span><span class="token class-name">MyRequest</span> request<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token range operator">..</span><span class="token punctuation">;</span> <span class="token comment">// Handles GET /my-request for JSON responses</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">AnyHtml</span><span class="token punctuation">(</span><span class="token class-name">MyRequest</span> request<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>     <span class="token comment">// Handles POST/PUT/DELETE/etc /my-request for HTML Responses</span>
<span class="token interpolation-string"><span class="token string">$@&quot;&lt;html&gt;
&lt;body&gt;
&lt;h1&gt;AnyHtml </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">request<span class="token punctuation">.</span>Name</span><span class="token punctuation">}</span></span><span class="token string">&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;&quot;</span></span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">GetHtml</span><span class="token punctuation">(</span><span class="token class-name">MyRequest</span> request<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>     <span class="token comment">// Handles GET /my-request for HTML Responses</span>
<span class="token interpolation-string"><span class="token string">$@&quot;&lt;html&gt;
&lt;body&gt;
&lt;h1&gt;GetHtml </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">request<span class="token punctuation">.</span>Name</span><span class="token punctuation">}</span></span><span class="token string">&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;&quot;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="redirect-paths" tabindex="-1">Redirect Paths <a class="header-anchor" href="#redirect-paths" aria-hidden="true">#</a></h3><p>The <code>RedirectPaths</code> dictionary can be used to maintain a redirect mapping of redirect paths, e.g. we use this to redirect all requests to <code>/metadata/</code> to redirect to <code>/metadata</code>:</p><div class="language-csharp"><pre><code><span class="token function">SetConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">HostConfig</span> <span class="token punctuation">{</span> 
    RedirectPaths <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span> <span class="token string">&quot;/metadata/&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/metadata&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="forbidden-paths" tabindex="-1">Forbidden Paths <a class="header-anchor" href="#forbidden-paths" aria-hidden="true">#</a></h3><p>The <code>ForbiddenPaths</code> can be used to prevent access to different folders in your Web Root, e.g:</p><div class="language-csharp"><pre><code><span class="token function">SetConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">HostConfig</span> <span class="token punctuation">{</span> 
    ForbiddenPaths <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;/private-folder&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="serviceassemblies" tabindex="-1">ServiceAssemblies <a class="header-anchor" href="#serviceassemblies" aria-hidden="true">#</a></h3><p>The list of Service Implementation Assemblies specified in your AppHost constructor is available from <code>IAppHost.ServiceAssemblies</code> which plugins can use to enable auto-wired features, e.g. you can use <code>ScanAppHostAssemblies</code> in <code>ValidationFeature</code> to automatically register any validators defined in the Service Implementation Assemblies:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ValidationFeature</span> <span class="token punctuation">{</span>
    ScanAppHostAssemblies <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="servicestack-minor-features" tabindex="-1">ServiceStack Minor Features <a class="header-anchor" href="#servicestack-minor-features" aria-hidden="true">#</a></h2><ul><li>New <code>Config.Metadata.GetAllDtos()</code> metadata API to return all DTO Types</li><li>Encrypted Messaging Requests are now marked as Secure in <code>IRequest.RequestAttributes</code></li><li><code>VaryByHeaders</code> option added to <code>[CacheResponse]</code> attribute</li><li>New <code>[ExcludeMetadata]</code> attribute as alias for <code>[Exclude(Feature.Metadata | Feature.Soap)]</code></li></ul><h2 id="service-clients" tabindex="-1">Service Clients <a class="header-anchor" href="#service-clients" aria-hidden="true">#</a></h2><p>New <code>*Body</code> and <code>*BodyAsync</code> APIs have been added to all Service Clients which lets you post a separate Request Body for Request DTOs that implement <code>IRequiresRequestStream</code> where they contain both properties and a custom Request Body, e.g:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/json&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SendJson</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IRequiresRequestStream</span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Stream</span> RequestStream <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;/text&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SendText</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IRequiresRequestStream</span><span class="token punctuation">,</span> <span class="token class-name">IReturn<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> ContentType <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Stream</span> RequestStream <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SendRawService</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Service</span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">JsonOnly</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Any</span><span class="token punctuation">(</span><span class="token class-name">SendJson</span> request<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> request<span class="token punctuation">.</span>RequestStream<span class="token punctuation">.</span><span class="token function">ReadFully</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Any</span><span class="token punctuation">(</span><span class="token class-name">SendText</span> request<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">base</span><span class="token punctuation">.</span>Request<span class="token punctuation">.</span>ResponseContentType <span class="token operator">=</span> request<span class="token punctuation">.</span>ContentType <span class="token operator">??</span> <span class="token keyword">base</span><span class="token punctuation">.</span>Request<span class="token punctuation">.</span>AcceptTypes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> request<span class="token punctuation">.</span>RequestStream<span class="token punctuation">.</span><span class="token function">ReadFully</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The new APIs accept both a Request DTO which specifies which Service to call and what properties to add to the QueryString and another object to send in the raw HTTP Request Body, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonServiceClient</span><span class="token punctuation">(</span>BaseUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> json <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">PostBody</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">SendJson</span> <span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;JSON body&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">PocoRequest</span> <span class="token punctuation">{</span> Foo <span class="token operator">=</span> <span class="token string">&quot;Bar&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
json<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromJson</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>PocoRequest<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Foo <span class="token comment">//= Bar</span>

json <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">PutBodyAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">SendJson</span> <span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;JSON body&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;{\&quot;Foo\&quot;:\&quot;Bar\&quot;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
json<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">FromJson</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>PocoRequest<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Foo <span class="token comment">//= Bar</span>

<span class="token class-name"><span class="token keyword">var</span></span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonHttpClient</span><span class="token punctuation">(</span>BaseUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SendText</span> <span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">&quot;Text body&quot;</span><span class="token punctuation">,</span> ContentType <span class="token operator">=</span> <span class="token string">&quot;text/plain&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> text <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">PostBodyAsync</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
text <span class="token comment">//= foo</span>
</code></pre></div><h2 id="autoquery" tabindex="-1">AutoQuery <a class="header-anchor" href="#autoquery" aria-hidden="true">#</a></h2><p>Previously all AutoQuery Requests would execute an additional Aggregate query to return the total records available for that query. As this can be unnecessary overhead for requests that don&#39;t need it, we&#39;ve made it opt-in where requests that need the total can add it on the QueryString, e.g:</p><pre><code>/query?Include=Total
</code></pre><p>Or on the Request DTO:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">MyQuery</span> <span class="token punctuation">{</span> Include <span class="token operator">=</span> <span class="token string">&quot;Total&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>You can restore the previous behavior and have the Total returned in every request with:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">AutoQueryFeature</span> <span class="token punctuation">{</span>
    IncludeTotal <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="native-types" tabindex="-1">Native Types <a class="header-anchor" href="#native-types" aria-hidden="true">#</a></h2><p>User defined interfaces on Request DTOs are now being exported in the generated DTOs. It can be disabled with:</p><div class="language-csharp"><pre><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetPlugin</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>NativeTypesFeature<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>MetadataTypesConfig<span class="token punctuation">.</span>ExcludeImplementedInterfaces <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Support was also added for Arrays of Nullable Types.</li></ul><h3 id="open-api-refinements" tabindex="-1">Open API Refinements <a class="header-anchor" href="#open-api-refinements" aria-hidden="true">#</a></h3><p>You can register <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#tagObject" target="_blank" rel="noopener noreferrer">Open API Tags</a> by adding them to the <code>Tags</code> collection:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">OpenApiFeature</span>
<span class="token punctuation">{</span>
    Tags <span class="token operator">=</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">OpenApiTag</span>
        <span class="token punctuation">{</span>
            Name <span class="token operator">=</span> <span class="token string">&quot;TheTag&quot;</span><span class="token punctuation">,</span>
            Description <span class="token operator">=</span> <span class="token string">&quot;TheTag Description&quot;</span><span class="token punctuation">,</span>
            ExternalDocs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">OpenApiExternalDocumentation</span>
            <span class="token punctuation">{</span>
                Description <span class="token operator">=</span> <span class="token string">&quot;Link to External Docs Desc&quot;</span><span class="token punctuation">,</span>
                Url <span class="token operator">=</span> <span class="token string">&quot;http://example.org/docs/path&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>[ApiMember(IsRequired = true)]</code> is now included in <code>OpenApiSchema</code></li><li><code>[ApiResponse(IsDefaultResponse = true)]</code> can be used to specify the default Service response</li><li>The <code>LogoHref</code> and <code>LogoUrl</code> properties can be used to customize the <code>/swagger-ui</code> logo</li><li>A <code>RequestType</code> was added in <code>OpenApiOperation</code> to make it easy for filters to map Open API classes back to Services</li><li>Added support for <code>IReturnVoid</code> NoContent responses</li></ul><h2 id="request-logging" tabindex="-1">Request Logging <a class="header-anchor" href="#request-logging" aria-hidden="true">#</a></h2><ul><li>Add logging for short-circuited requests terminated in Request Filters</li><li>Allow logging of non-Service Requests, opt-in with <code>LimitToServiceRequests=false</code></li><li>Add <code>SkipLogging</code> delegate to control which requests should be logged</li></ul><h2 id="servicestack-rabbitmq" tabindex="-1">ServiceStack.RabbitMq <a class="header-anchor" href="#servicestack-rabbitmq" aria-hidden="true">#</a></h2><p>You can send MQ Request bodies using a different registered Content-Type which ServiceStack will use to deserialize into the Request DTO.</p><h2 id="litedb-auth-provider" tabindex="-1">LiteDB Auth Provider <a class="header-anchor" href="#litedb-auth-provider" aria-hidden="true">#</a></h2><p><a href="https://github.com/stefandevo" target="_blank" rel="noopener noreferrer">Stefan de Vogelaere</a> from the ServiceStack Community released the <a href="https://github.com/CaveBirdLabs/ServiceStack.Authentication.LiteDB" target="_blank" rel="noopener noreferrer">ServiceStack.Authentication.LiteDB</a> AuthProvider for <a href="https://github.com/mbdavid/LiteDB" target="_blank" rel="noopener noreferrer">LiteDB</a> - A .NET NoSQL Document Store in a single data file.</p><h2 id="servicestack-text-1" tabindex="-1">ServiceStack.Text <a class="header-anchor" href="#servicestack-text-1" aria-hidden="true">#</a></h2><p>Several enhancements were added in ServiceStack.Text to improve support for Object Dictionaries and KeyValuePair&#39;s which are extensively used in Templates, including support in CSV, QueryStrings and AutoMapping/Conversion Utils.</p><h3 id="string-segment-extensions" tabindex="-1">String Segment Extensions <a class="header-anchor" href="#string-segment-extensions" aria-hidden="true">#</a></h3><p>We&#39;ve further enhanced it with several StringSegment extension methods to make it easier to work with, e.g. <code>TryReadLine</code> is nice for efficiently reading lines from a large string without generating any string references on the heap:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">StringSegment</span><span class="token punctuation">(</span>fileContents<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>buf<span class="token punctuation">.</span><span class="token function">TryReadLine</span><span class="token punctuation">(</span><span class="token keyword">out</span> <span class="token class-name">StringSegment</span> line<span class="token punctuation">,</span> <span class="token keyword">ref</span> pos<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// line</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="resolve-paths" tabindex="-1">Resolve Paths <a class="header-anchor" href="#resolve-paths" aria-hidden="true">#</a></h3><p>The <code>ResolvePaths()</code> extension method evaluates string paths containing directory commands, e.g:</p><div class="language-csharp"><pre><code><span class="token string">&quot;/a/b/../&quot;</span><span class="token punctuation">.</span><span class="token function">ResolvePaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//= /a/</span>
<span class="token string">&quot;a/../b&quot;</span><span class="token punctuation">.</span><span class="token function">ResolvePaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">//= b</span>
<span class="token string">&quot;a/../b/./c&quot;</span><span class="token punctuation">.</span><span class="token function">ResolvePaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//= b/c</span>
</code></pre></div><h2 id="ormlite" tabindex="-1">OrmLite <a class="header-anchor" href="#ormlite" aria-hidden="true">#</a></h2><h3 id="sql-server-json" tabindex="-1">SQL Server JSON <a class="header-anchor" href="#sql-server-json" aria-hidden="true">#</a></h3><p><a href="https://github.com/KevinHoward" target="_blank" rel="noopener noreferrer">@KevinHoward</a> added preliminary support for SQL Server JSON queries, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> results <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Table<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>q <span class="token operator">=&gt;</span> Sql<span class="token punctuation">.</span><span class="token function">JsonValue</span><span class="token punctuation">(</span>q<span class="token punctuation">.</span>JsonColumn<span class="token punctuation">,</span> <span class="token string">&quot;$.State&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;NV&quot;</span> <span class="token operator">&amp;&amp;</span> q<span class="token punctuation">.</span>Id <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>See <a href="https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/ServiceStack.OrmLite.SqlServerTests/Expressions/JsonExpressionsTest.cs" target="_blank" rel="noopener noreferrer">JsonExpressionsTest.cs</a> for more examples.</p><blockquote><p>Requires <code>SqlServer2016Dialect.Provider</code></p></blockquote><h3 id="normalizing-postgresql" tabindex="-1">Normalizing PostgreSQL <a class="header-anchor" href="#normalizing-postgresql" aria-hidden="true">#</a></h3><p>By default PostgreSQL&#39;s dialect provider uses quoted <strong>snake_case</strong> for all Table and Column names. It can be configured to generate similar SQL as other RDBMS&#39;s with:</p><div class="language-csharp"><pre><code>PostgreSqlDialectProvider<span class="token punctuation">.</span>Instance<span class="token punctuation">.</span>Normalize <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> 
</code></pre></div><p>Where it will use the default Naming strategy and only quote tables and columns using reserved words. OrmLite&#39;s mapping is case-insensitive so will still be able to map columns as a result of PostgreSQL&#39;s lowercase names for unquoted symbols.</p><h3 id="ignore-properties" tabindex="-1">Ignore properties <a class="header-anchor" href="#ignore-properties" aria-hidden="true">#</a></h3><p>The new <code>[IgnoreOnInsert]</code> and <code>[IgnoreOnUpdate]</code> attributes can be used to ignore properties from INSERT&#39;s and UPDATE&#39;s.</p><ul><li>Added <code>[Computed]</code> attribute as a better named alias for <code>[Compute]</code></li><li>Added support for using string params larger than default string length</li><li>The new <code>SqlConcat</code>, <code>SqlCurrency</code>, <code>SqlBool</code> and <code>SqlLimit</code> APIs can help creating cross-platform SQL, see <a href="https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/SqlDialectTests.cs" target="_blank" rel="noopener noreferrer">SqlDialectTests.cs</a> for examples.</li></ul><h1 id="v4-5-10-release-notes" tabindex="-1"><a href="/releases/v4.5.10.html">v4.5.10 Release Notes</a> <a class="header-anchor" href="#v4-5-10-release-notes" aria-hidden="true">#</a></h1><p>We&#39;ve developed new Angular4, React, Aurelia and Vue.js Single Page App <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> templates for <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> which have been re-imagined to incorporate the latest gold standard in modern Single Page App development and integrated to provide the ideal development experience within <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a>, optimal bundling and packaging for production including one-click Web App deployments using MS Web Deploy.</p><h2 id="full-support-for-vs-net-2017" tabindex="-1">Full support for <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> 2017 <a class="header-anchor" href="#full-support-for-vs-net-2017" aria-hidden="true">#</a></h2><p>We&#39;ve added complete support for <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> 2017 with the <a href="https://github.com/ServiceStack/ServiceStackVS" target="_blank" rel="noopener noreferrer">ServiceStackVS</a> <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> Extension and have migrated all ServiceStack code-bases for all of <a href="https://www.nuget.org/profiles/servicestack" target="_blank" rel="noopener noreferrer">ServiceStack&#39;s NuGet packages</a> to VS2017&#39;s new MSBuild format which is now being used to generate the different .NET 4.5 and .NET Standard platform builds used in all .NET Core packages including our multi-target Test projects.</p><p><a href="https://github.com/ServiceStack/ServiceStackVS#install-servicestackvs" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/ssvs/spa-templates-overview.png" alt=""></a></p><h2 id="webpack-powered-single-page-app-templates" tabindex="-1">Webpack-powered Single Page App Templates <a class="header-anchor" href="#webpack-powered-single-page-app-templates" aria-hidden="true">#</a></h2><p>We&#39;ve developed a new Single Page App template for the simple and elegant <a href="https://vuejs.org" target="_blank" rel="noopener noreferrer">Vue.js</a> and our existing Angular, Aurelia, React and React Desktop Single Page App templates have been rewritten to completely embrace <a href="https://webpack.js.org" target="_blank" rel="noopener noreferrer">Webpack</a> - the most advanced module bundler for JavaScript Apps. Webpack is used to power the development, testing and production builds of your Web App.</p><p>The release notes contains a detailed overview of Webpack and how to use it from within <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> and command-line which support both of Webpack&#39;s popular developer options of watching for changes and regenerating its outputs as well as Live Reload support using the <a href="https://webpack.js.org/configuration/dev-server/#devserver" target="_blank" rel="noopener noreferrer">Webpack Dev Server</a> which automatically reloads the current page after processing any changes.</p><h3 id="single-page-app-template-features" tabindex="-1">Single Page App Template features <a class="header-anchor" href="#single-page-app-template-features" aria-hidden="true">#</a></h3><p>The templates provide a highly productive base that&#39;s ideal for developing small to medium-sized JavaScript Web Apps including just the core essentials that pack the most productive punch whilst adding minimal complexity and required configuration, whilst still remaining open-ended to easily plug-in other tools into your Webpack configuration you believe will improve your development workflow.</p><p>With these goals in mind we&#39;ve hand-picked and integrated a number of simple best-of-breed technologies so you&#39;ll be immediately productive:</p><ul><li>Integrated Bootstrap v4 UI framework and font-awesome Vector Icons <ul><li>Angular4 uses the more natural Material Design Lite UI framework and Design Icons</li></ul></li><li>High-level TypeScript and Sass support andstandard .js or .css when preferred</li><li>End-to-end Typed APIs pre-configured with TypeScript JsonServiceClient and Server DTOs</li><li>All templates have Routing Enabled in a Multi-page Layout</li><li>Deep linkable Pretty URLs</li><li>JavaScript Unit Testing</li><li>Live Unit Testing which automatically re-runs tests when sources have changed</li><li>Built-in Test Coverage</li><li>Single Click Deployments using MS WebDeploy</li><li>All projects retain our <a href="/physical-project-structure.html">Recommended Multi-Project Solution Layout</a></li></ul><h3 id="gistlyn-updated" tabindex="-1">Gistlyn Updated <a class="header-anchor" href="#gistlyn-updated" aria-hidden="true">#</a></h3><p><a href="http://gistlyn.com" target="_blank" rel="noopener noreferrer">Gistlyn</a> was upgraded to use the new Webpack-powered React Desktop Apps template.</p><h2 id="simple-command-line-utilities-for-servicestack" tabindex="-1">Simple command-line utilities for ServiceStack <a class="header-anchor" href="#simple-command-line-utilities-for-servicestack" aria-hidden="true">#</a></h2><p>The new <a href="https://github.com/ServiceStack/servicestack-cli" target="_blank" rel="noopener noreferrer">servicestack-cli</a> npm package replaces our existing <code>ss-util.exe</code> and OSX <code>swiftref</code> command-line programs to provide simple command-line utilities to easily Add and Update ServiceStack References for all of ServiceStack&#39;s 7 supported languages. Using it is as easy as choosing the language you want and the <strong>BaseUrl</strong> of the remote ServiceStack instance you want to download the Server DTOs for, e.g:</p><pre><code>$ csharp-ref https://techstacks.io
</code></pre><h3 id="major-memory-and-performance-improvements-to-servicestack-text" tabindex="-1">Major Memory and Performance Improvements to ServiceStack.Text <a class="header-anchor" href="#major-memory-and-performance-improvements-to-servicestack-text" aria-hidden="true">#</a></h3><p>We&#39;ve replaced our internal string parsing in ServiceStack.Text&#39;s serializers to use .NET Core&#39;s new <code>StringSegment</code> class (polyfilled in .NET 4.5) which dramatically reduces the memory allocations needed and execution time for deserialization. Parsing implementations of primitive .NET Types like integers, decimal and Guid types were also replaced with custom implementations utilizing <code>StringSegment</code> which sees their performance improved by <strong>2.5-4x</strong>. These improvements are best seen in large complex types with nested arrays like MiniProfiler&#39;s DTO where memory allocations were reduced by <strong>5.3x</strong> and performance improved by <strong>33%</strong>.</p><h3 id="vulnerability-with-object-properties" tabindex="-1">Vulnerability with object Properties <a class="header-anchor" href="#vulnerability-with-object-properties" aria-hidden="true">#</a></h3><p>We&#39;ve resolved a vulnerability using public <code>object</code> properties on DTOs where we&#39;ve needed to adopt a whitelist to limit the Types that are allowed to create instances of. Please see the release notes for full details.</p><h3 id="fast-reflection-apis" tabindex="-1">Fast Reflection APIs <a class="header-anchor" href="#fast-reflection-apis" aria-hidden="true">#</a></h3><p>We&#39;ve consolidated functionality for populating the fields and properties of a runtime <code>Type</code> behind a formal API which includes multiple cascading implementations so it&#39;s able to use the fastest implementation available in <a href="https://github.com/ServiceStackApps/HelloMobile#portable-class-library-support" target="_blank" rel="noopener noreferrer">each supported platform</a>, i.e. for most .NET platforms we use the Reflection.Emit implementations when possible, when not available it falls back to using Compiled Expression trees, then finally falling back to using a Reflection-based implementation.</p><p>This functionality is available using the <code>CreateGetter()</code> and <code>CreateSetter()</code> extension methods on both <code>PropertyInfo</code> or <code>FieldInfo</code> which you may find useful if you&#39;d like to get better performance when populating runtime types dynamically, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> runtimeType <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">MyType</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token class-name"><span class="token keyword">object</span></span> instance <span class="token operator">=</span> runtimeType<span class="token punctuation">.</span><span class="token function">CreateInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">PropertyInfo</span> pi <span class="token operator">=</span> runtimeType<span class="token punctuation">.</span><span class="token function">GetProperty</span><span class="token punctuation">(</span><span class="token string">&quot;Id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> idSetter <span class="token operator">=</span> pi<span class="token punctuation">.</span><span class="token function">CreateSetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> idGetter <span class="token operator">=</span> pi<span class="token punctuation">.</span><span class="token function">CreateGetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token function">idSetter</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> idValue <span class="token operator">=</span> <span class="token function">idGetter</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="support-for-c-7-value-tuples-in-ormlite" tabindex="-1">Support for C# 7 Value Tuples in OrmLite <a class="header-anchor" href="#support-for-c-7-value-tuples-in-ormlite" aria-hidden="true">#</a></h3><p>The fast, new C# 7 Value Tuple support in OrmLite enables an alternative terse, clean and typed API for accessing the <a href="https://github.com/ServiceStack/ServiceStack.OrmLite#dynamic-result-sets" target="_blank" rel="noopener noreferrer">Dynamic Result Sets</a> returned when using a custom Select expression, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> query <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">From</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Employee<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Join</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Department<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">OrderBy</span><span class="token punctuation">(</span>e <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>Id<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Employee<span class="token punctuation">,</span> Department<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span>e<span class="token punctuation">,</span> d<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> e<span class="token punctuation">.</span>Id<span class="token punctuation">,</span> e<span class="token punctuation">.</span>LastName<span class="token punctuation">,</span> d<span class="token punctuation">.</span>Name <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token class-name"><span class="token keyword">var</span></span> results <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Select</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token keyword">string</span> lastName<span class="token punctuation">,</span> <span class="token keyword">string</span> deptName<span class="token punctuation">)</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token class-name"><span class="token keyword">var</span></span> row <span class="token operator">=</span> results<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token interpolation-string"><span class="token string">$&quot;row: $</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">row<span class="token punctuation">.</span>id</span><span class="token punctuation">}</span></span><span class="token string">, $</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">row<span class="token punctuation">.</span>lastName</span><span class="token punctuation">}</span></span><span class="token string">, $</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">row<span class="token punctuation">.</span>deptName</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="expanded-typed-sqlexpresion-surface-area" tabindex="-1">Expanded Typed SqlExpresion Surface Area <a class="header-anchor" href="#expanded-typed-sqlexpresion-surface-area" aria-hidden="true">#</a></h3><p>OrmLite&#39;s Typed SqlExpression has been expanded to support up to <strong>15 tables</strong> in a single SQL Condition and up to <strong>4 tables</strong> in a JOIN expression.</p><h2 id="proxy-feature" tabindex="-1">Proxy Feature <a class="header-anchor" href="#proxy-feature" aria-hidden="true">#</a></h2><p>The new <code>ProxyFeature</code> plugin is an application-level proxy that can be used to transparently proxy HTTP Requests through to downstream servers whose behavior can be customized with custom C# hooks to control how requests are proxied.</p><p><code>ProxyFeature</code> registers an async/non-blocking <code>RawHttpHandler</code> which bypasses ServiceStack&#39;s Request Pipeline that in <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> is executed as an <a href="http://ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET</a> <code>IHttpAsyncHandler</code> so it should be flexible and performant enough to handle many demanding workloads.</p><h2 id="autowired-typed-request-filters" tabindex="-1">Autowired Typed Request Filters <a class="header-anchor" href="#autowired-typed-request-filters" aria-hidden="true">#</a></h2><p><a href="https://github.com/englerj" target="_blank" rel="noopener noreferrer">Josh Engler</a> contributed support for Autowired Request and Response Filters which lets you handle Request DTOs in a Typed Filter similar to how Autowired Services handles Typed Request DTOs with access to IOC injected dependencies.</p><h2 id="refinements-to-open-api-server-events-jwt" tabindex="-1">Refinements to Open API, Server Events, JWT <a class="header-anchor" href="#refinements-to-open-api-server-events-jwt" aria-hidden="true">#</a></h2><p>Driven by customer requests we&#39;ve added support to Open API, Server Events, JWT</p><h2 id="http-caching-static-files" tabindex="-1">HTTP Caching static Files <a class="header-anchor" href="#http-caching-static-files" aria-hidden="true">#</a></h2><p>Returning a static <a href="/virtual-file-system.html">Virtual File</a> or <code>FileInfo</code> in a <code>HttpResult</code> now sets the <strong>Last-Modified</strong> HTTP Response Header whose behavior instructs the pre-configured <a href="/http-caching.html">HttpCacheFeature</a> to generate the necessary HTTP Headers so HTTP Clients are able to validate subsequent requests using the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since" target="_blank" rel="noopener noreferrer">If-Modified-Since</a> HTTP Request Header, allowing them to skip redownloading files they&#39;ve already cached locally.</p><h3 id="re-authentication" tabindex="-1">Re-Authentication <a class="header-anchor" href="#re-authentication" aria-hidden="true">#</a></h3><p>We&#39;ve changed the default behavior to no longer skipping Authenticating existing Authenticated Users. This resolves an issue for not being able to retrieve JWT Refresh Tokens if you&#39;re already Authenticated, previous behavior can be restored with:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthFeature</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    SkipAuthenticationIfAlreadyAuthenticated <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="api-key-auth-provider" tabindex="-1">API Key Auth Provider <a class="header-anchor" href="#api-key-auth-provider" aria-hidden="true">#</a></h3><p>You can opt-in to allow API Keys to be passed on the <strong>QueryString</strong> (e.g. <code>?apikey={APIKEY}</code>) or HTTP POST <strong>Form Data</strong> with:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">ApiKeyAuthProvider</span> <span class="token punctuation">{</span>
    AllowInHttpParams <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="debugmode" tabindex="-1">DebugMode <a class="header-anchor" href="#debugmode" aria-hidden="true">#</a></h3><p>The home page and directories are no longer cached in <a href="/debugging.html#debugmode">DebugMode</a> to better be able to reflect changes during development.</p><h2 id="webserviceexception" tabindex="-1">WebServiceException <a class="header-anchor" href="#webserviceexception" aria-hidden="true">#</a></h2><p>The <code>WebServiceException</code> Message returns the the more appropriate <code>ResponseStatus.ErrorMessage</code> if available. The previous StatusDescription text can be retrieved from the <code>WebServiceException.StatusDescription</code> property.</p><h3 id="other-changes" tabindex="-1">Other Changes <a class="header-anchor" href="#other-changes" aria-hidden="true">#</a></h3><ul><li>The <code>RemoveHeader()</code> API has been added to <code>IResponse</code> and all implementations</li><li>The HTTP Request/Response Preview in Metadata pages uses the Verb, URL and Request Body of the preferred HTTP Method for each Service</li><li>The Basic Auth Credentials are auto-sent in <code>JsonHttpClient</code> 401 Challenged Responses</li><li>Empty Collections are now ignored AutoQuery Filters</li></ul><p>That&#39;s a high-level overview, please see the # <a href="/releases/v4.5.10.html">v4.5.10 Release Notes</a> for the full details.</p><p>Enjoy!</p><h1 id="v4-5-8-release-notes" tabindex="-1"><a href="/releases/v4.5.8.html">v4.5.8 Release Notes</a> <a class="header-anchor" href="#v4-5-8-release-notes" aria-hidden="true">#</a></h1><p>We&#39;ve got a another feature-packed release with a number of exciting new features new support for the <a href="https://github.com/OAI/OpenAPI-Specification" target="_blank" rel="noopener noreferrer">Open API specification</a> enabling new integration possibilities with <a href="https://azure.microsoft.com/en-us/services/api-management/" target="_blank" rel="noopener noreferrer">Azure API Management</a> and <a href="https://github.com/Azure/autorest" target="_blank" rel="noopener noreferrer">Azure AutoRest</a>, our real-time <a href="/server-events.html">Server Events</a> solution extending to new Mobile, Desktop and Server platforms, more flexible Authentication options to dramatically simplify integration with Mobile, Desktop and Web clients, effortless JWT Refresh Tokens, enhanced support for TypeScript and Java client libraries, new compression options, upgrades to the latest Fluent Validation with support for Async validators, Async Request Filters, a number of new quality OSS ServiceStack projects developed by the community and lots more use-case driven features and refinements across the entire ServiceStack suite!</p><p>Please see the <a href="/releases/v4.5.8.html">v4.5.8 Release Notes</a> for the full details, for a quick summary we&#39;ll highlight the major features below:</p><h2 id="open-api" tabindex="-1"><a href="/openapi.html">Open API</a> <a class="header-anchor" href="#open-api" aria-hidden="true">#</a></h2><p>We&#39;ve added support for the Open API Specification which opens up several new integration possibilities including importing your Services into Azure API Management and generating native clients with Azure&#39;s AutoRest. The Open API plugin also embeds Swagger UI letting you quickly explore and interact with your services.</p><h2 id="server-events" tabindex="-1"><a href="/server-events.html">Server Events</a> <a class="header-anchor" href="#server-events" aria-hidden="true">#</a></h2><p>We&#39;ve made great strides in this release towards our goal of expanding the Server Event ecosystem in popular Mobile, Desktop and Server platforms with new first-class implementations for Android, Java and TypeScript which now includes:</p><ul><li><a href="/csharp-server-events-client.html">C# Server Events Client</a><ul><li>Xamarin.iOS</li><li>Xamarin.Android</li><li>UWP</li><li>.NET Framework 4.5+</li><li>.NET Core (.NET Standard 1.3+)</li></ul></li><li><a href="/typescript-server-events-client.html">TypeScript Server Events Client</a><ul><li>Web</li><li>Node.js Server</li><li>React Native <ul><li>iOS</li><li>Android</li></ul></li></ul></li><li><a href="/java-server-events-client.html">Java Server Events Client</a><ul><li>Android</li><li>JVM 1.7+ (Java, Kotlin, Scala, etc) <ul><li>Java Clients</li><li>Java Servers</li></ul></li></ul></li><li><a href="/javascript-server-events-client.html">JavaScript (jQuery plugin)</a><ul><li>Web</li></ul></li></ul><h2 id="android-java-chat" tabindex="-1"><a href="https://github.com/ServiceStackApps/AndroidJavaChat" target="_blank" rel="noopener noreferrer">Android Java Chat</a> <a class="header-anchor" href="#android-java-chat" aria-hidden="true">#</a></h2><p>To showcase real-world usage of <code>AndroidServerEventsClient</code> in an Android App we&#39;ve ported <a href="https://github.com/ServiceStackApps/AndroidXamarinChat" target="_blank" rel="noopener noreferrer">C# Xamarin Android Chat</a> into <strong>Java 8</strong> using Google&#39;s recommended <a href="https://developer.android.com/studio/index.html" target="_blank" rel="noopener noreferrer">Android Studio Development Environment</a>. In addition to retaining the same functionality as the original <a href="https://github.com/ServiceStackApps/AndroidXamarinChat" target="_blank" rel="noopener noreferrer">C# Xamarin.Android Chat App</a>, it also leverages the native Facebook, Twitter and Google SDK&#39;s to enable seamless and persistent authentication when signing in with Facebook, Twitter or Google User accounts.</p><p><a href="https://github.com/ServiceStackApps/AndroidJavaChat/" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/docs/master/docs/images/java/java-android-chat-screenshot-auth.png" alt=""></a></p><h2 id="web-node-js-and-react-native-serverevents-apps" tabindex="-1"><a href="https://github.com/ServiceStackApps/typescript-server-events" target="_blank" rel="noopener noreferrer">Web, Node.js and React Native ServerEvents Apps</a> <a class="header-anchor" href="#web-node-js-and-react-native-serverevents-apps" aria-hidden="true">#</a></h2><p>The TypeScript <a href="https://github.com/ServiceStack/servicestack-client" target="_blank" rel="noopener noreferrer">@servicestack/client</a> npm package is a cross-platform library enabling a rich, productive end-to-end Typed development experience on Web, node.js Server projects, node.js test suites, React Native iOS and Android Mobile Apps - written in either TypeScript or plain JavaScript.</p><p>To help getting started using <a href="https://github.com/ServiceStack/servicestack-client" target="_blank" rel="noopener noreferrer">@servicestack/client</a> in each of JavaScript&#39;s most popular platforms we&#39;ve developed a simple Server Events Web, Node.js and React Native Mobile iOS App that can connect to any Server Events Server and listen to messages published on the subscribed channel. The App also maintains a live synchronized list of Users in the channel that&#39;s automatically updated whenever Users join or leave the channel:</p><p><a href="https://github.com/ServiceStackApps/typescript-server-events" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/livedemos/typescript-serverevents/typescript-server-events-banner.png" alt=""></a></p><p>Each App uses the optimal starting configuration that enables a productive workflow on each platform and uses the minimum runtime dependencies - essentially just <a href="https://github.com/ServiceStack/servicestack-client" target="_blank" rel="noopener noreferrer">@servicestack/client</a> and its es6-shim and W3C <code>EventSource</code> polyfills on Node.js and React Native where it&#39;s missing a native implementation.</p><h2 id="typescript-servicestack-client-improvements" tabindex="-1">TypeScript @servicestack/client improvements <a class="header-anchor" href="#typescript-servicestack-client-improvements" aria-hidden="true">#</a></h2><p>New APIs have been added to TypeScript&#39;s <a href="https://github.com/ServiceStack/servicestack-client" target="_blank" rel="noopener noreferrer">@servicestack/client</a> to catch up with the additional flexibility and features available in <a href="/csharp-client.html">C#/.NET Service Clients</a>:</p><h3 id="sending-additional-arguments-with-typed-api-requests" tabindex="-1">Sending additional arguments with Typed API Requests <a class="header-anchor" href="#sending-additional-arguments-with-typed-api-requests" aria-hidden="true">#</a></h3><p>Many AutoQuery Services utilize <a href="/autoquery-rdbms.html#implicit-conventions">implicit conventions</a> to query fields that aren&#39;t explicitly defined on AutoQuery Request DTOs, these can now be queried by specifying additional arguments with the typed Request DTO, e.g:</p><div class="language-ts"><pre><code><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FindTechStacks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

client<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token punctuation">{</span> VendorName<span class="token operator">:</span> <span class="token string">&quot;ServiceStack&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>r <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// typed to QueryResponse&lt;TechnologyStack&gt; </span>
</code></pre></div><h3 id="calling-apis-with-custom-urls" tabindex="-1">Calling APIs with Custom URLs <a class="header-anchor" href="#calling-apis-with-custom-urls" aria-hidden="true">#</a></h3><p>In addition to Typed API Requests you can now also call Services using relative or absolute urls, e.g:</p><div class="language-ts"><pre><code>client<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span>GetTechnologyResponse<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;/technology/ServiceStack&quot;</span><span class="token punctuation">)</span>

client<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span>GetTechnologyResponse<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;https://techstacks.io/technology/ServiceStack&quot;</span><span class="token punctuation">)</span>

<span class="token comment">// GET https://techstacks.io/technology?Slug=ServiceStack</span>
client<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span>GetTechnologyResponse<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;/technology&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> Slug<span class="token operator">:</span> <span class="token string">&quot;ServiceStack&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> 
</code></pre></div><h2 id="relaxed-typescript-definitions" tabindex="-1">Relaxed TypeScript Definitions <a class="header-anchor" href="#relaxed-typescript-definitions" aria-hidden="true">#</a></h2><p>The metadata requirements in TypeScript Ambient Interface definitions generated by Add ServiceStack Reference&#39;s <code>/types/typescript.d</code> have been relaxed so they can be used to Type Object Literals:</p><div class="language-ts"><pre><code><span class="token keyword">let</span> request<span class="token operator">:</span>QueryContracts <span class="token operator">=</span> <span class="token punctuation">{</span> accountId<span class="token operator">:</span> <span class="token number">1234</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>But as metadata in Request DTO interface definitions are no longer inferrable, their return Type and route will need to be supplied on each call-site, e.g:</p><div class="language-ts"><pre><code><span class="token keyword">let</span> request<span class="token operator">:</span>FindTechnologies <span class="token operator">=</span> <span class="token punctuation">{</span> vendorName<span class="token operator">:</span> <span class="token string">&quot;ServiceStack&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

client<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span>QueryResponse<span class="token operator">&lt;</span>Technology<span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;/technology/search&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>r <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//typed response</span>
</code></pre></div><h2 id="authentication-via-oauth-accesstokens" tabindex="-1">Authentication via OAuth AccessTokens <a class="header-anchor" href="#authentication-via-oauth-accesstokens" aria-hidden="true">#</a></h2><p>To improve OAuth Sign In integration from native Mobile or Desktop Apps we&#39;ve added support for direct Authentication via AccessTokens which can dramatically simplify the Development and User Experience by being able to leverage the Native Facebook, Twitter and Google Client SDK&#39;s to Sign In users locally then reuse their local <strong>AccessToken</strong> to Authenticate with back-end ServiceStack Servers. This feature is what&#39;s used to enable <a href="https://github.com/ServiceStackApps/AndroidJavaChat/#integrated-facebook-twitter-and-google-logins" target="_blank" rel="noopener noreferrer">Integrated Facebook, Twitter and Google Logins</a> in Android Java Chat and be able to <a href="https://github.com/ServiceStackApps/AndroidJavaChat#automatically-sign-in-previously-signed-in-users" target="_blank" rel="noopener noreferrer">Automatically Sign In users with saved AccessTokens</a>.</p><p>This capability is now available on the popular OAuth Providers below:</p><ul><li><code>FacebookAuthProvider</code> - Sign in with Facebook</li><li><code>TwitterAuthProvider</code> - Sign in with Twitter</li><li><code>GithubAuthProvider</code> - Sign in with Github</li><li><code>GoogleOAuth2Provider</code> - Sign in with Google</li></ul><h3 id="client-authentication-with-accesstoken" tabindex="-1">Client Authentication with AccessToken <a class="header-anchor" href="#client-authentication-with-accesstoken" aria-hidden="true">#</a></h3><p>Clients can utilize this feature with the new <code>AccessToken</code> and <code>AccessTokenSecret</code> properties on the existing <code>Authenticate</code> request DTO, sent with the <strong>provider</strong> that the AccessToken is for, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">Post</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Authenticate</span> <span class="token punctuation">{</span>
    provider <span class="token operator">=</span> <span class="token string">&quot;facebook&quot;</span><span class="token punctuation">,</span>
    AccessToken <span class="token operator">=</span> facebookAccessToken<span class="token punctuation">,</span>
    RememberMe <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="jwt-refresh-tokens" tabindex="-1">JWT Refresh Tokens <a class="header-anchor" href="#jwt-refresh-tokens" aria-hidden="true">#</a></h2><p>Support for Refresh Tokens is now available in the <a href="/jwt-authprovider.html">JWT Auth Provider</a> where new <strong>JWT Tokens</strong> can now be generated from a longer-lived <code>RefreshToken</code> which can be used to fetch new JWT Tokens without needing to re-authenticate with a separate Auth Provider.</p><h3 id="accessing-refresh-tokens" tabindex="-1">Accessing Refresh Tokens <a class="header-anchor" href="#accessing-refresh-tokens" aria-hidden="true">#</a></h3><p>Just like JWT Tokens, Refresh Tokens are populated on the <code>AuthenticateResponse</code> DTO after successfully authenticating via any registered Auth Provider, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">Post</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Authenticate</span> <span class="token punctuation">{</span>
    provider <span class="token operator">=</span> <span class="token string">&quot;credentials&quot;</span><span class="token punctuation">,</span>
    UserName <span class="token operator">=</span> userName<span class="token punctuation">,</span>
    Password <span class="token operator">=</span> password<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> jwtToken <span class="token operator">=</span> response<span class="token punctuation">.</span>BearerToken<span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> refreshToken <span class="token operator">=</span> response<span class="token punctuation">.</span>RefreshToken<span class="token punctuation">;</span>
</code></pre></div><h3 id="lifetimes-of-tokens" tabindex="-1">Lifetimes of tokens <a class="header-anchor" href="#lifetimes-of-tokens" aria-hidden="true">#</a></h3><p>The default expiry time of JWT and Refresh Tokens below can be overridden when registering the <code>JwtAuthProvider</code>:</p><div class="language-csharp"><pre><code><span class="token keyword">new</span> <span class="token constructor-invocation class-name">JwtAuthProvider</span> <span class="token punctuation">{</span>
    ExpireTokensIn        <span class="token operator">=</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromDays</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// JWT Token Expiry</span>
    ExpireRefreshTokensIn <span class="token operator">=</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromDays</span><span class="token punctuation">(</span><span class="token number">365</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// Refresh Token Expiry</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="using-jwt-and-refresh-tokens" tabindex="-1">Using JWT and Refresh Tokens <a class="header-anchor" href="#using-jwt-and-refresh-tokens" aria-hidden="true">#</a></h3><p>In order to provide the simplest development experience possible you only need to specify the Refresh Token on the Service Client and it will take care of transparently fetching a new JWT Token behind-the-scenes. You don&#39;t even need to configure the client with a JWT Token as it will just fetch a new one on first use, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonServiceClient</span><span class="token punctuation">(</span>baseUrl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    RefreshToken <span class="token operator">=</span> refreshToken<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Secured</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="fluent-validation-upgraded" tabindex="-1">Fluent Validation Upgraded <a class="header-anchor" href="#fluent-validation-upgraded" aria-hidden="true">#</a></h2><p>Another major feature added in this release was contributed by the community with <a href="https://github.com/wwwlicious" target="_blank" rel="noopener noreferrer">Scott Mackay</a> upgrading our internal Fluent Validation implementation to the latest version of <a href="https://github.com/JeremySkinner/FluentValidation" target="_blank" rel="noopener noreferrer">FluentValidation</a>. Special care was taken to maintain backwards compatibility where ServiceStack enhancements were retrofitted on top of the new version and existing Error Codes were preserved to ensure minimal disruption with existing code bases.</p><h3 id="async-validators" tabindex="-1">Async Validators <a class="header-anchor" href="#async-validators" aria-hidden="true">#</a></h3><p>One of the benefits from using the latest version of Fluent Validation is we now have support for Async Validators! Async validators can be registered using the <code>MustAsync</code> validator where you could simulate the following built-in <strong>Not Empty</strong> validation:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRequestValidator</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AbstractValidator<span class="token punctuation">&lt;</span>MyRequest<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MyRequestValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">RuleFor</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">NotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>And replace it with an Async version that uses the <a href="/service-gateway.html">Service Gateway</a> to call a custom Async <code>GetStringLength</code> Service that returns the same <code>ErrorCode</code> and Error Message as the <strong>Not Empty</strong> validator:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRequestValidator</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AbstractValidator<span class="token punctuation">&lt;</span>MyRequest<span class="token punctuation">&gt;</span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MyRequestValidator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">RuleFor</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">MustAsync</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>s<span class="token punctuation">,</span> token<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
            <span class="token punctuation">(</span><span class="token keyword">await</span> Gateway<span class="token punctuation">.</span><span class="token function">SendAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">GetStringLength</span> <span class="token punctuation">{</span> Value <span class="token operator">=</span> s <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Result <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">WithMessage</span><span class="token punctuation">(</span><span class="token string">&quot;&#39;Name&#39; should not be empty.&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">WithErrorCode</span><span class="token punctuation">(</span><span class="token string">&quot;NotEmpty&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="async-global-request-filters" tabindex="-1">Async Global Request Filters <a class="header-anchor" href="#async-global-request-filters" aria-hidden="true">#</a></h2><p>To properly implement Async Validators we also needed Async Request Filters which were also added in this release where you can now register non-blocking Request Filters with:</p><div class="language-csharp"><pre><code>GlobalRequestFiltersAsync<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">,</span>dto<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">CheckRateLimit</span> <span class="token punctuation">{</span> 
        Service <span class="token operator">=</span> dto<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name<span class="token punctuation">,</span>
        IpAddress <span class="token operator">=</span> req<span class="token punctuation">.</span>UserHostAddress<span class="token punctuation">,</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>RateLimitExceeded<span class="token punctuation">)</span> 
     <span class="token punctuation">{</span>
         res<span class="token punctuation">.</span>StatusCode <span class="token operator">=</span> <span class="token number">403</span><span class="token punctuation">;</span>
         res<span class="token punctuation">.</span>StatusDescription <span class="token operator">=</span> <span class="token string">&quot;RateLimitExceeded&quot;</span><span class="token punctuation">;</span>
         res<span class="token punctuation">.</span><span class="token function">EndRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="enhanced-compression-options" tabindex="-1">Enhanced Compression Options <a class="header-anchor" href="#enhanced-compression-options" aria-hidden="true">#</a></h2><p>We&#39;ve followed up <a href="/releases/v4.5.6.html#clientserver-request-compression">Request Compression</a> added in the last release with more compression features in this release including:</p><h3 id="compressresponse-attribute" tabindex="-1"><code>[CompressResponse]</code> Attribute <a class="header-anchor" href="#compressresponse-attribute" aria-hidden="true">#</a></h3><p>You can now selectively choose which Services should be compressed with the new <code>[CompressResponse]</code> attribute to compress responses for clients which support compression, which can be applied to most Response Types, e.g:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">CompressResponse</span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CompressedServices</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Service</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Any</span><span class="token punctuation">(</span><span class="token class-name">CompressDto</span> request<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">CompressExamplesResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Any</span><span class="token punctuation">(</span><span class="token class-name">CompressString</span> request<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Any</span><span class="token punctuation">(</span><span class="token class-name">CompressBytes</span> request<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">.</span><span class="token function">ToUtf8Bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Any</span><span class="token punctuation">(</span><span class="token class-name">CompressStream</span> request<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MemoryStream</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">.</span><span class="token function">ToUtf8Bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Any</span><span class="token punctuation">(</span><span class="token class-name">CompressFile</span> request<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HttpResult</span><span class="token punctuation">(</span>VirtualFileSources<span class="token punctuation">.</span><span class="token function">GetFile</span><span class="token punctuation">(</span><span class="token string">&quot;/foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Any</span><span class="token punctuation">(</span><span class="token class-name">CompressAnyHttpResult</span> request<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HttpResult</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">CompressExamplesResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// DTO</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HttpResult</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// string</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">HttpResult</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">.</span><span class="token function">ToUtf8Bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bytes</span>
        <span class="token comment">//etc</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>Note using <code>[CompressResponse]</code> is unnecessary when returning <a href="/http-caching.html">cached responses</a> as ServiceStack automatically caches and returns the most optimal Response - typically compressed bytes for clients that supports compression</p></blockquote><h3 id="static-file-compression" tabindex="-1">Static File Compression <a class="header-anchor" href="#static-file-compression" aria-hidden="true">#</a></h3><p>ServiceStack can also be configured to compress static files with specific file extensions that are larger than specific size with the new opt-in Config options below:</p><div class="language-csharp"><pre><code><span class="token function">SetConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">HostConfig</span> <span class="token punctuation">{</span>
    CompressFilesWithExtensions <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// (optional), only compress .js or .css files &gt; 10k</span>
    CompressFilesLargerThanBytes <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">*</span> <span class="token number">1024</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>When more fine-grained logic is needed you can override <code>ShouldCompressFile()</code> in your AppHost to choose which static files you want to compress on a per-file basis, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">ShouldCompressFile</span><span class="token punctuation">(</span><span class="token class-name">IVirtualFile</span> file<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">ShouldCompressFile</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token operator">||</span> file<span class="token punctuation">.</span>Name <span class="token operator">==</span> <span class="token string">&quot;large.csv&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="community" tabindex="-1">Community <a class="header-anchor" href="#community" aria-hidden="true">#</a></h2><p>We&#39;ve been lucky to receive a number of quality contributions from the Community in this release starting with the new <a href="https://serilog.net" target="_blank" rel="noopener noreferrer">Serilog</a> Logging provider contributed by <a href="https://github.com/englerj" target="_blank" rel="noopener noreferrer">Josh Engler</a>:</p><h3 id="servicestack-logging-serilog" tabindex="-1">ServiceStack.Logging.Serilog <a class="header-anchor" href="#servicestack-logging-serilog" aria-hidden="true">#</a></h3><p>To Configure Serilog Logging, first download <a href="https://www.nuget.org/packages/ServiceStack.Logging.Serilog" target="_blank" rel="noopener noreferrer">ServiceStack.Logging.Serilog</a> from NuGet:</p><pre><code>PM&gt; Install-Package ServiceStack.Logging.Serilog
</code></pre><p>Then configure ServiceStack to use <code>SerilogFactory</code>:</p><div class="language-csharp"><pre><code>LogManager<span class="token punctuation">.</span>LogFactory <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SerilogFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="community-projects" tabindex="-1">Community Projects <a class="header-anchor" href="#community-projects" aria-hidden="true">#</a></h2><p>There&#39;s also been a number of quality OSS Community projects that&#39;s surfaced recently that you may find useful to enable in your ServiceStack projects:</p><h3 id="servicestack-webhooks" tabindex="-1"><a href="https://github.com/jezzsantos/ServiceStack.Webhooks" target="_blank" rel="noopener noreferrer">ServiceStack.Webhooks</a> <a class="header-anchor" href="#servicestack-webhooks" aria-hidden="true">#</a></h3><p>If you need to implement a Webhooks solution for your Services you&#39;ll definitely want to check out <a href="https://github.com/jezzsantos/ServiceStack.Webhooks" target="_blank" rel="noopener noreferrer">ServiceStack.Webhooks</a> by <a href="https://github.com/jezzsantos" target="_blank" rel="noopener noreferrer">@jezzsantos</a>. ServiceStack.Webhooks is a high-quality, actively developed, <a href="https://github.com/jezzsantos/ServiceStack.Webhooks/wiki" target="_blank" rel="noopener noreferrer">well documented</a> solution for raising and managing application-level &quot;events&quot; raised by your services:</p><p><img src="https://raw.githubusercontent.com/jezzsantos/ServiceStack.Webhooks/master/docs/images/Webhooks.Architecture.PNG" alt=""></p><h3 id="servicestack-authentication-azure" tabindex="-1"><a href="https://github.com/ticky74/ServiceStack.Authentication.Azure" target="_blank" rel="noopener noreferrer">ServiceStack.Authentication.Azure</a> <a class="header-anchor" href="#servicestack-authentication-azure" aria-hidden="true">#</a></h3><p><a href="https://github.com/ticky74/ServiceStack.Authentication.Azure" target="_blank" rel="noopener noreferrer">ServiceStack.Authentication.Azure</a> is a fork of <a href="https://github.com/jfoshee/ServiceStack.Authentication.Aad" target="_blank" rel="noopener noreferrer">ServiceStack.Authentication.Aad</a> developed by <a href="https://github.com/ticky74" target="_blank" rel="noopener noreferrer">Ian Kulmatycki</a> which provides an <code>AzureAuthenticationProvider</code> for easily authenticating users with Office365 and hybrid Azure Active Directories.</p><h3 id="servicestack-authentication-marten" tabindex="-1"><a href="https://github.com/migajek/ServiceStack.Authentication.Marten" target="_blank" rel="noopener noreferrer">ServiceStack.Authentication.Marten</a> <a class="header-anchor" href="#servicestack-authentication-marten" aria-hidden="true">#</a></h3><p><a href="https://github.com/migajek/ServiceStack.Authentication.Marten" target="_blank" rel="noopener noreferrer">ServiceStack.Authentication.Marten</a> is a <code>UserAuthRepository</code> repository developed by <a href="https://github.com/migajek" target="_blank" rel="noopener noreferrer">Michał Gajek</a> for persisting users in <a href="http://jasperfx.github.io/marten/getting_started/" target="_blank" rel="noopener noreferrer">Marten</a> - a Document Database for PostgreSQL.</p><h3 id="multiappsettingsbuilder" tabindex="-1">MultiAppSettingsBuilder <a class="header-anchor" href="#multiappsettingsbuilder" aria-hidden="true">#</a></h3><p>Another feature contributed by <a href="https://github.com/englerj" target="_blank" rel="noopener noreferrer">Josh Engler</a> is the <code>MultiAppSettingsBuilder</code> which adds a fluent discoverable API for configuring ServiceStack&#39;s various <a href="/appsettings.html">App Setting Providers</a>, e.g:</p><div class="language-csharp"><pre><code>AppSettings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MultiAppSettingsBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddAppSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddDictionarySettings</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> <span class="token string">&quot;override&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;setting&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddEnvironmentalVariables</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddTextFile</span><span class="token punctuation">(</span><span class="token string">&quot;~/path/to/settings.txt&quot;</span><span class="token punctuation">.</span><span class="token function">MapProjectPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="cacheclient-with-prefix" tabindex="-1">CacheClient with Prefix <a class="header-anchor" href="#cacheclient-with-prefix" aria-hidden="true">#</a></h3><p>The <code>CacheClientWithPrefix</code> class contributed by <a href="https://github.com/joelharkes" target="_blank" rel="noopener noreferrer">@joelharkes</a> lets you decorate any <code>ICacheClient</code> to prefix all cache keys using the <code>.WithPrefix()</code> extension method. This could be used to easily enable multi-tenant usage of a single redis instance, e.g:</p><div class="language-csharp"><pre><code>container<span class="token punctuation">.</span><span class="token function">Register</span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span> 
    c<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Resolve</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IRedisClientsManager<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetCacheClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithPrefix</span><span class="token punctuation">(</span><span class="token string">&quot;site1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ormlite-soft-deletes" tabindex="-1">OrmLite Soft Deletes <a class="header-anchor" href="#ormlite-soft-deletes" aria-hidden="true">#</a></h3><p>Select Filters were added to OrmLite to let you specify a custom <code>SelectFilter</code> that lets you modify queries that use <code>SqlExpression&lt;T&gt;</code> before they&#39;re executed. This could be used to make working with &quot;Soft Deletes&quot; Tables easier where it can be made to apply a custom <code>x.IsDeleted != true</code> condition on every <code>SqlExpression</code>.</p><p>By either using a <code>SelectFilter</code> on concrete POCO Table Types, e.g:</p><div class="language-csharp"><pre><code>SqlExpression<span class="token operator">&lt;</span>Table1<span class="token operator">&gt;</span><span class="token punctuation">.</span>SelectFilter <span class="token operator">=</span> q <span class="token operator">=&gt;</span> q<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>IsDeleted <span class="token operator">!=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
SqlExpression<span class="token operator">&lt;</span>Table2<span class="token operator">&gt;</span><span class="token punctuation">.</span>SelectFilter <span class="token operator">=</span> q <span class="token operator">=&gt;</span> q<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>IsDeleted <span class="token operator">!=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Or alternatively you can configure a global <code>SqlExpressionSelectFilter</code> with:</p><div class="language-csharp"><pre><code>OrmLiteConfig<span class="token punctuation">.</span>SqlExpressionSelectFilter <span class="token operator">=</span> q <span class="token operator">=&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token punctuation">.</span>ModelDef<span class="token punctuation">.</span>ModelType<span class="token punctuation">.</span><span class="token function">HasInterface</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">ISoftDelete</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        q<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Where</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ISoftDelete<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>IsDeleted <span class="token operator">!=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Both solutions above will transparently add the <code>x.IsDeleted != true</code> to all <code>SqlExpression&lt;T&gt;</code> based queries so it only returns results which aren&#39;t <code>IsDeleted</code> from any of queries below:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> results <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">From</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Table<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">Single</span><span class="token punctuation">(</span>db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">From</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Table<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Name <span class="token operator">==</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">Single</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Name <span class="token operator">==</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="servicestack-text-2" tabindex="-1">ServiceStack.Text <a class="header-anchor" href="#servicestack-text-2" aria-hidden="true">#</a></h2><p>You can easily escape HTML Entities characters (<code>&lt;</code>, <code>&gt;</code>, <code>&amp;</code>, <code>=</code>, <code>&#39;</code>) when serializing JSON strings with:</p><div class="language-csharp"><pre><code>JsConfig<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Config</span> <span class="token punctuation">{</span> EscapeHtmlChars <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This can also be requested by clients using <a href="/customize-json-responses.html">Customized JSON Responses</a>, e.g:</p><pre><code>/my-api?jsconfig=EscapeHtmlChars
</code></pre><h2 id="rabbit-mq" tabindex="-1">Rabbit MQ <a class="header-anchor" href="#rabbit-mq" aria-hidden="true">#</a></h2><p>A strong-named version of ServiceStack.RabbitMq is now available at:</p><pre><code>PM&gt; Install-Package ServiceStack.RabbitMq.Signed
</code></pre><p>The new <code>CreateQueueFilter</code> and <code>CreateTopicFilter</code> filters added to the <a href="/rabbit-mq.html">Rabbit MQ Server</a> will let you customize what options Rabbit MQ Queue&#39;s and topics are created with.</p><h2 id="startup-errors" tabindex="-1">Startup Errors <a class="header-anchor" href="#startup-errors" aria-hidden="true">#</a></h2><p>To better highlight the presence of Startup Errors we&#39;re now adding a red warning banner in <code>/metadata</code> pages when in <a href="/debugging.html#debugmode">DebugMode</a>, e.g:</p><p><img src="/assets/startup-errors.96679a2d.png" alt=""></p><p>The number of Startup Errors is also added to the <code>X-Startup-Errors: n</code> Global HTTP Header so you&#39;ll be able to notice it when debugging HTTP Traffic.</p><h3 id="forcing-a-content-type" tabindex="-1">Forcing a Content Type <a class="header-anchor" href="#forcing-a-content-type" aria-hidden="true">#</a></h3><p>Whilst ServiceStack Services are typically available on any endpoint and format, there are times when you only want adhoc Services available in a particular format, for instance you may only want the View Models for your dynamic Web Views available in HTML. This can now be easily enabled with the new <code>[HtmlOnly]</code> Request Filter Attribute, e.g:</p><div class="language-cshtml"><pre><code>[HtmlOnly]
public class HtmlServices : Service
{
    public object Any(MyRequest request) =&gt; new MyViewModel { .. };
}
</code></pre></div><p>This feature is also available for other built-in Content Types: <code>[JsonOnly]</code>, <code>[XmlOnly]</code>, <code>[JsvOnly]</code> and <code>[CsvOnly]</code>.</p><h3 id="authprovider-available-on-iauthsession" tabindex="-1">AuthProvider available on IAuthSession <a class="header-anchor" href="#authprovider-available-on-iauthsession" aria-hidden="true">#</a></h3><p>You can now determine what Auth Provider was used to populate a User&#39;s Session with the new <code>IAuthSession.AuthProvider</code> property. This could be used for instance to detect and ensure highly-sensitive services are only available to users that authenticated using a specific Auth Provider.</p><h2 id="all-net-core-examples-upgraded-to-net-core-1-1" tabindex="-1">All .NET Core Examples upgraded to .NET Core 1.1 <a class="header-anchor" href="#all-net-core-examples-upgraded-to-net-core-1-1" aria-hidden="true">#</a></h2><p>All .NET Core Live examples including the <strong>redis-geo</strong> project used in <a href="/deploy-netcore-docker-aws-ecs.html">Deploy .NET Core with Docker to AWS ECS Guide</a> were upgraded to .NET Core 1.1 and has been changed to use the <code>microsoft/dotnet:1.1-sdk-projectjson</code> Docker Image since <code>microsoft/dotnet:latest</code> was changed to only support projects with VS 2017 <code>.csproj</code> msbuild format.</p><p>This covers a high-level view of the major features added in this release, please see the <a href="/releases/v4.5.8.html">v4.5.8 Release Notes</a> for the full details and other features added in this release.</p><h1 id="v4-5-6-release-notes" tabindex="-1"><a href="/releases/v4.5.6.html">v4.5.6 Release Notes</a> <a class="header-anchor" href="#v4-5-6-release-notes" aria-hidden="true">#</a></h1><p>For the full details of this release please see the <a href="https://docs.servicestack.net/releases/v4.5.6" target="_blank" rel="noopener noreferrer">full v4.5.6 release notes</a>.</p><h2 id="new-angular2-single-page-app-template" tabindex="-1">New Angular2 Single Page App template! <a class="header-anchor" href="#new-angular2-single-page-app-template" aria-hidden="true">#</a></h2><p>We&#39;ve added a new modern SPA <a href="http://VS.NET" target="_blank" rel="noopener noreferrer">VS.NET</a> Template for Angular2 which is built the same npm-based TypeScript / JSPM / Gulp technology stack that&#39;s solidified in our other SPA templates with the main difference being that it&#39;s based on the <em>Material Design Lite</em> theme.</p><p>The Angular2 template also takes advantage of Angular2&#39;s modular architecture with a physical structure optimal for small-to-medium sized projects where its modular layout is compartmentalized into multiple independent sub modules which can easily scale to support large code bases.</p><h2 id="simpler-and-optimized-single-page-app-templates" tabindex="-1">Simpler and Optimized Single Page App Templates <a class="header-anchor" href="#simpler-and-optimized-single-page-app-templates" aria-hidden="true">#</a></h2><p>We&#39;ve also simplified all our existing npm-based SPA Templates to take advantage of the latest dependencies which can simplify our existing development workflow, some changes include:</p><h3 id="upgraded-to-jspm-0-17-beta" tabindex="-1">Upgraded to JSPM 0.17 beta <a class="header-anchor" href="#upgraded-to-jspm-0-17-beta" aria-hidden="true">#</a></h3><p>One of the benefits of using JSPM 0.17 beta is we&#39;re now using its built-in static builds with Rollup optimizations for production deployments which statically links your entire App&#39;s JavaScript into a single <code>app.js</code>, eliminating the need for <code>system.js</code> at runtime and removing the packaging overhead from using modules.</p><h3 id="removed-interim-deps-tsx" tabindex="-1">Removed interim deps.tsx <a class="header-anchor" href="#removed-interim-deps-tsx" aria-hidden="true">#</a></h3><p>The interim <code>deps.tsx</code> file used to minimize the number of requests required during development is no longer needed. We&#39;re now able to generate a cache of 3rd party npm dependencies using your App&#39;s main .js file and your dependencies listed in npm&#39;s <code>package.json</code>.</p><h3 id="simplified-typings" tabindex="-1">Simplified Typings <a class="header-anchor" href="#simplified-typings" aria-hidden="true">#</a></h3><p>The typings dependency manager has been removed leaving one less <code>typings.json</code> that needs to be maintained. Templates now use TypeScript&#39;s new @types definitions directly from npm or when they exist, the definitions contained in each npm package that&#39;s referenced in <em>devDependencies</em>.</p><h3 id="upgraded-to-latest-bootstrap-v4" tabindex="-1">Upgraded to latest Bootstrap v4 <a class="header-anchor" href="#upgraded-to-latest-bootstrap-v4" aria-hidden="true">#</a></h3><p>The React and Aurelia SPA Templates have been upgraded to use the just released Bootstrap v4 alpha-6.</p><h2 id="enhanced-typescript-support" tabindex="-1">Enhanced TypeScript Support <a class="header-anchor" href="#enhanced-typescript-support" aria-hidden="true">#</a></h2><p>The SPA Templates also benefit from our enhanced TypeScript support with improvements to both the generated TypeScript DTOs and the <code>JsonServiceClient</code> which now includes TypeScript Definitions published with the npm package.</p><ul><li><em>Support for Basic Auth</em> - Basic Auth support is now implemented in <code>JsonServiceClient</code> and follows the same API made available in the C# Service Clients</li><li><em>Raw Data Responses</em> - The <code>JsonServiceClient</code> also supports Raw Data responses like <code>string</code> and <code>byte[]</code></li></ul><h2 id="swift-3" tabindex="-1">Swift 3 <a class="header-anchor" href="#swift-3" aria-hidden="true">#</a></h2><p>Swift Add ServiceStack Reference and the Swift <code>JsonServiceClient</code> has been upgraded to Swift 3 including its embedded PromiseKit implementation. The earlier Swift 2 compiler bugs preventing AutoQuery Services from working have now been resolved.</p><h3 id="swiftref-osx-command-line-utility" tabindex="-1"><a href="https://github.com/ServiceStack/swiftref" target="_blank" rel="noopener noreferrer">swiftref OSX command-line utility</a> <a class="header-anchor" href="#swiftref-osx-command-line-utility" aria-hidden="true">#</a></h3><p>In response to XcodeGhost, Apple has killed support for plugins in Xcode 8 disabling all existing 3rd party plugins from working, and along with it our Integration with Xcode built into ServiceStack Xcode Plugin.</p><p>To enable the best development experience we can without using an Xcode plugin we&#39;ve developed the swiftref OSX command-line utility to provide a simple command-line UX to easily Add and Update Swift ServiceStack References.</p><p>Installation and Usage instructions for swiftref are available from: <a href="https://github.com/ServiceStack/swiftref" target="_blank" rel="noopener noreferrer">https://github.com/ServiceStack/swiftref</a></p><h3 id="all-swift-example-apps-upgraded-to-swift-3" tabindex="-1">All Swift Example Apps upgraded to Swift 3 <a class="header-anchor" href="#all-swift-example-apps-upgraded-to-swift-3" aria-hidden="true">#</a></h3><p>Our existing Swift Example Apps have all been upgraded to use ServiceStack&#39;s new Swift 3 Support:</p><ul><li><a href="https://github.com/ServiceStackApps/TechStacksApp" target="_blank" rel="noopener noreferrer">TechStacks iOS App</a></li><li><a href="https://github.com/ServiceStackApps/TechStacksDesktopApp" target="_blank" rel="noopener noreferrer">TechStacks Desktop Cocoa OSX App</a></li><li><a href="https://github.com/ServiceStackApps/AutoQueryViewer" target="_blank" rel="noopener noreferrer">AutoQuery Viewer iOS App</a></li><li><a href="https://github.com/mythz/swift-linq-examples" target="_blank" rel="noopener noreferrer">101 Swift LINQ Samples</a></li></ul><h3 id="swift-package-manager-apps" tabindex="-1"><a href="https://github.com/ServiceStack/SwiftClient" target="_blank" rel="noopener noreferrer">Swift Package Manager Apps</a> <a class="header-anchor" href="#swift-package-manager-apps" aria-hidden="true">#</a></h3><p>In its quest to become a popular mainstream language, Swift now includes a built-in Package Manager to simplify the maintenance, distribution and building of Swift code. Swift Package Manager can be used to build native statically-linked modules or Console Apps but currently has no support for iOS, watchOS, or tvOS platforms.</p><p>Nevertheless it&#39;s simple console and text-based programming model provides a great way to quickly develop prototypes or Console-based Swift Apps like swiftref using your favorite text editor. To support this environment we&#39;ve packaged ServiceStack&#39;s Swift Service clients into a <em>ServiceStackClient</em> package so it can be easily referenced in Swift PM projects.</p><p>A step-by-step guide showing how to build Swift PM Apps is available at: <a href="https://github.com/ServiceStackApps/swift-techstacks-console" target="_blank" rel="noopener noreferrer">https://github.com/ServiceStackApps/swift-techstacks-console</a></p><h3 id="service-fabric-example" tabindex="-1"><a href="https://github.com/ServiceStackApps/HelloServiceFabric" target="_blank" rel="noopener noreferrer">Service Fabric Example</a> <a class="header-anchor" href="#service-fabric-example" aria-hidden="true">#</a></h3><p>Another Example project developed during this release is <a href="https://github.com/ServiceStackApps/HelloServiceFabric" target="_blank" rel="noopener noreferrer">Hello ServiceFabric</a> to show a Hello World example of running a ServiceStack Self Hosted Service inside Microsoft&#39;s Service Fabric platform.</p><h3 id="performance-improvements" tabindex="-1">Performance Improvements <a class="header-anchor" href="#performance-improvements" aria-hidden="true">#</a></h3><p>Our first support for .NET Core was primarily focused on compatibility and deep integration with .NET Core&#39;s Pipeline, Modules and Conventions. In this release we focused on performance and memory usage which we kicked off by developing a benchmarking solution for automatically spinning up Azure VM&#39;s that we use to run benchmarking and load tests against: <a href="https://github.com/NetCoreApps/Benchmarking" target="_blank" rel="noopener noreferrer">https://github.com/NetCoreApps/Benchmarking</a></p><p>A simple JSON Service running our initial .NET Core support in v4.5.4 release yields <em>Requests/Sec Average</em>:</p><ul><li>.NET Core 1.1 <strong>26179</strong></li><li>mono 4.6.2 (nginx+hyperfasctcgi) <strong>6428</strong></li></ul><p>Running on Standard_F4s azure instance (4 Core, 8GB RAM) using the following <a href="https://github.com/wg/wrk" target="_blank" rel="noopener noreferrer">wrk benchmarking tool</a> command:</p><pre><code>wrk -c 256 -t 8 -d 30 http://benchmarking_url
</code></pre><p>Using <strong>8 threads</strong>, keeping <strong>256 concurrent HTTP Connections</strong> open, Running for <strong>30s</strong>.</p><p>With the profiling and performance improvements added in this release, the same service now yields:</p><ul><li>.NET Core 1.1 <strong>37073</strong></li><li>mono 4.6.2 (nginx+hyperfasctcgi) <strong>6840</strong></li></ul><p>Which is over a <strong>40% improvement</strong> for this benchmark since last release. Running the same ServiceStack Service on the same VM also shows us that .NET Core is <strong>5.4x faster</strong> than Mono.</p><h3 id="upgraded-to-net-core-1-1" tabindex="-1">Upgraded to .NET Core 1.1 <a class="header-anchor" href="#upgraded-to-net-core-1-1" aria-hidden="true">#</a></h3><p>We&#39;re closely following .NET Core&#39;s progress and continue to upgrade ServiceStack libraries and their test suites to run on the latest stable .NET Core 1.1 release.</p><h3 id="client-server-request-compression" tabindex="-1">Client/Server Request Compression <a class="header-anchor" href="#client-server-request-compression" aria-hidden="true">#</a></h3><p>You can now also elect to compress HTTP Requests in any C#/.NET Service Clients by specifying the Compression Type you wish to use, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonServiceClient</span><span class="token punctuation">(</span>baseUrl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    RequestCompressionType <span class="token operator">=</span> CompressionTypes<span class="token punctuation">.</span>GZip<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="filesystem-mapping" tabindex="-1">FileSystem Mapping <a class="header-anchor" href="#filesystem-mapping" aria-hidden="true">#</a></h3><p>Custom FileSystem mappings can now be easily registered under a specific alias by overriding your AppHost&#39;s <code>GetVirtualFileSources()</code> and registering a custom <code>FileSystemMapping</code>, e.g:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>IVirtualPathProvider<span class="token punctuation">&gt;</span></span> <span class="token function">GetVirtualFileSources</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> existingProviders <span class="token operator">=</span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetVirtualFileSources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    existingProviders<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemMapping</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;img&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i:\\images&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    existingProviders<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">FileSystemMapping</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;docs&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d:\\documents&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> existingProviders<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This will let you access File System Resources under the custom <code>/img</code> and <code>/doc</code> routes, e.g:</p><ul><li><a href="http://host/img/the-image.jpg" target="_blank" rel="noopener noreferrer">http://host/img/the-image.jpg</a></li><li><a href="http://host/docs/word.doc" target="_blank" rel="noopener noreferrer">http://host/docs/word.doc</a></li></ul><h2 id="ormlite-1" tabindex="-1">OrmLite <a class="header-anchor" href="#ormlite-1" aria-hidden="true">#</a></h2><h3 id="sql-server-features" tabindex="-1">SQL Server Features <a class="header-anchor" href="#sql-server-features" aria-hidden="true">#</a></h3><p>Kevin Howard has continued enhancing the SQL Server Support in OrmLite with access to advanced SQL Server features including Memory-Optimized Tables where you can tell SQL Server to maintain specific tables in Memory using the <code>[SqlServerMemoryOptimized]</code> attribute, e.g:</p><div class="language-csharp"><pre><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">SqlServerMemoryOptimized</span><span class="token attribute-arguments"><span class="token punctuation">(</span>SqlServerDurability<span class="token punctuation">.</span>SchemaOnly<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SqlServerMemoryOptimizedCacheEntry</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ICacheEntry</span></span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">PrimaryKey</span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">StringLength</span><span class="token attribute-arguments"><span class="token punctuation">(</span>StringLengthAttribute<span class="token punctuation">.</span>MaxText<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">SqlServerBucketCount</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token number">10000000</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">StringLength</span><span class="token attribute-arguments"><span class="token punctuation">(</span>StringLengthAttribute<span class="token punctuation">.</span>MaxText<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Data <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime</span> CreatedDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime<span class="token punctuation">?</span></span> ExpiryDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DateTime</span> ModifiedDate <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The new Memory Optimized support can be used to improve the performance of SQL Server <code>OrmLiteCacheClient</code> by configuring it to use the above In Memory Table Schema instead, e.g:</p><div class="language-csharp"><pre><code>container<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Register</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ICacheClient<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span> 
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">OrmLiteCacheClient<span class="token punctuation">&lt;</span>SqlServerMemoryOptimizedCacheEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="postgresql-data-types" tabindex="-1">PostgreSQL Data Types <a class="header-anchor" href="#postgresql-data-types" aria-hidden="true">#</a></h3><p>To make it a little nicer to be define custom PostgreSQL columns, we&#39;ve added <code>[PgSql*]</code> specific attributes which will let you use a typed <code>[PgSqlJson]</code> instead of previously needing to use <code>[CustomField(&quot;json&quot;)]</code>.</p><p>The list of PostgreSQL Attributes include:</p><div class="language-csharp"><pre><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyPostgreSqlTable</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">PgSqlJson</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Poco<span class="token punctuation">&gt;</span></span> AsJson <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">PgSqlJsonB</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Poco<span class="token punctuation">&gt;</span></span> AsJsonB <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">PgSqlTextArray</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> AsTextArray <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">PgSqlIntArray</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> AsIntArray <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">PgSqlBigIntArray</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">long</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> AsLongArray <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="net-core-support-for-mysql" tabindex="-1">.NET Core support for MySql <a class="header-anchor" href="#net-core-support-for-mysql" aria-hidden="true">#</a></h3><p>You can now use OrmLite with MySQL in .NET Core using the new <a href="https://www.nuget.org/packages/ServiceStack.OrmLite.MySql.Core" target="_blank" rel="noopener noreferrer">ServiceStack.OrmLite.MySql.Core</a> NuGet package.</p><h3 id="create-tables-without-foreign-keys" tabindex="-1">Create Tables without Foreign Keys <a class="header-anchor" href="#create-tables-without-foreign-keys" aria-hidden="true">#</a></h3><p>You can temporarily disable and tell OrmLite to create tables without Foreign Keys by setting <code>OrmLiteConfig.SkipForeignKeys = true</code>.</p><h3 id="custom-sqlexpression-filter" tabindex="-1">Custom SqlExpression Filter <a class="header-anchor" href="#custom-sqlexpression-filter" aria-hidden="true">#</a></h3><p>The generated SQL from a Typed <code>SqlExpression</code> can now be customized using the new <code>.WithSqlFilter()</code>, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> q <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">From</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Table<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Age <span class="token operator">==</span> <span class="token number">27</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">WithSqlFilter</span><span class="token punctuation">(</span>sql <span class="token operator">=&gt;</span> sql <span class="token operator">+</span> <span class="token string">&quot; option (recompile)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> q <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">From</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Table<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>Age <span class="token operator">==</span> <span class="token number">27</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">WithSqlFilter</span><span class="token punctuation">(</span>sql <span class="token operator">=&gt;</span> sql <span class="token operator">+</span> <span class="token string">&quot; WITH UPDLOCK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name"><span class="token keyword">var</span></span> results <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="custom-sql-fragments" tabindex="-1">Custom SQL Fragments <a class="header-anchor" href="#custom-sql-fragments" aria-hidden="true">#</a></h3><p>The new <code>Sql.Custom()</code> API lets you use raw SQL Fragments in Custom <code>.Select()</code> expressions, e.g:</p><div class="language-csharp"><pre><code><span class="token class-name"><span class="token keyword">var</span></span> q <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">From</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Table<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>x <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token punctuation">{</span>
        FirstName <span class="token operator">=</span> x<span class="token punctuation">.</span>FirstName<span class="token punctuation">,</span>
        LastName <span class="token operator">=</span> x<span class="token punctuation">.</span>LastName<span class="token punctuation">,</span>
        Initials <span class="token operator">=</span> Sql<span class="token punctuation">.</span><span class="token function">Custom</span><span class="token punctuation">(</span><span class="token string">&quot;CONCAT(LEFT(FirstName,1), LEFT(LastName,1))&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="cached-api-key-sessions" tabindex="-1">Cached API Key Sessions <a class="header-anchor" href="#cached-api-key-sessions" aria-hidden="true">#</a></h3><p>You can reduce the number of I/O Requests and improve the performance of API Key Auth Provider Requests by specifying a <code>SessionCacheDuration</code> to temporarily store the Authenticated UserSession against the API Key which will reduce subsequent API Key requests down to 1 DB call to fetch and validate the API Key + 1 Cache Hit to restore the User&#39;s Session which if you&#39;re using the default in-memory Cache will mean it only requires 1 I/O call for the DB request. This can be enabled with:</p><div class="language-csharp"><pre><code>Plugins<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthFeature</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token constructor-invocation class-name">IAuthProvider<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ApiKeyAuthProvider</span><span class="token punctuation">(</span>AppSettings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            SessionCacheDuration <span class="token operator">=</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromMinutes</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>That covers the major features, for the full details please see the full release notes at: <a href="https://docs.servicestack.net/releases/v4.5.6" target="_blank" rel="noopener noreferrer">https://docs.servicestack.net/releases/v4.5.6</a></p><h1 id="_2016-release-notes-summary" tabindex="-1"><a href="/releases/2016-summary.html">2016 Release Notes Summary</a> <a class="header-anchor" href="#_2016-release-notes-summary" aria-hidden="true">#</a></h1></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><a class="link" href="https://github.com/ServiceStack/vitepress-docs/edit/master/docs/releases/index.md" target="_blank" rel="noopener noreferrer" data-v-1ed99556>Edit this page on GitHub <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-1ed99556><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-fb8d84c6><p class="last-updated" data-v-fb8d84c6 data-v-5797b537><span class="prefix" data-v-5797b537>Last Updated:</span><span class="datetime" data-v-5797b537></span></p></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"access-http-specific-features-in-services.md\":\"66b61b08\",\"add-servicestack-reference.md\":\"ef0463e9\",\"adhoc-utils.md\":\"2f7f331b\",\"admin-users.md\":\"5b2e4510\",\"advanced-deployment-octopus-deploy.md\":\"4999496d\",\"advantages-of-message-based-web-services.md\":\"dd2c4b0e\",\"amazon-sqs-mq.md\":\"368da457\",\"api-design.md\":\"90451664\",\"api-first-development.md\":\"94a219ca\",\"api-key-authprovider.md\":\"affe14fc\",\"appsettings.md\":\"336da350\",\"architecture-overview.md\":\"c2ad052f\",\"artists.md\":\"c6cd4be0\",\"auth-anti-forgery.md\":\"e2e86064\",\"auth-openid.md\":\"5955c958\",\"auth-repository.md\":\"a79be98a\",\"auth-restricting-services.md\":\"040a2547\",\"auth-signin-with-apple.md\":\"a9199064\",\"auth.md\":\"542baf6f\",\"authentication-and-authorization.md\":\"59deb2c7\",\"authentication-identity-aspnet.md\":\"cacf583b\",\"authentication-identity-servicestack.md\":\"9380ee95\",\"authentication-identityserver.md\":\"4dc977c0\",\"auto-batched-requests.md\":\"2b199a57\",\"auto-mapping.md\":\"55bece18\",\"autoquery-audit-log.md\":\"28b0d76c\",\"autoquery-autogen.md\":\"05f39f8a\",\"autoquery-crud-bookings.md\":\"59b187bf\",\"autoquery-crud.md\":\"f6bdfd5f\",\"autoquery-data.md\":\"f4bfbb1f\",\"autoquery-dynamodb.md\":\"b729faa4\",\"autoquery-memory.md\":\"647cfc82\",\"autoquery-rdbms.md\":\"8e70fd55\",\"autoquery-service.md\":\"77fd8d39\",\"autoquery.md\":\"33f6182a\",\"aws-getting-started.md\":\"88229fb6\",\"aws-pocodynamo.md\":\"f57228dd\",\"aws.md\":\"49b717e3\",\"azure-service-bus-mq.md\":\"27868090\",\"azure.md\":\"1baf3d53\",\"background-mq.md\":\"518eada8\",\"benchmarks.md\":\"40079707\",\"built-in-profiling.md\":\"5beeed4b\",\"bundling-and-minification.md\":\"6578a148\",\"cache-aware-clients.md\":\"13e7dda6\",\"cacheresponse-attribute.md\":\"4cca5a0a\",\"caching.md\":\"c7ff5c39\",\"cancellable-requests.md\":\"54e94d00\",\"clients-overview.md\":\"e7abea3a\",\"code-contribution-guide.md\":\"6f6be298\",\"community-resources.md\":\"edde2481\",\"compiled-razor-views.md\":\"c90f2059\",\"compression.md\":\"956de67b\",\"concurrency-model.md\":\"c133438f\",\"config-api.md\":\"f808fbf8\",\"contributing.md\":\"9ea7ad6c\",\"contributors.md\":\"2a2e9f14\",\"corsfeature.md\":\"d39b84ef\",\"create-webservice-from-scratch.md\":\"ec3d1a9c\",\"create-your-first-webservice.md\":\"886b67be\",\"csharp-add-servicestack-reference.md\":\"69d295bd\",\"csharp-client.md\":\"c5b8ed28\",\"csharp-server-events-client.md\":\"793e7c31\",\"csv-format.md\":\"3f3c2000\",\"customize-http-responses.md\":\"be47ad94\",\"customize-json-responses.md\":\"a9f0b2de\",\"dart-add-servicestack-reference.md\":\"1c6e2ab2\",\"dart-client.md\":\"1f43063e\",\"debugging.md\":\"1304fa2f\",\"declarative-validation.md\":\"ac7f6b4e\",\"deploy-multiple-sites-to-aws.md\":\"69f2df74\",\"deploy-netcore-docker-aws-ecs.md\":\"309fd3e8\",\"deploy-netcore-to-amazon-linux-2-ami.md\":\"038d9767\",\"design-message-based-apis.md\":\"841a27e4\",\"design-rest-services.md\":\"395352f9\",\"do-github-action-mix-deployment.md\":\"35ef5c19\",\"dotnet-new.md\":\"ef72a7e8\",\"dotnet-tool.md\":\"96253527\",\"dump-utils.md\":\"dcf7871a\",\"encrypted-messaging.md\":\"f370384a\",\"endpoints.md\":\"de4f77d8\",\"error-handling.md\":\"91be27c9\",\"explore-servicestack.md\":\"a12dafd5\",\"filter-attributes.md\":\"4cf2103b\",\"form-hijacking-prevention.md\":\"3bc9833d\",\"formats.md\":\"2a3509d9\",\"fsharp-add-servicestack-reference.md\":\"b5ec8c5d\",\"fsharp.md\":\"19b182e2\",\"github-action-templates.md\":\"4616e8d8\",\"grpc-android.md\":\"346fb5f1\",\"grpc-csharp.md\":\"207bb8a5\",\"grpc-dart.md\":\"10a94573\",\"grpc-flutter.md\":\"7ee2bb3f\",\"grpc-generic.md\":\"b66621b9\",\"grpc-go.md\":\"1f410471\",\"grpc-java.md\":\"b8ca3bcc\",\"grpc-nodejs.md\":\"43a551fd\",\"grpc-php.md\":\"1b77d22d\",\"grpc-python.md\":\"dd54984c\",\"grpc-ruby.md\":\"b0bd9c1c\",\"grpc-ssl.md\":\"21ef6927\",\"grpc-swift.md\":\"d4ae51db\",\"grpc.md\":\"2f50f865\",\"host-configuration.md\":\"a8594dad\",\"hot-reloading.md\":\"d046dab3\",\"how-to-contribute.md\":\"c8df7458\",\"howto-write-unit-integration-tests.md\":\"e9799481\",\"html-css-and-javascript-minification.md\":\"8f7027de\",\"html5reportformat.md\":\"bd5b6ff9\",\"http-caching.md\":\"ce1d4041\",\"http-utils.md\":\"51d79a73\",\"iis.md\":\"c8f773b4\",\"index.md\":\"978d0564\",\"install-rabbitmq-windows.md\":\"12fc5071\",\"install-redis-windows.md\":\"f8081d5d\",\"ioc.md\":\"d1fac909\",\"jamstack-with-vitepress-servicestack.md\":\"fcfede11\",\"java-add-servicestack-reference.md\":\"9044893a\",\"java-server-events-client.md\":\"2b25c24e\",\"java.md\":\"387331a0\",\"javascript-client.md\":\"92153f9b\",\"javascript-server-events-client.md\":\"a2291718\",\"js-utils.md\":\"2469c22b\",\"json-format.md\":\"fdf65226\",\"json-jsv-and-xml.md\":\"51bf42cd\",\"jsv-format.md\":\"f0e5ea1e\",\"jupyter-notebooks-csharp.md\":\"db62ef58\",\"jupyter-notebooks-fsharp.md\":\"d73f3087\",\"jupyter-notebooks-python.md\":\"25f157ed\",\"jupyter-notebooks-reporting.md\":\"0cb622b4\",\"jupyter-notebooks.md\":\"15738137\",\"jwt-authprovider.md\":\"f319d877\",\"kotlin-add-servicestack-reference.md\":\"77874eb3\",\"learning-servicestack.md\":\"ae30c949\",\"linux-hosting-options.md\":\"e29d8e17\",\"lisp-tcp-repl-server.md\":\"5f15ef53\",\"logging.md\":\"82d425ab\",\"markdown-razor.md\":\"77f4e47a\",\"messagepack-format.md\":\"321cfc83\",\"messaging.md\":\"fdaae8b3\",\"metadata-page.md\":\"4d9b0c2a\",\"mix-github-actions-aws-ecs.md\":\"d6d5a446\",\"mix-tool.md\":\"87fd5da2\",\"modular-startup.md\":\"4a305881\",\"modularizing-services.md\":\"5f84ba6e\",\"mono.md\":\"ec78f06c\",\"multitenancy.md\":\"4bad39d4\",\"mvc-integration.md\":\"71b30f49\",\"myget.md\":\"7b24ee6f\",\"navigation.md\":\"0109d10d\",\"netcore-deploy-rsync.md\":\"514b810b\",\"netcore-localhost-cert.md\":\"e8db6a19\",\"netcore-razor.md\":\"fd9bef58\",\"netcore-redis.md\":\"74e06e9e\",\"netcore-windows-desktop.md\":\"4450baff\",\"netcore.md\":\"2d8acbd1\",\"nhibernate.md\":\"dcc29a18\",\"npm-new.md\":\"0eb8afff\",\"nuget.md\":\"8ed96175\",\"openapi.md\":\"cee4211d\",\"order-of-operations.md\":\"3f3172f1\",\"oss.md\":\"511b97f7\",\"physical-project-structure.md\":\"fbfc62fc\",\"plugins.md\":\"524f5700\",\"post-command.md\":\"95abd0a9\",\"postman.md\":\"95098e43\",\"prerequisites.md\":\"b22e4d5e\",\"protobuf-format.md\":\"aa9f84f3\",\"proxy-feature.md\":\"99ac096d\",\"python-add-servicestack-reference.md\":\"39acf12d\",\"rabbit-mq.md\":\"197cde66\",\"razor-notes.md\":\"59c29818\",\"razor-ui-controls.md\":\"b75f612e\",\"razor-views-vs-content-pages.md\":\"31702757\",\"real-world-performance.md\":\"df6aab87\",\"redis-mq.md\":\"3ed201be\",\"redis-server-events.md\":\"925e927a\",\"reflection-utils.md\":\"fbd08993\",\"register.md\":\"9f84bd54\",\"release-notes-history.md\":\"07623a6f\",\"release-notes-v3.md\":\"d19ab802\",\"release-notes.md\":\"606db993\",\"releases_2016-summary.md\":\"0f2c90f2\",\"releases_index.md\":\"7e7ccbc9\",\"releases_v4.0.0.md\":\"044f6a74\",\"releases_v4.0.06.md\":\"940fdbed\",\"releases_v4.0.08.md\":\"e9783d7c\",\"releases_v4.0.09.md\":\"7a4d6fba\",\"releases_v4.0.10.md\":\"e415cdba\",\"releases_v4.0.11.md\":\"ac13f716\",\"releases_v4.0.12.md\":\"840ed5ae\",\"releases_v4.0.15.md\":\"383720e9\",\"releases_v4.0.18.md\":\"8a75cd1e\",\"releases_v4.0.19.md\":\"9ab152ed\",\"releases_v4.0.21.md\":\"945f585b\",\"releases_v4.0.22.md\":\"f712b832\",\"releases_v4.0.23.md\":\"81d760c8\",\"releases_v4.0.24.md\":\"bd54b2a6\",\"releases_v4.0.30.md\":\"06ac851c\",\"releases_v4.0.31.md\":\"52bb88f0\",\"releases_v4.0.32.md\":\"bb9dd2ab\",\"releases_v4.0.33.md\":\"401d5f09\",\"releases_v4.0.34.md\":\"94df036d\",\"releases_v4.0.35.md\":\"95351474\",\"releases_v4.0.36.md\":\"71303882\",\"releases_v4.0.38.md\":\"6bd5a329\",\"releases_v4.0.40.md\":\"baa5ed3a\",\"releases_v4.0.42.md\":\"5382b5b8\",\"releases_v4.0.44.md\":\"d05de3cc\",\"releases_v4.0.46.md\":\"759436ce\",\"releases_v4.0.48.md\":\"2d0d5648\",\"releases_v4.0.50.md\":\"a68f8a4e\",\"releases_v4.0.52.md\":\"e8b47ba7\",\"releases_v4.0.54.md\":\"f7e17324\",\"releases_v4.0.56.md\":\"a014c98c\",\"releases_v4.0.58.md\":\"fe723956\",\"releases_v4.0.60.md\":\"aa5ba462\",\"releases_v4.0.62.md\":\"8c3813ad\",\"releases_v4.5.0.md\":\"4be5ddaa\",\"releases_v4.5.10.md\":\"29b07021\",\"releases_v4.5.12.md\":\"c1892c37\",\"releases_v4.5.14.md\":\"79978b05\",\"releases_v4.5.2.md\":\"8ef762bb\",\"releases_v4.5.4.md\":\"eae4d8ee\",\"releases_v4.5.6.md\":\"d71fc972\",\"releases_v4.5.8.md\":\"3ece29a2\",\"releases_v5.0.0.md\":\"9e4d5c5f\",\"releases_v5.1.0.md\":\"922a5372\",\"releases_v5.10.md\":\"35369439\",\"releases_v5.11.md\":\"9ae9cf2f\",\"releases_v5.12.md\":\"31ec898b\",\"releases_v5.2.md\":\"1365b238\",\"releases_v5.4.md\":\"9ea6fe7e\",\"releases_v5.5.md\":\"2dfcb789\",\"releases_v5.6.md\":\"146d13f5\",\"releases_v5.7.md\":\"59ccf431\",\"releases_v5.8.md\":\"4f5add42\",\"releases_v5.9.md\":\"c5b43f9d\",\"request-and-response-filters.md\":\"c350df0b\",\"request-logger.md\":\"3eb3e956\",\"roadmap.md\":\"3e014472\",\"routing.md\":\"f1b06428\",\"self-hosting.md\":\"775ec881\",\"serialization-deserialization.md\":\"2611c4ac\",\"server-events-grpc.md\":\"01d76699\",\"server-events.md\":\"e1c7eea5\",\"server-ui-controls.md\":\"f9650217\",\"service-complexity-and-dto-roles.md\":\"c15152f1\",\"service-discovery.md\":\"4d6066cd\",\"service-gateway.md\":\"42b79d8a\",\"service-return-types.md\":\"02b527c1\",\"servicestack-as-daemon-on-linux.md\":\"df813d45\",\"servicestack-client-umd.md\":\"ec85b8fb\",\"servicestack-handler-resolution.md\":\"188a9c49\",\"servicestack-in-fastcgi-hosted-on-nginx.md\":\"c8240507\",\"servicestack-integration.md\":\"49bda0a7\",\"servicestack-side-by-side-with-another-web-framework.md\":\"3fe71141\",\"servicify.md\":\"05115cfd\",\"sessions.md\":\"85df15f8\",\"silverlight-client.md\":\"a3541f41\",\"simple-deployments-to-aws.md\":\"06769e2d\",\"simple-ioc.md\":\"6b1edcd5\",\"sitemaps.md\":\"ba0bc059\",\"soap-support.md\":\"60b03a1c\",\"ss-utils-js.md\":\"acfc6da0\",\"ssl-redis-azure.md\":\"cc39490f\",\"starlibs.md\":\"f148f60d\",\"studio-autoquery.md\":\"18d0e0ab\",\"studio-users.md\":\"a654ece6\",\"studio-validation-rules.md\":\"d9011ce8\",\"studio.md\":\"1911c8ae\",\"svg.md\":\"d64249fc\",\"swagger-api.md\":\"172d0849\",\"swift-add-servicestack-reference.md\":\"f23e76dc\",\"swift.md\":\"24c17483\",\"templates-angular.md\":\"064beced\",\"templates-angularjs-v15.md\":\"456c04cc\",\"templates-aspnet-empty.md\":\"e4b1a628\",\"templates-aws.md\":\"e49a9cfb\",\"templates-blazor.md\":\"9967d45d\",\"templates-corefx.md\":\"8404cf98\",\"templates-desktop.md\":\"eee16e19\",\"templates-dotnet-scripts.md\":\"0c18bfd0\",\"templates-empty-starting.md\":\"30d42ccb\",\"templates-install-servicestackvs.md\":\"9efa0a97\",\"templates-lite.md\":\"3087a747\",\"templates-nuxt.md\":\"fd40035e\",\"templates-overview.md\":\"60a94a24\",\"templates-react.md\":\"a8a9f381\",\"templates-single-page-apps.md\":\"5226051c\",\"templates-spa-components.md\":\"cb26b751\",\"templates-svelte.md\":\"6e3888cb\",\"templates-vue.md\":\"5cfb9e18\",\"templates-vuetify.md\":\"457cded6\",\"templates-webpack.md\":\"f3b823ba\",\"templates-websites.md\":\"464a670e\",\"templates-windows-service.md\":\"94a6a445\",\"testing.md\":\"46c54473\",\"typescript-add-servicestack-reference.md\":\"47ad6388\",\"typescript-server-events-client.md\":\"e30beee6\",\"validation.md\":\"a370658a\",\"vbnet-add-servicestack-reference.md\":\"9f256fa6\",\"vbnet.md\":\"afc01a3e\",\"versioning.md\":\"d9f17bd4\",\"view-and-template-selection.md\":\"3728be2f\",\"virtual-file-system.md\":\"7378e85d\",\"vue-components.md\":\"6c373aa6\",\"web-apply.md\":\"4ece3da2\",\"web-new.md\":\"c00987ff\",\"web-services.md\":\"d504f246\",\"web-tool.md\":\"cbd340dd\",\"web-trouble.md\":\"2c1928e8\",\"webhooks.md\":\"bfae9c5b\",\"what-is-a-message-based-web-service.md\":\"520f034f\",\"why-not-odata.md\":\"8d9046e7\",\"why-not-razor.md\":\"adfa47b1\",\"why-remote-services-use-dtos.md\":\"2cace0fa\",\"why-servicestack.md\":\"a2426366\",\"wire-format.md\":\"30475322\",\"world-validation.md\":\"69f3d92f\",\"your-first-webservice-explained.md\":\"335a41db\",\"ztest.md\":\"49b1f09d\"}")</script>
    <script type="module" async src="/assets/app.14440598.js"></script>
    
  </body>
</html>